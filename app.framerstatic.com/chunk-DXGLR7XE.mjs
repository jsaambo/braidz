import{e as S,g as l}from"https://app.framerstatic.com/chunk-TVZZ4XBH.mjs";import{Yb as p,Yi as f,td as P,wd as d,zd as g}from"https://app.framerstatic.com/chunk-HOZEDTF7.mjs";import{g as c}from"https://app.framerstatic.com/chunk-YSPPHHKT.mjs";import{a as m}from"https://app.framerstatic.com/chunk-WNSBRACC.mjs";function h(e){return e.userIsViewer?l:c.isAutomation||c.isTest?S:e.acl.find(o=>o.user.id===e.userId)?.permissions??l}var u=class{constructor(t){this.aclPermissions=t}get canDesign(){return this.aclPermissions.canDesign==="on"}get canEditContent(){return this.aclPermissions.canEditContent==="on"}get canPublish(){return this.aclPermissions.canPublish==="on"}get canEditSiteSettings(){return this.canDesign&&this.canEditContent&&this.canPublish}get canPublishToStaging(){return this.canDesign||this.canEditContent||this.canPublish}get canInviteCollaborators(){return this.canDesign||this.canEditContent||this.canPublish}get canEditVariables(){return this.canDesign}get canAddCollections(){return this.canDesign}get canEditAnalytics(){return this.canDesign||this.canEditContent}get canEditLocales(){return this.canDesign}get canEditLocalizedValues(){return this.canEditContent}get canSendDiffs(){return this.canDesign||this.canEditContent}},x=f({canDesign:"Design",canEditContent:"Content",canPublish:"Deploy",canEditSiteSettings:"Design and Content and Deploy",canPublishToStaging:"Design or Content or Deploy",canInviteCollaborators:"Design or Content or Deploy",canEditVariables:"Design",canAddCollections:"Design",canEditAnalytics:"Design or Content",canEditLocales:"Design",canEditLocalizedValues:"Content",canSendDiffs:"Design or Content"});function T(e){let t=h(e);return new u(t)}var b=e=>[e.chromeStore,e.projectStore,e.sessionStore],C=([e,t,o])=>({userIsViewer:e.userIsViewer,acl:t.acl,userId:o.user.id});function I(e,t,o,{signal:r}){let i=b(e),s=C(i),a=t.changes.observe(...i,()=>{let n=C(i);p(s,n)||(s=n,o(n))});r.addEventListener("abort",()=>{t.changes.removeObserver(a)},{once:!0})}function j(e,t){let o,r,i,s;for(let n of e)d(n,!0)?(t===n.id&&(o=o??n),n.dataIdentifier?i=i??n:r=r??n):g(n,!0)&&(s=s??n);let a=o??r??i??s;return m(a,"getFirstCanvasPageOrWebPageNode: Tree must contain at least one Canvas Page or Web Page"),a}function k(e){return e?d(e,!0)||g(e,!0)||P(e,!0):!1}export{h as a,u as b,x as c,T as d,b as e,C as f,I as g,j as h,k as i};
//# sourceMappingURL=https://app.framerstatic.com/chunk-DXGLR7XE.mjs.map
