import{$ as Cg,$f as sy,A as gg,B as yg,Gf as ey,Hf as ty,Ic as Vg,K as Sg,Pf as ry,Rf as oy,Sc as Io,Tc as Is,Td as Ni,Tf as ny,Uc as Fg,Uf as Wn,Vc as Lg,Wc as Eg,Xc as Ag,Yc as Og,Yd as Dc,Zc as zg,Zd as Bn,_c as Ts,_d as ws,aa as vg,ad as xt,bd as Ns,cd as Wg,cf as Qg,dd as $g,df as Zg,ed as Hg,ef as Rs,eg as _o,fd as Gg,gd as Ug,gg as dy,ha as bg,hf as On,hg as Ms,id as Jg,ig as Ry,jg as xy,la as Mc,mb as bs,ng as My,qf as zn,se as Yg,tb as Ng,za as Ig}from"https://app.framerstatic.com/chunk-K34SIOE2.mjs";import{d as Rg,i as xg,t as Mg}from"https://app.framerstatic.com/chunk-ALMIM4K3.mjs";import{E as Iy,a as Dg,c as kg,d as Pg,g as Ti}from"https://app.framerstatic.com/chunk-PSALBDCX.mjs";import{i as Kg}from"https://app.framerstatic.com/chunk-JB3A7NVR.mjs";import{k as Vc}from"https://app.framerstatic.com/chunk-HTH46QE2.mjs";import{b as Sr}from"https://app.framerstatic.com/chunk-ZWQYHZGP.mjs";import{K as hg}from"https://app.framerstatic.com/chunk-TVZZ4XBH.mjs";import{a as Lc,b as yy}from"https://app.framerstatic.com/chunk-UGATCWJQ.mjs";import{q as jg}from"https://app.framerstatic.com/chunk-SXPCJYOO.mjs";import{a as Xg,c as uy,d as my,e as py,f as fy,g as Fc,i as hy,l as gy,m as Vs,n as Sy,o as Cy,p as vy,q as by,t as wy}from"https://app.framerstatic.com/chunk-ZBJMNAKD.mjs";import{a as iy,b as kc,c as ay,e as Pc}from"https://app.framerstatic.com/chunk-LRCH44M6.mjs";import{d as wg,f as _r,g as Bg,i as _g,j as qg}from"https://app.framerstatic.com/chunk-2BBEOARH.mjs";import{a as xs}from"https://app.framerstatic.com/chunk-PABHF7FN.mjs";import{a as Tg}from"https://app.framerstatic.com/chunk-5RPZUZJP.mjs";import{$ as vp,$b as xh,$e as Kh,Ac as us,Bb as gh,Bc as Ph,Bf as ug,Bg as Ss,Db as ds,Df as Rc,Ed as hs,Fb as yh,Fc as Fh,Fd as gs,Fe as An,Fg as Cs,Gb as Sh,Ge as _h,Gg as mg,Hb as Ch,Ib as Ct,Ie as jh,Jb as Ln,Jc as ms,Jg as pg,Kb as vh,Lb as En,Mc as Lh,Nb as bh,Nc as Eh,Nd as Oh,Ne as Xh,Ob as Ih,Od as zh,Pb as Th,Pc as Ah,Pd as Wh,Qd as wc,T as At,U as dp,Ua as ch,W as mp,Wa as ls,Y as Sp,Z as Cp,Zb as wh,_b as Rh,_d as $h,_e as qh,a as tp,af as Yh,cd as Bh,da as Tp,ea as Np,eb as dh,ee as Hh,fb as uh,ga as Rn,gb as mh,ge as Gh,gf as Qh,h as rp,hf as Zh,if as eg,ja as Ha,jb as ph,kb as fh,lb as bo,mb as it,nb as cs,nc as Mh,of as tg,pe as Uh,pf as rg,qe as Jh,qf as og,rd as ps,rf as ng,sd as fs,sf as ig,ub as Nc,uc as Vh,vf as ag,wb as Jo,wc as Dh,wf as sg,wg as ys,xb as hh,xf as lg,yc as kh,yf as cg,zf as dg}from"https://app.framerstatic.com/chunk-GVEIL7AP.mjs";import{e as St,k as Uo,m as lh,v as Nh}from"https://app.framerstatic.com/chunk-HQZYWAIC.mjs";import{f as Ht}from"https://app.framerstatic.com/chunk-TQ6SMIXL.mjs";import{b as Ny,d as Ec}from"https://app.framerstatic.com/chunk-MK7ULH4H.mjs";import{Ke as vs,Tg as Ii}from"https://app.framerstatic.com/chunk-SJWII7XM.mjs";import{a as Ty}from"https://app.framerstatic.com/chunk-3MTXVS5U.mjs";import{e as ly,i as cy,j as jr}from"https://app.framerstatic.com/chunk-7I74MBRW.mjs";import{$g as yr,$h as Wf,Ag as es,Be as qa,Bg as ts,C as $a,Cg as gf,Ci as ah,Df as Cc,E as gr,Ed as zp,Ei as vo,Fg as yf,Fh as Mf,Fi as sh,Hd as Wp,Hf as Ya,Hh as Vf,Jb as Rp,Jc as Ga,Jd as vi,Jf as lf,Jg as Sf,Kg as Cf,Kh as Ic,La as up,Lh as Df,Me as _p,Mg as Co,Mh as kf,Ne as jp,Ng as rs,Nh as Tc,Og as Pn,Oh as Pf,Pg as Fn,Ph as Ff,Qc as Ua,Qe as Xp,Qg as os,R as ip,Rb as xp,Re as qp,Rf as cf,Rg as vf,Rh as Lf,Sa as pp,Sh as Ef,T as ap,Ta as j,Te as Kp,Tg as bf,Th as Af,Ua as fp,Ub as Mp,Ue as Ho,Uh as Bf,V as sp,Vc as Ur,Wa as O,Wc as Vp,Wf as df,Xa as Ue,Xc as yo,Xf as vc,Xg as If,Ya as $o,Yc as Jr,Ye as Yp,Yh as Of,Zc as Dp,Ze as Qp,Zh as zf,_c as kp,_f as bc,_g as Tf,ab as hp,af as Zp,ag as uf,ai as $f,bb as gp,bi as Hf,cb as yp,ce as yc,cf as rf,ci as Gf,db as bp,dd as Ja,de as $p,dg as bi,dh as Nf,di as Uf,ee as Hp,eg as Dn,ei as Jf,f as op,fb as Ip,fd as Lp,ff as of,fi as _f,gd as _a,gi as jf,hd as Ep,hi as Xf,id as Vn,ig as mf,ii as qf,jd as gc,ji as Kf,k as Tn,kb as wn,kd as Ap,kf as nf,kg as pf,ki as Yf,le as Gp,lf as af,mc as xn,me as Up,mi as Qf,n as Ba,ni as Zf,o as sr,od as ja,og as ff,oh as as,oi as eh,p as Wo,qd as Bp,qe as Jp,r as Nn,rd as Op,rg as w,ri as th,s as Oa,sg as Go,si as rh,t as za,tb as wp,tg as Qa,ti as oh,u as np,ua as lp,ub as nt,ud as Xa,ug as Vr,uh as ss,vh as wf,wg as kn,wi as nh,xg as hf,y as Wa,ye as Sc,yf as sf,yh as Rf,zg as Za,zh as xf,zi as ih}from"https://app.framerstatic.com/chunk-JQGQBMDT.mjs";import{$b as me,$c as Ft,$g as di,$n as pm,$p as wm,$s as Et,Ab as li,Ad as Cu,Af as Ca,Ah as fn,Ai as wa,Al as Zu,Am as tc,Aq as Cn,Au as yi,B as We,Bd as vu,Bf as xu,Bg as ku,Bi as Bo,Bl as em,Bq as Dm,Bs as Gm,Cd as _e,Ce as mn,Cg as co,Ci as ec,Cl as xa,Ct as cc,Cu as Si,Dd as U,Dj as $u,Dr as Fm,Ed as De,Ef as Mu,Eg as Pu,El as tm,Eo as gm,Er as Lm,Es as Gr,Fd as ga,Fe as je,Fi as Bu,Fu as pc,G as Jl,Gc as Pt,Gd as ot,Gi as Ou,Gm as im,Gr as $t,H as gt,Hc as Su,Hd as ao,He as yt,Hu as fc,I as et,Id as un,It as dc,Jk as ju,Jn as Ma,Jr as La,Jt as Ym,Ju as Q,Kc as k,Ki as zu,Kn as Va,Kp as Da,Ku as v,Lp as zo,Ls as Um,Lu as Nt,Lv as cp,Mm as am,Mr as ac,Ms as sc,Mt as vn,Mu as B,Mv as Rt,Ne as Iu,Nm as sm,Np as Nm,Nr as Em,Nt as Qm,Nu as Ci,Nv as Pp,Oa as du,Oc as ut,Of as Vu,Or as lt,Ou as re,Ov as Fp,Pl as rm,Ps as Jm,Pu as d,Qq as Fa,Qu as he,Rt as Tt,Sm as lm,Sp as ka,Sq as hi,Ss as _m,Su as le,Sv as Mn,To as be,Tp as fi,Tq as ho,Ua as cn,Uh as mi,Uo as ym,Ur as Am,V as iu,Va as ma,Vd as bu,Vh as uo,Vi as Wu,Vo as Sm,Vs as lc,Vu as bn,W as _l,Wc as ci,Wh as Tr,Wk as Xu,Wl as om,Ws as jm,Wu as In,Xa as pa,Xk as qu,Xo as Rr,Xv as Ka,Yb as hu,Yc as fa,Yo as Cm,Yr as Bm,Yv as So,Z as au,Zc as io,Zh as Eu,Zj as Ra,Zv as ef,_c as Wr,_k as po,_s as Xm,_v as tf,ac as dn,ag as Du,ah as Kl,ak as Hu,al as Ku,ao as fm,aq as Rm,as as Om,bc as yu,be as Ir,bj as mo,bu as Zm,ce as so,ch as Yl,cl as Yu,co as hm,de as Ao,di as Ia,dn as cm,dq as xm,ek as Gu,ev as wt,ga as mr,gi as Zl,gs as zm,im as nm,iv as hc,j as Gl,ks as Wm,l as P,ld as ir,lh as Ql,lk as Uu,md as ar,mh as Fu,mm as Lt,nf as Tu,nq as oc,nr as nc,nt as qm,oe as lo,or as ic,ou as Ea,pe as ya,pm as Nr,pr as km,pu as ep,qb as Eo,qd as $r,qp as pi,qr as Pm,qt as Km,rd as ha,rn as dm,rt as go,sa as su,sd as Ee,sh as ui,sn as wr,sq as Hr,ta as lu,tb as pu,td as $e,ti as Ta,tn as um,tq as Mm,tu as uc,ub as fu,ud as pe,ue as Xl,uf as ql,ul as Qu,un as fo,ur as Ge,us as Mr,ut as gi,vd as Me,vh as pn,vi as Au,vq as pt,vu as mc,w as Kd,wd as W,wf as Nu,wh as ba,wq as Pa,ws as $m,xa as cu,xb as si,xf as wu,xk as Ju,xm as Ae,xn as mm,xs as Hm,xv as Aa,y as nu,yd as Ve,yf as Ru,yg as va,yh as He,yi as fr,yk as _u,yn as Oo,zd as Ne,zf as Sa,zh as mt,zi as Na,zm as hn,zq as Vm}from"https://app.framerstatic.com/chunk-HOZEDTF7.mjs";import{a as Tm,b as rc}from"https://app.framerstatic.com/chunk-MWPDEC7Y.mjs";import{c as gn,g as yn,i as vm,r as Sn,u as Kt,v as bm,w as xr,y as hr,z as Im}from"https://app.framerstatic.com/chunk-4DUBS6C5.mjs";import{p as Lo,q as $I,t as gu}from"https://app.framerstatic.com/chunk-65SNUELI.mjs";import{a as Fo,b as kt}from"https://app.framerstatic.com/chunk-4AQCMAAQ.mjs";import{b as ns,c as is}from"https://app.framerstatic.com/chunk-V5IJFYMI.mjs";import{H as Yd}from"https://app.framerstatic.com/chunk-QGRQ6OP4.mjs";import{g as Bt,i as xc,m as fg}from"https://app.framerstatic.com/chunk-YBLHVVPR.mjs";import{b as qd}from"https://app.framerstatic.com/chunk-AUNF3KWQ.mjs";import{a as Qd,b as la,c as Ul,d as Zd,j as eu,m as tu,n as ru,p as ou}from"https://app.framerstatic.com/chunk-VYQ6DBUD.mjs";import{p as st}from"https://app.framerstatic.com/chunk-BMR3NPHE.mjs";import{a as pr,b as A,d as G,e as tt,f as nr,h as uu,i as N,j as da,k as mu,l as rt,n as jl,o as ua}from"https://app.framerstatic.com/chunk-ZQUNXESX.mjs";import{Ia as ca,Vd as Lu,a as WI,b as ln}from"https://app.framerstatic.com/chunk-T3QWMIW2.mjs";import{g as sa}from"https://app.framerstatic.com/chunk-YSPPHHKT.mjs";import{a as Hl,b as jd,g as Xd}from"https://app.framerstatic.com/chunk-YH364MAV.mjs";import{c as _d}from"https://app.framerstatic.com/chunk-N2ANBFPI.mjs";import{B as br,C as Dt,D as Ce,F as $l,G as Ud,H as Fe,J as dt,K as Z,X as zr,ca as Jd,da as ia,ga as qt,i as Gd,ia as aa,l as Re,p as xe,u as fe,y as oe,z as ht}from"https://app.framerstatic.com/chunk-QQLWBJFN.mjs";import{a as g,b as z}from"https://app.framerstatic.com/chunk-WNSBRACC.mjs";import{d as zI,e as no,j as R,k as C,l as H,m as ie,n as Ze}from"https://app.framerstatic.com/chunk-AHQIRSXG.mjs";var wi=new xu(async()=>{let e=await Promise.all([import("https://app.framerstatic.com/dist-UBOM75PL.mjs"),import("https://app.framerstatic.com/dist-UF6DOBKG.mjs"),import("https://app.framerstatic.com/dist-6OEH7E37.mjs"),import("https://app.framerstatic.com/dist-K7NPOJ6B.mjs"),import("https://app.framerstatic.com/dist-3Z7TBJKD.mjs"),import("https://app.framerstatic.com/dist-FUKVCZCW.mjs"),import("https://app.framerstatic.com/dist-2RZSYBZN.mjs"),import("https://app.framerstatic.com/dist-FMNFBH4C.mjs"),import("https://app.framerstatic.com/prosemirror-suggest-GAZWOIMP.mjs")]);return Object.assign({},...e)});function wD(){let e=wi.preload();e&&e.catch(Re)}async function RD(){let e=wi.preload();return e&&await e,wi.read()}function xD(){let e=wi.preload();if(e)throw e;return wi.read()}var{onewayMethodTemplate:$D,voidMethodTemplate:HD,valueMethodTemplate:HI,streamMethodTemplate:GD}=Xd,Ac;(t=>t.service={id:"__ColorSampler__",fingerprint:"2f07b191423077f3239a93a5dec7e417",methods:{sampleColor:{}},newOutgoingWrapper:r=>({sampleColor:HI.bind(-1,"sampleColor",!1,r)})})(Ac||={});var Bc;(o=>{o.service=Ac.service;function t(n){let i=Hl.shared();return{expect:()=>i.expectWithoutDiscovery(o.service,n),discover:a=>i.discover(o.service,n,a),register:a=>i.register({channel:n,service:o.service,implementation:a})}}o.on=t;async function r(n){Hl.shared().unregister(n)}o.unregister=r})(Bc||={});var GI=fe("update-tree-cache-for-vekter");function UI(e,t){return t?uu(t)?t.has(e):t===e:!0}var Oc=[];Object.freeze(Oc);var zc=[];Object.freeze(zc);function JI(e,t,r,o){return Tt(e)?De(e)?o??r??gr.identity():!r||!t?gr.identity():gr.boundingRectMatrix(r,t):r??gr.identity()}function _I(e,t,r,o,n,i,a,s){let l=e.root,c=l.cache,m=l.getLocale(i);c.visible=!0,c.lockedByParent=!1,c.renderId=l.id,ks(c);let u=l.children;for(let p of u)if(!(s&&!UI(p.id,s))){if(St(p)){if(!p.isLoaded())continue;jI(e,p,l,t,r,o,n,m,a)}else Wc(e,p,l,!1,!0,!1,new Map,new Map,!1,null,null,null,null,null,Oc,zc,void 0,void 0,t,r,o,n,m,void 0,void 0,!1,a,void 0);$n(l,p)}return e}function bk(e,t){return _I(e.treeStore.tree,e.layoutCache,e.treeStore.sandboxCollectionData,e.treeStore.sandboxVisibility,P.activeBundleHash,e.chromeStore.canvasLocaleId,e.effectStore.getState(),t)}function jI(e,t,r,o,n,i,a,s,l){let c=t.cache;c.visible=!0,c.lockedByParent=!1,c.renderId=t.id,c.parentRenderId=r.id,ks(c);let m=t.children,{combinedVariableValueMap:u,combinedVariableControlMap:p}=t.combineVariableValueAndControlMaps(e,void 0,void 0,P,n,a,s),f=W(t);for(let h of m)Wc(e,h,t,!1,!0,!1,new Map,new Map,!1,null,null,null,null,null,Oc,zc,u,p,o,n,i,a,s,void 0,void 0,!1,l,f),$n(t,h)}function Wc(e,t,r,o,n,i,a,s,l,c,m,u,p,f,h,y,b,S,I,T,x,V,L,F,J,$,K,ce){let D=t.cache,ye=D.activeVekterLocale;D.activeVekterLocale=L;let{combinedVariableValueMap:ne,combinedVariableControlMap:Y,combinedVariableMapsAreEqual:de}=t.combineVariableValueAndControlMaps(e,b,S,P,T,V,L),ae=Ee(t),Ie=ae?T.isEmpty(t.id):!1,[Je,ee]=QI(e,t,r,a,s,I,T,x);D.groundNodeAncestorId=F?.groundNodeId,D.masterAncestorId=c,D.replicaAncestorId=m,D.overlayAncestorId=u,D.formContainerAncestorId=f;let E=n&&!!Je,ue=!F||gr.equals(D.groundNodeMatrix,F.groundNodeMatrix),we=!ci(t)||D.layout===t.layout,Ye=ye===D.activeVekterLocale,Vt=dc(t,F),Te=!!K?.nodes.has(t.id),_t=Te===D.isEffectPreview&&mr(K?.effectIds??null,D.effectIds)&&(K?.type??null)===D.effectType&&D.webPageEffect===ce,Wt=cc(t)||et.equals(D.viewportRect,Vt);o||=Lt(t);let rr=we&&Ye&&Wt&&_t&&de&&D.insideVariant===o&&D.visible===E&&D.collectionIsEmpty===Ie&&D.lockedByParent===i&&D.lastUpdate===t.update&&D.parentDirected===J&&D.parentDirectedRowHeightFitContent===$&&Fy(t.cache.getRenderInstance(t.id),Je)&&YI(t.cache.secondaryRenderInstances,ee)&&mm(e,t)===D.usesLayoutTemplateRectForModuleIdentifier;if(rr&&ue)return;D.isEffectPreview=Te,D.effectIds=K?.effectIds??null,D.effectType=K?.type??null,D.webPageEffect=ce,D.ancestorRepeaterIds=h,D.repeatedAncestorRepeaterIds=y;let ft=!1;ft&&ft.cacheUpdated(),rr?D.canvasRect=void 0:(ft&&ft.cacheReset(),D.reset(),D.groundNodeAncestorId=F?.groundNodeId,D.masterAncestorId=c,D.replicaAncestorId=m,D.overlayAncestorId=u,D.slotPropertyAncestorId=p,D.formContainerAncestorId=f,D.activeVekterLocale=L,D.visible=E,D.collectionIsEmpty=Ie,D.insideVariant=o,D.lockedByParent=i,D.lastUpdate=t.update,D.parentDirected=J,D.parentDirectedRowHeightFitContent=$,D.viewportRect=Vt,D.layout=ci(t)?t.layout:void 0,D.ancestorRepeaterIds=h,D.repeatedAncestorRepeaterIds=y,D.usesLayoutTemplateRectForModuleIdentifier=fo(t)?t.usesLayoutTemplateRectForModuleIdentifier():void 0,Je&&(D.renderId=t.id,Object.assign(D,Je)),D.secondaryRenderInstances=ee);let{parentRectByRenderIdForChildren:at,parentMatrixByRenderIdForChildren:te,parentUsesDOMRectForChildren:se,groundNodeContextForChildren:ze}=Py(e,t,l,F,I),or=t.children;if(!or)return;let vr=io(t)?t.layout:void 0,oo=Ft(t)&&t.gridRowHeightType==="fit",jt=c;!jt&&pu(t)&&(jt=t.id);let Xt=m;!Xt&&si(t)&&(Xt=t.id);let Qe=Ds(t,h);for(let ct of or){if(!we)for(let[,OI]of ct.cache.iterateRenderInstances())OI.parentRect=void 0;let Or=ae&&Mn(e,ct,t),na=Or&&Ie,Hd=ae&&!Or,BI=st.isOn("visibilityFromSandbox")?E:Or?!na&&E:E;Wc(e,ct,t,o,BI,af(t),at,te,se,jt,Xt,Tt(t)?t.id:u,ya(t)?t.id:p,Mr(t)?t.id:f,Qe,Or?Ds(t,y):y,Hd?b:ne,Hd?S:Y,I,T,x,V,L,ze,vr,oo,K,ce),$n(t,ct)}}function Ik(e,t,r){let o=XI(e,r),n=e.root,i=n.cache;i.visible=!0,i.renderId=n.id,ks(i);let a=n.children;for(let s of a){if(St(s)){if(!s.isLoaded())continue;qI(e,s,n,t,o)}else $c(e,s,n,new Map,new Map,!1,t,o,void 0,!1,void 0);$n(n,s)}return o}function XI(e,t){let r=new Set,o=new Set;function n(a){o.has(a.id)||(r.add(a.id),o.add(a.id),a.children&&a.children.forEach(n))}function i(a){let s=a.id;for(;s&&!r.has(s);)r.add(s),s=e.getNode(s)?.parentid}for(let a of t){let s=e.getNode(a);s&&(i(s),s.children&&s.children.forEach(n))}return r}function Ds(e,t){return Ee(e)?t.length===0?[e.id]:[...t,e.id]:t}function qI(e,t,r,o,n){let i=t.cache;i.visible=!0,i.renderId=t.id,i.parentRenderId=r.id,ks(i);let a=t.children;for(let s of a)$c(e,s,t,new Map,new Map,!1,o,n,void 0,!1,void 0),$n(t,s)}function $c(e,t,r,o,n,i,a,s,l,c,m){if(!s.has(t.id))return;let u=t.cache;if(u.parentDirected=l,u.parentDirectedRowHeightFitContent=c,u.viewportRect=dc(t,m),!u.visible)return;for(let[T,x]of u.iterateRenderInstances()){let V=x.parentRenderId;g(V,"Missing `parentRenderId`"),x.parentRect=o.get(V),x.parentMatrix=n.get(V),x.parentDirectedRect=Ly(t,T,r,a)}let{parentRectByRenderIdForChildren:p,parentMatrixByRenderIdForChildren:f,parentUsesDOMRectForChildren:h,groundNodeContextForChildren:y}=Py(e,t,i,m,a),b=t.children;if(!b)return;let S=io(t)?t.layout:void 0,I=Ft(t)&&t.gridRowHeightType==="fit";for(let T of b)$c(e,T,t,p,f,h,a,s,S,I,y),$n(t,T)}function KI(e,t){if(!t||!yt(e)||!Ae(e))return;let r=new Map;for(let[o,n]of t){let i=n.originX??Cc*n.width,a=n.originY??Cc*n.height,s=gr.identity();Mp||(s=s.translate(e.left??0,e.top??0));let l=s.translate(i,a).multiplySelf(gr.identity().translate(n.x,n.y).multiplySelf(n.matrix)).translateSelf(-i,-a),c=gr.convertPointsWithClipping(l,et.pointsAtOrigin({width:n.width,height:n.height}));r.set(o,{domRect:n,canvasCorners:c,canvasRect:et.boundingRectFromPoints(c)})}return r}function Py(e,t,r,o,n){let i=t.cache,a=n.getRects(t.id);a&&(i.domRects=new Map(a));let s=fo(t)&&!!i.usesLayoutTemplateRectForModuleIdentifier;s&&(i.layoutTemplateRects=KI(t,n.getLayoutTemplateRects(t.id))),i.groundNodeMatrix=o?.groundNodeMatrix??null;let l=fo(t)&&t.usesDOMRectCached(),c=!(l||r),m=!!i.viewportRect||!cc(t),u,p=new Map,f=new Map;for(let[h,y]of i.iterateRenderInstances()){let{parentRect:b,parentMatrix:S,parentDirectedRect:I}=y,T=e.getParentSizeInfo(t,void 0,c,m,h),x=I??t.rect(T,c,void 0,h);p.set(h,x);let V=t.originAdjustedMatrix(T,x,h),L=JI(t,b,S,o?.groundNodeMatrix),F;try{F=L.multiply(V)}catch(ce){GI.reportErrorOncePerMinute(ce,{parentRect:b,frame:x,parentMatrix:L,transformMatrix:V}),F=new DOMMatrix}let J=sf(t)?F:gr.flatProjectionMatrix(F);f.set(h,J),y.matrix=F;let $=e.convertCornerPointsToCanvas(t,!1,void 0,h);y.cornerPoints=$;let K=et.boundingRectFromPoints($);if(y.canvasRect=K,$a(t)&&yf(t)&&t.strokeEnabled){let ce=t.resolveValue("strokeWidth")??0;K=et.inflate(K,ce/2)}s?ky(y,i.getLayoutTemplateContainerRect()?.canvasRect??K):ky(y,K),iy(h)&&(u=o??Ym(t,x,{groundNodeId:t.id,groundNodeMatrix:J}))}return{parentRectByRenderIdForChildren:p,parentMatrixByRenderIdForChildren:f,parentUsesDOMRectForChildren:l,groundNodeContextForChildren:u}}function Vy(e,t,r){if(st.isOn("visibilityFromSandbox"))return r.getVisible(t);let o=Tt(e)&&!e.cache.overlayVisible;return e.isVisible()&&!fu(e)&&!o}function Fy(e,t){return!e&&!t?!0:!e||!t?!1:et.equals(e.parentRect??null,t.parentRect??null)&&gr.equals(e.parentMatrix??null,t.parentMatrix??null)&&et.equals(e.parentDirectedRect??null,t.parentDirectedRect??null)&&hu(e.collectionItemIds,t.collectionItemIds)&&e.collectionItemId===t.collectionItemId}function YI(e,t){if(!e&&!t)return!0;if(!e||!t||e.size!==t.size)return!1;for(let[r,o]of t){let n=e.get(r);if(!Fy(o,n))return!1}return!0}function Dy(e,t,r,o,n,i,a,s,l){return{parentRenderId:o,parentRect:i.get(o),parentMatrix:a.get(o),parentDirectedRect:Ly(e,t,r,s),matrix:void 0,canvasRect:void 0,cornerPoints:void 0,collectionItemIds:l.getItemIds(t),collectionItemId:n,minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0}}function QI(e,t,r,o,n,i,a,s){let l=new Map;if(Ee(r)&&Mn(e,t,r))for(let[u,p]of r.cache.iterateRenderInstances()){let f=p.collectionItemIds;if(f)for(let h=0;h<f.length;h++){let y=f[h];if(!y)continue;let b=ay(u,r.id,y,h),S=kc(b,t.id);Vy(t,S,s)&&l.set(S,Dy(t,S,r,u,y??p.collectionItemId,o,n,i,a))}}else for(let[u,p]of r.cache.iterateRenderInstances()){let f=kc(u,t.id);Vy(t,f,s)&&l.set(f,Dy(t,f,r,u,p.collectionItemId,o,n,i,a))}let c=l.get(t.id);l.delete(t.id);let m=l.size>0?l:void 0;return[c,m]}function ks(e){e.minX=1/0,e.maxX=-1/0,e.minY=1/0,e.maxY=-1/0}function ky(e,t){e.minX=t.x,e.maxX=t.x+t.width,e.minY=t.y,e.maxY=t.y+t.height}function ZI(e,t){e.minX>t.minX&&(e.minX=t.minX),e.maxX<t.maxX&&(e.maxX=t.maxX),e.minY>t.minY&&(e.minY=t.minY),e.maxY<t.maxY&&(e.maxY=t.maxY)}function $n(e,t){for(let[,r]of t.cache.iterateRenderInstances()){let o=r.parentRenderId;g(o,"Missing `parentRenderId`");let n=e.cache.getRenderInstance(o);g(n,"Missing `renderInstance`"),ZI(n,r)}}function Ly(e,t,r,o){if(io(r)&&Nn(e,r))return o.getRect(t)}var Ey="https://app.framerstatic.com/cursor-add-6XAMN4WT.png";var Ay="https://app.framerstatic.com/cursor-add@2x-2LFPOUCY.png";var By="https://app.framerstatic.com/cursor-disconnect-ZKL7EWFU.png";var Oy="https://app.framerstatic.com/cursor-disconnect@2x-OE3AENSJ.png";var zy="https://app.framerstatic.com/cursor-feedback-BOBWQH3Z.png";var Wy="https://app.framerstatic.com/cursor-feedback@2x-6D4B4MBW.png";var $y="https://app.framerstatic.com/cursor-grab-FRV55RHP.png";var Hy="https://app.framerstatic.com/cursor-grab@2x-GIY2VUEH.png";var Gy="https://app.framerstatic.com/cursor-grabbing-OKC4B74I.png";var Uy="https://app.framerstatic.com/cursor-grabbing@2x-WE42DW3I.png";var Jy="https://app.framerstatic.com/cursor-insert-6UGIJVAR.png";var _y="https://app.framerstatic.com/cursor-insert@2x-ZOKYLV6L.png";var jy="https://app.framerstatic.com/cursor-remove-Q4ORWDOQ.png";var Xy="https://app.framerstatic.com/cursor-remove@2x-QZ7R5XN6.png";var qy="https://app.framerstatic.com/cursor-swap-2VDBHJ6M.png";var Ky="https://app.framerstatic.com/cursor-swap@2x-BAI7OT3Z.png";var Yy="https://app.framerstatic.com/cursor-vector-add-L3563YFF.png";var Qy="https://app.framerstatic.com/cursor-vector-add@2x-24A2HJDM.png";var Zy="https://app.framerstatic.com/cursor-vector-point-6OWAA3FG.png";var eS="https://app.framerstatic.com/cursor-vector-point@2x-4OEKRKH6.png";var tS="https://app.framerstatic.com/cursor-vector-OLHKU4LP.png";var rS="https://app.framerstatic.com/cursor-vector@2x-YFL4EEVU.png";var oS="https://app.framerstatic.com/cursor-zoom-in-2YKQ3Z67.png";var nS="https://app.framerstatic.com/cursor-zoom-in@2x-ZUXRFEB6.png";var iS="https://app.framerstatic.com/cursor-zoom-out-IWSRWDMJ.png";var aS="https://app.framerstatic.com/cursor-zoom-out@2x-EW4OYJ5J.png";var sS="https://app.framerstatic.com/resize-east-west-ANAPBU4H.png";var lS="https://app.framerstatic.com/resize-east-west@2x-HS4NZ3H2.png";var cS="https://app.framerstatic.com/resize-east-XHHFSY6J.png";var dS="https://app.framerstatic.com/resize-east@2x-3TA77JQ5.png";var uS="https://app.framerstatic.com/resize-nesw-GL7KYSRE.png";var mS="https://app.framerstatic.com/resize-nesw@2x-7OD4PILK.png";var pS="https://app.framerstatic.com/resize-north-east-OYDCT3XA.png";var fS="https://app.framerstatic.com/resize-north-east@2x-GB4FBRV3.png";var hS="https://app.framerstatic.com/resize-north-south-JYDNIYWS.png";var gS="https://app.framerstatic.com/resize-north-south@2x-IHAJOLEA.png";var yS="https://app.framerstatic.com/resize-north-west-WOGBMCQ7.png";var SS="https://app.framerstatic.com/resize-north-west@2x-CGE2AJ7O.png";var CS="https://app.framerstatic.com/resize-north-TOADQ3IJ.png";var vS="https://app.framerstatic.com/resize-north@2x-U6CXDTI2.png";var bS="https://app.framerstatic.com/resize-nwse-CTXL5YSS.png";var IS="https://app.framerstatic.com/resize-nwse@2x-H5TFIU4Y.png";var TS="https://app.framerstatic.com/resize-south-east-7BL2E7ZY.png";var NS="https://app.framerstatic.com/resize-south-east@2x-YOYUZV36.png";var wS="https://app.framerstatic.com/resize-south-west-EZHHVQZN.png";var RS="https://app.framerstatic.com/resize-south-west@2x-XZTWVP5E.png";var xS="https://app.framerstatic.com/resize-south-MEM66EWG.png";var MS="https://app.framerstatic.com/resize-south@2x-KMVPTHAA.png";var VS="https://app.framerstatic.com/resize-west-GRT5XBDQ.png";var DS="https://app.framerstatic.com/resize-west@2x-DBCUQ6K5.png";var kS="https://app.framerstatic.com/touch-active-CQT44XON.png";var PS="https://app.framerstatic.com/touch-active@2x-N44WHZVB.png";var FS="https://app.framerstatic.com/touch-K4JGV3WE.png";var LS="https://app.framerstatic.com/touch@2x-M3Y2EBTW.png";var ES={"cursor-add":[Ey,Ay],"cursor-disconnect":[By,Oy],"cursor-feedback":[zy,Wy],"cursor-grab":[$y,Hy],"cursor-grabbing":[Gy,Uy],"cursor-insert":[Jy,_y],"cursor-remove":[jy,Xy],"cursor-swap":[qy,Ky],"cursor-vector-add":[Yy,Qy],"cursor-vector-point":[Zy,eS],"cursor-vector":[tS,rS],"cursor-zoom-in":[oS,nS],"cursor-zoom-out":[iS,aS],"resize-nesw":[uS,mS],"resize-nwse":[bS,IS],"resize-north-east":[pS,fS],"resize-north-west":[yS,SS],"resize-south-east":[TS,NS],"resize-south-west":[wS,RS],"resize-east-west":[sS,lS],"resize-west":[VS,DS],"resize-east":[cS,dS],"resize-north-south":[hS,gS],"resize-north":[CS,vS],"resize-south":[xS,MS],"touch-active":[kS,PS],touch:[FS,LS]};var eN=Yd.isFirefox(),lr=(e,t=12)=>{let r=G(t)?t:t.x,o=G(t)?t:t.y,[n,i]=ES[e];return eN?`url(${n}) ${r} ${o}, auto`:`-webkit-image-set(url(${n}) 1x, url(${i}) 2x) ${r} ${o}, default`},Gc={x:6,y:2},EF=lr("cursor-vector",Gc),AF=lr("cursor-vector-add",Gc),BF=lr("cursor-vector-point",Gc),OF=lr("cursor-disconnect",10),zF=lr("cursor-add",10),WF=lr("cursor-remove",10),$F=lr("cursor-swap",{x:3,y:3}),HF=lr("cursor-feedback",{x:16,y:16}),Ps={x:15,y:15},GF=lr("cursor-insert",Ps),UF=lr("cursor-zoom-in",Ps),JF=lr("cursor-zoom-out",Ps),_F=lr("cursor-grabbing",Ps),tN=(e,t)=>{switch(e){case 0:{if(t.x&&t.y)return 8;if(t.x)return 6;if(t.y)return 2;break}case 1:{if(t.x)return 7;break}case 2:{if(t.x&&t.y)return 6;if(t.x)return 8;if(t.y)return 0;break}case 3:{if(t.y)return 5;break}case 5:{if(t.y)return 3;break}case 6:{if(t.x&&t.y)return 2;if(t.x)return 0;if(t.y)return 8;break}case 7:{if(t.x)return 1;break}case 8:{if(t.x&&t.y)return 0;if(t.x)return 2;if(t.y)return 6;break}default:break}return e},rN=e=>8-e,oN=(e,t,r)=>{let{fx:o,fy:n}=e,i=t.findIndex(m=>m.fx===o&&m.fy===n),a=tN(i,r),s=t[a];g(s,"handle must be defined",s,t);let l=rN(a),c=t[l];return g(c,"handle must be defined",c,t),We.angleFromX(c,s)},nN=e=>{switch(e){case 0:return 15;case 1:return 8;case 2:return 9;case 3:return 14;case 5:return 10;case 6:return 13;case 7:return 12;case 8:return 11}},Hn=e=>`url("data:image/svg+xml,<svg width='24' height='24' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><defs><filter x='-21.7%' y='-28.3%' width='143.5%' height='158.4%' filterUnits='objectBoundingBox' id='a'><feOffset in='SourceAlpha' result='shadowOffsetOuter1'/><feGaussianBlur stdDeviation='.5' in='shadowOffsetOuter1' result='shadowBlurOuter1'/><feColorMatrix values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0' in='shadowBlurOuter1' result='shadowMatrixOuter1'/></filter><filter x='-21.7%' y='-28.3%' width='143.5%' height='158.4%' filterUnits='objectBoundingBox' id='c'><feMorphology radius='.25' operator='dilate' in='SourceAlpha' result='shadowSpreadOuter2'/><feOffset in='shadowSpreadOuter2' result='shadowOffsetOuter2'/><feGaussianBlur stdDeviation='.75' in='shadowOffsetOuter2' result='shadowBlurOuter2'/><feColorMatrix values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0' in='shadowBlurOuter2' result='shadowMatrixOuter2'/></filter><path d='M5 10.25v3.5c0 .138.112.25.25.25H13v2.7a.25.25 0 0 0 .415.187l5.37-4.699a.25.25 0 0 0 0-.376l-5.37-4.7a.25.25 0 0 0-.415.189V10H5.25a.25.25 0 0 0-.25.25Z' id='b'/></defs><g fill='none' fill-rule='evenodd'><use fill='%23000' filter='url(%23a)' xlink:href='%23b' transform='translate(0, 0.75) rotate(${e} 0 0)' transform-origin='center center'/><use fill='%23000' filter='url(%23c)' xlink:href='%23b' transform='translate(0, 1) rotate(${e} 0 0)' transform-origin='center center'/><g transform='rotate(${e} 0 0)' transform-origin='center center'><use fill='%23FFF' xlink:href='%23b'/><path fill='%23000' d='M6 11h8V9l3.5 3-3.5 3v-2H6z'/></g></g></svg>") 12 12, pointer`,iN=e=>`url("data:image/svg+xml,<svg width='24' height='24' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><defs><filter x='-17%' y='-30.1%' width='133.9%' height='160.3%' filterUnits='objectBoundingBox' id='a'><feOffset in='SourceAlpha' result='shadowOffsetOuter1'/><feGaussianBlur stdDeviation='.5' in='shadowOffsetOuter1' result='shadowBlurOuter1'/><feColorMatrix values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0' in='shadowBlurOuter1' result='shadowMatrixOuter1'/></filter><filter x='-17%' y='-30.1%' width='133.9%' height='160.3%' filterUnits='objectBoundingBox' id='c'><feMorphology radius='.25' operator='dilate' in='SourceAlpha' result='shadowSpreadOuter2'/><feOffset in='shadowSpreadOuter2' result='shadowOffsetOuter2'/><feGaussianBlur stdDeviation='.75' in='shadowOffsetOuter2' result='shadowBlurOuter2'/><feColorMatrix values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0' in='shadowBlurOuter2' result='shadowMatrixOuter2'/></filter><path d='M9 13.98v2.72a.25.25 0 0 1-.415.187l-5.37-4.699a.25.25 0 0 1 0-.376l5.37-4.7A.25.25 0 0 1 9 7.302V10l6 .02V7.3a.25.25 0 0 1 .415-.187l5.37 4.699a.25.25 0 0 1 0 .376l-5.37 4.7a.25.25 0 0 1-.415-.189V14l-6-.02Z' id='b'/></defs><g fill='none' fill-rule='evenodd'><use fill='%23000' filter='url(%23a)' xlink:href='%23b' transform='translate(0, 0.75) rotate(${e} 0 0)' transform-origin='center center'/><use fill='%23000' filter='url(%23c)' xlink:href='%23b' transform='translate(0, 1) rotate(${e} 0 0)' transform-origin='center center'/><g transform='rotate(${e} 0 0)' transform-origin='center center'><use fill='%23FFF' xlink:href='%23b'/><path fill='%23000' d='M16 13v2l3.5-3L16 9v2H8V9l-3.5 3L8 15v-2z'/></g></g></svg>") 12 12, pointer`,Hc=e=>e+180,aN=(e,t,r)=>{if(t){let o=t.x.max&&t.x.min,n=t.y.max&&t.y.min,i=nN(e),a=i===8||i===12,s=i===14||i===10;if(a&&n||s&&o)return;if(s&&t.x.max)return Hn(Hc(r));if(s&&t.x.min)return Hn(r);if(a&&t.y.max)return Hn(Hc(r));if(a&&t.y.min)return Hn(r);let l=i===15||i===13||i===9||i===11;if(l&&t.x.max&&t.y.max)return Hn(Hc(r));if(l&&t.x.min&&t.y.min)return Hn(r)}return iN(r)},jF=(e,t,r,o={})=>{let n=t.findIndex(i=>i.fx===e.fx&&i.fy===e.fy);if(!(n<-1))return aN(n,r,oN(e,t,o))},sN=e=>{switch(e){case 0:return[6,2];case 2:return[0,8];case 8:return[2,6];case 6:return[8,0];default:return[8,0]}},lN=(e,t)=>{let{fx:r,fy:o}=e,n=t.findIndex(I=>I.fx===r&&I.fy===o),i=t[n];g(i,"handle must be defined",i,t);let[a,s]=sN(n),l=t[a],c=t[s];g(l&&c,"handle must be defined",a,s,t);let m=We.angleFromX(i,l),u=We.angleFromX(i,c),p=Math.abs(m-u),f=(p>180?360-p:p)/2,h=[t[0],t[4],t[2]];return(Ru.isClockwise(h)?m:u)+f-180},cN=e=>`url("data:image/svg+xml,<svg width='24px' height='24px' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><defs><path d='M10.25,20 C10.1119288,20 10,19.8880712 10,19.75 L10,12.6035534 C10,12.4654822 10.1119288,12.3535534 10.25,12.3535534 C10.3163041,12.3535534 10.3798926,12.3798926 10.4267767,12.4267767 L12.9218922,14.9225703 C13.5940823,14.1362843 14,13.1155457 14,12 C14,10.8844543 13.5940823,9.86371572 12.9218922,9.07742971 L10.4267767,11.5732233 C10.3798926,11.6201074 10.3163041,11.6464466 10.25,11.6464466 C10.1119288,11.6464466 10,11.5345178 10,11.3964466 L10,4.25 C10,4.11192881 10.1119288,4 10.25,4 L17.3964466,4 C17.4627507,4 17.5263392,4.02633921 17.5732233,4.0732233 C17.6708544,4.17085438 17.6708544,4.32914562 17.5732233,4.4267767 L15.7556302,6.24518726 C17.1490803,7.75912242 18,9.78018974 18,12 C18,14.2195857 17.1492525,16.2404687 15.7560531,17.7543533 L17.5732233,19.5732233 C17.6708544,19.6708544 17.6708544,19.8291456 17.5732233,19.9267767 C17.5263392,19.9736608 17.4627507,20 17.3964466,20 L10.25,20 Z' id='b'/><filter x='-38.0%' y='-19.0%' width='178.1%' height='137.9%' filterUnits='objectBoundingBox' id='a'><feOffset in='SourceAlpha' result='shadowOffsetOuter1'/><feGaussianBlur stdDeviation='0.5' in='shadowOffsetOuter1' result='shadowBlurOuter1'/><feColorMatrix values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0' in='shadowBlurOuter1' result='shadowMatrixOuter1'/></filter><filter x='-38.0%' y='-19.0%' width='178.1%' height='137.9%' filterUnits='objectBoundingBox' id='c'><feMorphology radius='0.25' operator='dilate' in='SourceAlpha' result='shadowSpreadOuter2'/><feOffset in='shadowSpreadOuter2' result='shadowOffsetOuter2'/><feGaussianBlur stdDeviation='0.75' in='shadowOffsetOuter2' result='shadowBlurOuter2'/><feColorMatrix values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0' in='shadowBlurOuter2' result='shadowMatrixOuter2'/></filter></defs><g fill='none' fill-rule='evenodd'><g transform='translate(0, 0.75) rotate(${e} 12 12)'><use fill='%23000' filter='url(%23a)' xlink:href='%23b'/></g><g transform='translate(0, 1) rotate(${e} 12 12)'><use fill='%23000' filter='url(%23c)' xlink:href='%23b'/></g><g transform='rotate(${e} 12 12)'><use fill='%23FFF' xlink:href='%23b'/><path d='M11,19 L11,14.5 L12.8568184,16.3571474 C14.160342,15.3514059 15,13.7737593 15,12 C15,10.2262407 14.160342,8.6485941 12.8568184,7.64285263 L11,9.5 L11,5 L12.193,4.99949654 L15.5,5 L14.2798125,6.22017067 C15.9414235,7.59584189 17,9.67429905 17,12 C17,14.3257233 15.9414031,16.4041981 14.2797646,17.779869 L15.5,19 L11,19 Z' fill='%23000'/></g></g></svg>") 12 12, pointer`,XF=(e,t)=>cN(lN(e,t));var ZF="appPointerEvents_arpwu8w",eL="appDisablePointerEvents_a1pulxae";var AS=no($I());var Ri=no(ln());async function BS(e,t,r=1/0,o){o??=new Wn(e,{silent:!0});let n=[],i=[],a=[];for(let l of t){if(a.length>=r){i.push(l);continue}if(!is.includes(l.type)){n.push(l);continue}let c=o.add(l);a.push(c)}return n.length>0&&Sr({type:"add",key:"importUploadImagesUnsupported",variant:"warning",text:(0,Ri.jsxs)("span",{className:Ii,children:["Skipped ",n.length," unsupported images"]}),duration:1e4}),i.length>0&&Sr({type:"add",key:"importUploadImagesSkipped",variant:"warning",text:(0,Ri.jsxs)("span",{className:Ii,children:["Skipped ",i.length," images over field limit"]}),duration:1e4}),Uc(o,a).catch(()=>{}),(await Promise.all(a)).filter(Ti)}async function Uc(e,t){let r="uploadEmbeddedImagesByUrl",o={type:"add",key:r,variant:"progress",icon:"image",duration:1/0,showCloseButton:"never"};for await(let{completed:i,started:a}of e.statusUpdates())Sr({...o,text:(0,Ri.jsxs)("span",{className:Ii,children:["Adding ",i," of ",a," images\u2026"]})});await Promise.allSettled(t);let{failed:n}=e.status;n>0&&Sr({type:"add",key:"importUploadImagesFailed",variant:"warning",text:(0,Ri.jsxs)("span",{className:Ii,children:["Failed to upload ",n," ",(0,AS.default)("image",n)]}),duration:5e3}),Sr({type:"remove",key:r})}var OS=fe("ChooseFileService"),Jc=class{constructor(t,r,o){this.engine=t;this.assetService=r;this.filePickerRef=o;R(this,"assetUploader");this.assetUploader=new Wn(this.engine)}async pickFile({allowedFileTypes:t,multiple:r}={}){let o=this.filePickerRef.current;if(!o)return null;let n=await o.show(t?.map(i=>`.${i}`),r);return n.isFiles()?n.value:null}async pickImage({allowedFileTypes:t=ns,multiple:r}={}){return this.pickFile({allowedFileTypes:t,multiple:r})}async pickAndUploadImage(t={}){try{let r=await this.pickImage(t);if(!r)return[];if(r.length===1){let o=await this.assetUploader.add(r[0]);if(!o)return[];if(await this.assetService.refresh().catch(Re),Ti(o))return[o]}else return await BS(this.engine,r,t.maxUploads)}catch(r){OS.warn("Failed to upload file:",r)}return[]}async pickAndUploadFile(t){try{let r=await this.pickFile(t);if(!r)return;let o=r[0];return o?await this.assetUploader.add(o):void 0}catch(r){OS.warn("Failed to upload file:",r)}}async addImages(t){if(!t?.length)return[];let o=(await Promise.all(Array.from(t,n=>this.assetUploader.add(n)))).filter(Ti);return o.length===0||await this.engine.stores.assetStore.assetService?.refresh().catch(Re),o}},{service:zS,resolve:uN}=kg();function pL(e,t,r){uN(new Jc(e,t,r))}var WS=class{constructor(){R(this,"nodeIdToRenderIdToRect",new Map);R(this,"nodeIdToLayoutTemplateSelectorToRect",new Map);R(this,"nodeIdToRenderIdToChildrenRects",new Map)}processLayoutMeasurements(t){let r=new Set,o=new Set;for(let{nodeId:n,renderId:i,layoutMetrics:a,layoutTemplateSelector:s}of t){let{childrenRects:l,...c}=a;o.has(n)||this.nodeIdToLayoutTemplateSelectorToRect.delete(n),o.add(n);let m=s?this.nodeIdToLayoutTemplateSelectorToRect.get(n)?.get(s):this.nodeIdToRenderIdToRect.get(n)?.get(i),u=this.nodeIdToRenderIdToChildrenRects.get(n)?.get(i);if(!(mr(m,c,!0)&&mN(u,l))){if(s){let p=this.nodeIdToLayoutTemplateSelectorToRect.get(n)??new Map,f=c.matrix?DOMMatrixReadOnly.fromMatrix(c.matrix):void 0;p.set(s,{...c,matrix:f}),this.nodeIdToLayoutTemplateSelectorToRect.set(n,p)}else{let p=this.nodeIdToRenderIdToRect.get(n)??new Map;p.set(i,et.from(c)),this.nodeIdToRenderIdToRect.set(n,p)}if(l){let p=this.nodeIdToRenderIdToChildrenRects.get(n)??new Map;p.set(i,l),this.nodeIdToRenderIdToChildrenRects.set(n,p)}r.add(n)}}return r}getContentSize(t){let r=this.getRect(t),o=this.getChildrenRects(t);if(!r||!o)return;let{width:n,height:i}=et.merge(...o);return{width:n,height:i}}getRect(t){let r=Pc(t);return this.nodeIdToRenderIdToRect.get(r)?.get(t)}getRects(t){return this.nodeIdToRenderIdToRect.get(t)}getLayoutTemplateRects(t){return this.nodeIdToLayoutTemplateSelectorToRect.get(t)}getChildrenRects(t){let r=Pc(t);return this.nodeIdToRenderIdToChildrenRects.get(r)?.get(t)}pruneAfterTreeChanges(t){for(let r of t){let o=r.to.parentid&&r.from?.parentid&&r.to.parentid!==r.from.parentid;r.removed?(this.nodeIdToRenderIdToRect.delete(r.id),this.nodeIdToRenderIdToChildrenRects.delete(r.id),this.nodeIdToLayoutTemplateSelectorToRect.delete(r.id)):o&&this.nodeIdToRenderIdToRect.delete(r.id)}}};function mN(e,t){return e===t?!0:e===void 0||t===void 0||e.length!==t.length?!1:t.every((r,o)=>et.equals(r,e[o]??null))}var pN={cache:!0,mutable:!0,update:!0,parentid:!0,originalid:!0,duplicatedFrom:!0,moduleSourceRevision:!0,moduleSourceRevisionHint:!0,moduleSourceRevisionCommittedHint:!0,kitSectionsStructure:!0,layoutTemplateIdentifierOverride:!0};function To(e,t){if(!N(t)&&!pN[e]&&!e.startsWith("export")&&!Om(e))return t}function fN(e,t){if(e!=="children")return To(e,t)}function hN(e,t,r,o,n){if(!ju(e)||!Zl(t))return t;if(t.type==="slot")return!nr(t.value)||U(r)&&r.slotsAreChildNodes?t:t.value.map(i=>{let a=n.get(i.reference);return Ss(o,a)?a:void 0});if(t.type==="componentinstance"){if(!A(t.value))return t;let i=n.get(t.value);return Ss(o,i)?i:void 0}else if(t.type==="array"){if(!nr(t.value))return t;let i=[],a=!1;for(let s of t.value){if(!Zl(s)||s.type!=="componentinstance"||(a=!0,!A(s.value)))continue;let l=n.get(s.value);Ss(o,l)&&i.push(l)}return a?i:t}return t}function gN(e,t){return(r,o,n)=>To(r,hN(r,o,n,t,e))}var xi=fe("ModuleSourceRevision");function LL(e){return zr(qt(e,To))}function yN(e,t){switch(e.__class){case"CollectionItemNode":case"ImageStylePresetNode":case"InlineCodeStylePresetNode":case"LayoutTemplateNode":case"LinkStylePresetNode":case"SmartComponentNode":case"TableStylePresetNode":case"WebPageNode":return zr(qt(e,To));case"FrameNode":{let r=t.get(e.parentid);return!r||!Ve(r)?void 0:zr(qt(e,gN(t,r.id)))}case"CollectionNode":{g(ot(e),"Expected collection node");let r=qt(t.root.locales),o=qt(e,fN),n=qt(e.getUnsortedChildren()?.map(i=>i.moduleSourceRevision));return zr(r+o+n)}case"PresetsListNode":{let r=e.children?.filter(o=>!At(o,t))??[];return zr(qt(r,To))}case"TextStylePresetNode":case"BlockquoteStylePresetNode":{if(si(e))return e.moduleSourceRevision;let r=qt(e,To);return e.cache.replicaInstances?.forEach(o=>{let n=t.getNodeWithTrait(o,si);n&&(r+=qt(n,To))}),zr(r)}case"VectorSetNode":{g(Me(e),"Expected VectorSetNode");let r=e.getVectorSetItems().map(o=>{let n=dt("vector",o.id,"default").localId,i=t.getNodeWithTrait(n,zp);return i?i.save.moduleId:""});return zr(qt(r)+e.name)}case"ShapeContainerNode":{if(!Rt(e))return;let r=t.getScopeNodeFor(e);if(!Me(r))return;let o=qt(e,To);return zr(o+qt(r.variables))}case"CanvasPageNode":case"RootNode":return;case"ComponentPresetNode":return;case"AnalyticsScopeNode":case"BlockquoteEntityTypeRootNode":case"BooleanShapeNode":case"BoxShadow":case"CanvasNode":case"CanvasScopeNode":case"DesignPageNode":case"ChatTool":case"CMSEntityTypeRootNode":case"CodeComponentNode":case"CodeFileEntityTypeRootNode":case"CollectionReferenceVariableEditTool":case"Color":case"ColorEntityTypeRootNode":case"ColorStyleTokenListNode":case"ColorStyleTokenNode":case"ComponentEntityTypeRootNode":case"ConicGradient":case"ContentManagementNode":case"CreateCodeComponentBaseTool":case"CreateFrameBaseTool":case"CreateShapeBaseTool":case"CreateTextTool":case"EntityFolderNode":case"EntityReferenceNode":case"EntityRootNode":case"ErrorListNode":case"ErrorNode":case"ExportOptions":case"ExternalModuleNode":case"ExternalModulesListNode":case"FeedbackTool":case"FormBooleanInputNode":case"FormPlainTextInputNode":case"FormSelectNode":case"FunnelNode":case"FunnelStepActionNode":case"FunnelStepNode":case"GapTool":case"GradientColorStop":case"GradientToolManagerTool":case"GuideMoveTool":case"HeaderRouteNode":case"HighlightStackItemTool":case"HighlightTool":case"InitialTool":case"InlineCodeEntityTypeRootNode":case"LayoutTemplateEntityTypeRootNode":case"LineAnchorMoveTool":case"LinearGradient":case"LinkEntityTypeRootNode":case"LinkTool":case"LoadingShieldTool":case"LocalizationGlossaryItemNode":case"LocalizationGlossaryNode":case"LocalModuleNode":case"LocalModulesListNode":case"Menu":case"MoveTool":case"MutableNode":case"OvalShapeNode":case"OverlayNode":case"PaddingTool":case"PageLinkTool":case"PanTool":case"PathCurveBendTool":case"PathDefaultTool":case"PathNode":case"PathSegment":case"PathSegmentAdditionTool":case"PathSegmentHandleMoveTool":case"PathSegmentMoveTool":case"PathSegmentSelectTool":case"PolygonShapeNode":case"PreviewSettings":case"ProxyRouteNode":case"RadialGradient":case"RadiusTool":case"RecoveryTool":case"RectangleShapeNode":case"RedirectRouteNode":case"ResizeTool":case"RewriteRouteNode":case"RichTextEditTool":case"RichTextNode":case"RichTextVariableEditTool":case"RotateTool":case"RouteNode":case"RouteSegmentNode":case"RouteSegmentRootNode":case"RoutesNode":case"SampleColorTool":case"ScaleTool":case"ScopeNode":case"SelectTool":case"Shadow":case"ShapeGroupNode":case"SlotConnectTool":case"SlotNode":case"SlotPropertyNode":case"StarShapeNode":case"StringVariableEditTool":case"DateVariableEditTool":case"EnumVariableEditTool":case"StyledTextDraft":case"SVGNode":case"TestTool":case"TextEditTool":case"TextEntityTypeRootNode":case"TextNode":case"VectorSetEntityTypeRootNode":case"VekterGradientTool":case"VekterPathEngine":case"VekterTool":case"ViewportResizeTool":case"ZoomSelectTool":case"ZoomTool":return;default:z(e.__class,"getModuleRevision: node.__class must be a valid value")}}function jc(e,t){let r=e.get(t);return!r||!At(r,e)?!1:N(r.moduleSourceRevisionHint)||r.moduleSourceRevisionCommittedHint===r.moduleSourceRevisionHint?(xi.debug(`Hint hasn't changed for ${r.id}.`),!1):(xi.debug(`Initial Revision: ${r.moduleSourceRevision}`),!0)}function _c(e,t){let r=e.get(t);if(!r||!At(r,e))return;let o=performance.now(),n=yN(r,e);xi.debug(`Spent ${performance.now()-o}ms computing module revision for ${r.id}`);let i=G(n)&&n!==r.moduleSourceRevision;xi.debug(`Revisions: ${r.moduleSourceRevision}, ${n}`);let a=r.moduleSourceRevisionHint,s=i?{moduleSourceRevision:n,moduleSourceRevisionCommittedHint:a}:{moduleSourceRevisionCommittedHint:a};return xi.debug(i?`Updating moduleSourceRevision for ${r.id}.`:`Updating moduleSourceRevisionCommittedHint for ${r.id}.`),r.setIgnoringReplica(s,e),i?n:void 0}function HS(e,t){return t(r=>{if(r.isViewOnly)return;let o=r.get(e);return ot(o)&&o.getUnsortedChildren()?.forEach(n=>{jc(r,n.id)&&_c(r,n.id)}),_c(r,e)})}function GS(e,t){return t(r=>{if(!r.isViewOnly)return e.reduce((o,n)=>(o[n.id]=_c(r,n.id)??1,o),{})})}function US(e){window.addEventListener("beforeunload",t=>{e()&&(t.preventDefault(),t.returnValue="You have unsaved changes. They might be lost if you leave the page.")})}var SN={track:!0};function JS(e){let t={...e,event:"preview_shown"};qd(t,SN)}var CN=fe("CodeGenerationStore"),vN="transform",Gn,jo,Fs=class{constructor(t){this.sourceNode=t;H(this,Gn,[]);H(this,jo)}start(t){let r=performance.now();return{end:o=>{C(this,Gn).push([t,performance.now()-r]),ie(this,jo,C(this,jo)??o),t===vN&&this.completeSession()}}}restartSession(){ie(this,Gn,[]),ie(this,jo,void 0)}completeSession(){C(this,jo)?.forEach(({type:t,source:r,artifacts:o})=>{let n=bN(t,this.sourceNode);if(!n)return;let i={codeType:n,durationMs:0,updateCount:0,updateDurationMs:0,serializationDurationMs:0,compilationDurationMs:0,synchronizationDurationMs:0,size:r.length,id:this.sourceNode.id,nodes:o?.metrics?.nodes??1,variants:o?.metrics?.variants??0,svgBytes:o?.metrics?.svgBytes,textBytes:o?.metrics?.textBytes};for(let[s,l]of C(this,Gn))switch(i.durationMs+=l,s){case"update":i.updateCount++,i.updateDurationMs+=l;break;case"serialize":i.serializationDurationMs+=l;break;case"transform":i.compilationDurationMs+=l;break;case"synchronize":i.synchronizationDurationMs+=l;break;default:z(s)}let a;for(a in i){let s=i[a];G(s)&&(i[a]=Math.round(s))}CN.trace("Code Generation Metrics",i),Ht("code_generation",i)}),this.restartSession()}};Gn=new WeakMap,jo=new WeakMap;function bN(e,t){switch(e){case"canvasComponent":return"smart_component";case"css":return"styles_preset";case"collection":return"collection";case"draftCollection":return"draft_collection";case"componentPresets":return"component_presets";case"screen":return W(t)?"web_page":"prototype_screen";case"prototype":return"prototype";case"vector":return"vector";case"vectorSet":return"vector_set";case"codeFile":case"config":case"siteMetadata":case"webPageMetadata":case"layoutTemplate":case"localization":case"design":case"kit":return;default:z(e)}}function IN(e,t){let r={};if(!t||om(e))return r;for(let o of e.cases)for(let n of t){let i=o.nameLocalized;if(!i)continue;let a=i[n.id]?.value;if(!A(a))continue;let s=r[o.id]??{};r[o.id]=s,s[n.id]=a}return r}function _S(e,t,r){if(e.cases.length===0)return d`(value) => value`;let o=IN(e,t),n=d`value`,i=d`locale`,a=d`fallbackLocale`;return new v(re.lines(d`(${n}, ${i}) => {`,d`const ${a} = ${i}?.fallback;`,d`switch (${n}) {`,...e.cases.map(({id:s,name:l})=>{let c=o[s];return c?new v(re.lines(d`case ${s}:`,d`switch (${i}?.id) {`,...Object.entries(c).map(([m,u])=>d`case ${m}: return ${u};`),d`default:`,d`if (${a}) return ${v.fn(r,n,a)};`,d`return ${l};`,d`}`)):d`case ${s}: return ${l};`}),d`default: return "";`,d`}`,d`}`))}var Xc="framercms";function jS(e,t,r){return`${e}-${t}.${r}`}var Ls=class{constructor(t){this.componentSourceNodeId=t;R(this,"assets",{})}create(t,r,o){let n=jS(this.componentSourceNodeId,t,r);return this.assets[n]=o,d`new URL(${`./${n}`}, import.meta.url).href`}};var XS=no(WI());function Be(e,...t){if(!e)throw Error("Assertion Error"+(t.length>0?": "+t.join(" "):""))}function Mi(e){throw new Error(`Unexpected value: ${e}`)}var TN=no(ln());var qS=`// src/code-generation/components/cms/bundled/getRichTextJsonResolver.tsx?bundle
import { ComponentPresetsConsumer, Link, motion } from "framer";

// ../../library/src/router/lazy.tsx
import { forwardRef, isValidElement, useEffect } from "react";
var preloadKey = "preload";
function isLazyComponentType(componentType) {
  return typeof componentType === "object" && componentType !== null && !isValidElement(componentType) && preloadKey in componentType;
}

// src/code-generation/components/cms/bundled/getRichTextJsonResolver.tsx?bundle
import { Fragment, createElement } from "react";

// src/code-generation/components/cms/bundled/assert.ts
function assert(condition, ...msg) {
  if (condition) return;
  throw Error("Assertion Error" + (msg.length > 0 ? ": " + msg.join(" ") : ""));
}

// src/code-generation/components/cms/bundled/getRichTextJsonResolver.tsx?bundle
var RichTextJsonType = /* @__PURE__ */ ((RichTextJsonType2) => {
  RichTextJsonType2[RichTextJsonType2["Fragment"] = 1] = "Fragment";
  RichTextJsonType2[RichTextJsonType2["Link"] = 2] = "Link";
  RichTextJsonType2[RichTextJsonType2["Module"] = 3] = "Module";
  RichTextJsonType2[RichTextJsonType2["Tag"] = 4] = "Tag";
  RichTextJsonType2[RichTextJsonType2["Text"] = 5] = "Text";
  return RichTextJsonType2;
})(RichTextJsonType || {});
function getRichTextJsonResolver(components) {
  const cache = /* @__PURE__ */ new Map();
  function deserializeChildren(children) {
    return children.map(deserializeNode);
  }
  function deserializeNode(node) {
    switch (node[0]) {
      case 1 /* Fragment */: {
        const [, ...children] = node;
        const childNodes = deserializeChildren(children);
        return createElement(Fragment, void 0, ...childNodes);
      }
      case 2 /* Link */: {
        const [, props, ...children] = node;
        const childNodes = deserializeChildren(children);
        return createElement(Link, props, ...childNodes);
      }
      case 3 /* Module */: {
        const [, identifier, props] = node;
        const Component = components[identifier];
        assert(Component, "Module not found");
        if (isLazyComponentType(Component)) {
          void Component.preload();
        }
        return <ComponentPresetsConsumer componentIdentifier={identifier}>
                        {(presetProps) => <Component {...presetProps} {...props} />}
                    </ComponentPresetsConsumer>;
      }
      case 4 /* Tag */: {
        const [, tag, props, ...children] = node;
        const childNodes = deserializeChildren(children);
        if (tag === "a") {
          return createElement(motion.a, props, ...childNodes);
        }
        return createElement(tag, props, ...childNodes);
      }
      case 5 /* Text */: {
        const [, text] = node;
        return text;
      }
    }
  }
  return (pointer) => {
    const cached = cache.get(pointer);
    if (cached) return cached;
    const json = JSON.parse(pointer);
    const result = deserializeNode(json);
    cache.set(pointer, result);
    return result;
  };
}
export {
  RichTextJsonType,
  getRichTextJsonResolver
};
`;var Es=class{constructor(t,r,o,n,i,a,s,l){this.collectionNode=t;this.treeStore=r;this.imports=o;this.submodules=n;this.bindings=i;this.declarations=a;this.assets=s;this.links=l;R(this,"scopeNode");R(this,"cache",new Map);R(this,"components",{});R(this,"resolvers");R(this,"serializers",{fragment:t=>[1,...t],link:(t,r)=>[2,t,...r],module:(t,r)=>{if(this.addModuleImport(t))return[3,t,r]},tag:(t,r,o)=>[4,t,r,...o],text:t=>[5,t]});R(this,"resolveRichTextBinding");this.resolveRichTextBinding=this.bindings.create("resolveRichText"),this.scopeNode=this.treeStore.tree.getScopeNodeFor(this.collectionNode),this.resolvers=cy(this.assets,this.links,void 0,void 0)}addModuleImport(t){if(t in this.components)return!0;let r=Z(t),o=this.imports.addModuleImport(r,{lazy:!0});return o?(this.components[t]=o,!0):!1}add(t){let r=this.cache.get(t);if(r)return r;let o=ly(t,this.resolvers,this.serializers,{definitionProvider:P,tree:this.treeStore.tree,nodeId:this.collectionNode.id,scopeId:this.scopeNode?.id}),n=JSON.stringify(o);return this.cache.set(t,n),n}serialize(){let t=this.imports.addImport(this.submodules.create(qS).submoduleImport,{exportSpecifier:"getRichTextJsonResolver"}),r=this.declarations.dedupe("richTextComponents",this.components);this.declarations.create(d`const ${this.resolveRichTextBinding} = ${v.fn(t,r)}`)}};var As=class{constructor(){R(this,"values",new Map)}add(t){let r=this.values.get(t);if(G(r))return r;let o=this.values.size;return this.values.set(t,o),o}serialize(t,r){let o=[];for(let[i,a]of this.values){let s=Z(i),{importSpecifier:l}=Jr(s,"collection",t);g(l,"Import specifier must be defined"),o[a]=d`() => import(${l})`}let n=r.dedupe("vectors",o);return r.dedupe("resolveVectorSetItem",d`(pointer: number) => {${d.joinLines(d`const vector = ${n}[pointer]`,d`if (vector) return vector().then(v => v.default)`)}}`)}};var Xe={Uint8:1,Uint16:2,Uint32:4,BigUint64:8,Int8:1,Int16:2,Int32:4,BigInt64:8,Float32:4,Float64:8},Bs=class{constructor(t){this.bytes=t;R(this,"offset",0);R(this,"view");R(this,"decoder",new TextDecoder);this.view=Un(this.bytes)}getOffset(){return this.offset}ensureLength(t){let r=this.bytes.length;if(!(this.offset+t<=r))throw new Error("Reading out of bounds")}readUint8(){let t=Xe.Uint8;this.ensureLength(t);let r=this.view.getUint8(this.offset);return this.offset+=t,r}readUint16(){let t=Xe.Uint16;this.ensureLength(t);let r=this.view.getUint16(this.offset);return this.offset+=t,r}readUint32(){let t=Xe.Uint32;this.ensureLength(t);let r=this.view.getUint32(this.offset);return this.offset+=t,r}readUint64(){let t=this.readBigUint64();return Number(t)}readBigUint64(){let t=Xe.BigUint64;this.ensureLength(t);let r=this.view.getBigUint64(this.offset);return this.offset+=t,r}readInt8(){let t=Xe.Int8;this.ensureLength(t);let r=this.view.getInt8(this.offset);return this.offset+=t,r}readInt16(){let t=Xe.Int16;this.ensureLength(t);let r=this.view.getInt16(this.offset);return this.offset+=t,r}readInt32(){let t=Xe.Int32;this.ensureLength(t);let r=this.view.getInt32(this.offset);return this.offset+=t,r}readInt64(){let t=this.readBigInt64();return Number(t)}readBigInt64(){let t=Xe.BigInt64;this.ensureLength(t);let r=this.view.getBigInt64(this.offset);return this.offset+=t,r}readFloat32(){let t=Xe.Float32;this.ensureLength(t);let r=this.view.getFloat32(this.offset);return this.offset+=t,r}readFloat64(){let t=Xe.Float64;this.ensureLength(t);let r=this.view.getFloat64(this.offset);return this.offset+=t,r}readBytes(t){let r=this.offset,o=r+t,n=this.bytes.subarray(r,o);return this.offset=o,n}readString(){let t=this.readUint32(),r=this.readBytes(t);return this.decoder.decode(r)}readJson(){let t=this.readString();return JSON.parse(t)}};function Un(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}var NN=1024,wN=1.5,qc=e=>2**e-1,Kc=e=>-(2**(e-1)),Yc=e=>2**(e-1)-1,Dr={Uint8:0,Uint16:0,Uint32:0,Uint64:0,BigUint64:0,Int8:Kc(8),Int16:Kc(16),Int32:Kc(32),Int64:Number.MIN_SAFE_INTEGER,BigInt64:-(BigInt(2)**BigInt(63))},kr={Uint8:qc(8),Uint16:qc(16),Uint32:qc(32),Uint64:Number.MAX_SAFE_INTEGER,BigUint64:BigInt(2)**BigInt(64)-BigInt(1),Int8:Yc(8),Int16:Yc(16),Int32:Yc(32),Int64:Number.MAX_SAFE_INTEGER,BigInt64:BigInt(2)**BigInt(63)-BigInt(1)};function Pr(e,t,r,o){Be(e>=t,e,"outside lower bound for",o),Be(e<=r,e,"outside upper bound for",o)}var Xo=class{constructor(){R(this,"offset",0);R(this,"bytes",new Uint8Array(NN));R(this,"view",Un(this.bytes));R(this,"encoder",new TextEncoder);R(this,"encodedStrings",new Map)}getOffset(){return this.offset}slice(t=0,r=this.offset){return this.bytes.slice(t,r)}subarray(t=0,r=this.offset){return this.bytes.subarray(t,r)}ensureLength(t){let r=this.bytes.length;if(this.offset+t<=r)return;let o=Math.ceil(r*wN)+t,n=new Uint8Array(o);n.set(this.bytes),this.bytes=n,this.view=Un(n)}writeUint8(t){Pr(t,Dr.Uint8,kr.Uint8,"Uint8");let r=Xe.Uint8;this.ensureLength(r),this.view.setUint8(this.offset,t),this.offset+=r}writeUint16(t){Pr(t,Dr.Uint16,kr.Uint16,"Uint16");let r=Xe.Uint16;this.ensureLength(r),this.view.setUint16(this.offset,t),this.offset+=r}writeUint32(t){Pr(t,Dr.Uint32,kr.Uint32,"Uint32");let r=Xe.Uint32;this.ensureLength(r),this.view.setUint32(this.offset,t),this.offset+=r}writeUint64(t){Pr(t,Dr.Uint64,kr.Uint64,"Uint64");let r=BigInt(t);this.writeBigUint64(r)}writeBigUint64(t){Pr(t,Dr.BigUint64,kr.BigUint64,"BigUint64");let r=Xe.BigUint64;this.ensureLength(r),this.view.setBigUint64(this.offset,t),this.offset+=r}writeInt8(t){Pr(t,Dr.Int8,kr.Int8,"Int8");let r=Xe.Int8;this.ensureLength(r),this.view.setInt8(this.offset,t),this.offset+=r}writeInt16(t){Pr(t,Dr.Int16,kr.Int16,"Int16");let r=Xe.Int16;this.ensureLength(r),this.view.setInt16(this.offset,t),this.offset+=r}writeInt32(t){Pr(t,Dr.Int32,kr.Int32,"Int32");let r=Xe.Int32;this.ensureLength(r),this.view.setInt32(this.offset,t),this.offset+=r}writeInt64(t){Pr(t,Dr.Int64,kr.Int64,"Int64");let r=BigInt(t);this.writeBigInt64(r)}writeBigInt64(t){Pr(t,Dr.BigInt64,kr.BigInt64,"BigInt64");let r=Xe.BigInt64;this.ensureLength(r),this.view.setBigInt64(this.offset,t),this.offset+=r}writeFloat32(t){let r=Xe.Float32;this.ensureLength(r),this.view.setFloat32(this.offset,t),this.offset+=r}writeFloat64(t){let r=Xe.Float64;this.ensureLength(r),this.view.setFloat64(this.offset,t),this.offset+=r}writeBytes(t){let r=t.length;this.ensureLength(r),this.bytes.set(t,this.offset),this.offset+=r}encodeString(t){let r=this.encodedStrings.get(t);if(r)return r;let o=this.encoder.encode(t);return this.encodedStrings.set(t,o),o}writeString(t){let r=this.encodeString(t),o=r.length;this.writeUint32(o),this.writeBytes(r)}writeJson(t){let r=JSON.stringify(t);this.writeString(r)}};var KS=`var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);

// ../../../node_modules/dataloader/index.js
var require_dataloader = __commonJS({
  "../../../node_modules/dataloader/index.js"(exports, module) {
    "use strict";
    var DataLoader2 = /* @__PURE__ */ function() {
      function DataLoader3(batchLoadFn, options) {
        if (typeof batchLoadFn !== "function") {
          throw new TypeError("DataLoader must be constructed with a function which accepts " + ("Array<key> and returns Promise<Array<value>>, but got: " + batchLoadFn + "."));
        }
        this._batchLoadFn = batchLoadFn;
        this._maxBatchSize = getValidMaxBatchSize(options);
        this._batchScheduleFn = getValidBatchScheduleFn(options);
        this._cacheKeyFn = getValidCacheKeyFn(options);
        this._cacheMap = getValidCacheMap(options);
        this._batch = null;
        this.name = getValidName(options);
      }
      var _proto = DataLoader3.prototype;
      _proto.load = function load(key) {
        if (key === null || key === void 0) {
          throw new TypeError("The loader.load() function must be called with a value, " + ("but got: " + String(key) + "."));
        }
        var batch = getCurrentBatch(this);
        var cacheMap = this._cacheMap;
        var cacheKey = this._cacheKeyFn(key);
        if (cacheMap) {
          var cachedPromise = cacheMap.get(cacheKey);
          if (cachedPromise) {
            var cacheHits = batch.cacheHits || (batch.cacheHits = []);
            return new Promise(function(resolve) {
              cacheHits.push(function() {
                resolve(cachedPromise);
              });
            });
          }
        }
        batch.keys.push(key);
        var promise = new Promise(function(resolve, reject) {
          batch.callbacks.push({
            resolve,
            reject
          });
        });
        if (cacheMap) {
          cacheMap.set(cacheKey, promise);
        }
        return promise;
      };
      _proto.loadMany = function loadMany(keys) {
        if (!isArrayLike(keys)) {
          throw new TypeError("The loader.loadMany() function must be called with Array<key> " + ("but got: " + keys + "."));
        }
        var loadPromises = [];
        for (var i = 0; i < keys.length; i++) {
          loadPromises.push(this.load(keys[i])["catch"](function(error) {
            return error;
          }));
        }
        return Promise.all(loadPromises);
      };
      _proto.clear = function clear(key) {
        var cacheMap = this._cacheMap;
        if (cacheMap) {
          var cacheKey = this._cacheKeyFn(key);
          cacheMap["delete"](cacheKey);
        }
        return this;
      };
      _proto.clearAll = function clearAll() {
        var cacheMap = this._cacheMap;
        if (cacheMap) {
          cacheMap.clear();
        }
        return this;
      };
      _proto.prime = function prime(key, value) {
        var cacheMap = this._cacheMap;
        if (cacheMap) {
          var cacheKey = this._cacheKeyFn(key);
          if (cacheMap.get(cacheKey) === void 0) {
            var promise;
            if (value instanceof Error) {
              promise = Promise.reject(value);
              promise["catch"](function() {
              });
            } else {
              promise = Promise.resolve(value);
            }
            cacheMap.set(cacheKey, promise);
          }
        }
        return this;
      };
      return DataLoader3;
    }();
    var enqueuePostPromiseJob = typeof process === "object" && typeof process.nextTick === "function" ? function(fn) {
      if (!resolvedPromise) {
        resolvedPromise = Promise.resolve();
      }
      resolvedPromise.then(function() {
        process.nextTick(fn);
      });
    } : typeof setImmediate === "function" ? function(fn) {
      setImmediate(fn);
    } : function(fn) {
      setTimeout(fn);
    };
    var resolvedPromise;
    function getCurrentBatch(loader) {
      var existingBatch = loader._batch;
      if (existingBatch !== null && !existingBatch.hasDispatched && existingBatch.keys.length < loader._maxBatchSize) {
        return existingBatch;
      }
      var newBatch = {
        hasDispatched: false,
        keys: [],
        callbacks: []
      };
      loader._batch = newBatch;
      loader._batchScheduleFn(function() {
        dispatchBatch(loader, newBatch);
      });
      return newBatch;
    }
    function dispatchBatch(loader, batch) {
      batch.hasDispatched = true;
      if (batch.keys.length === 0) {
        resolveCacheHits(batch);
        return;
      }
      var batchPromise;
      try {
        batchPromise = loader._batchLoadFn(batch.keys);
      } catch (e) {
        return failedDispatch(loader, batch, new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function " + ("errored synchronously: " + String(e) + ".")));
      }
      if (!batchPromise || typeof batchPromise.then !== "function") {
        return failedDispatch(loader, batch, new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did " + ("not return a Promise: " + String(batchPromise) + ".")));
      }
      batchPromise.then(function(values) {
        if (!isArrayLike(values)) {
          throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did " + ("not return a Promise of an Array: " + String(values) + "."));
        }
        if (values.length !== batch.keys.length) {
          throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys." + ("\\n\\nKeys:\\n" + String(batch.keys)) + ("\\n\\nValues:\\n" + String(values)));
        }
        resolveCacheHits(batch);
        for (var i = 0; i < batch.callbacks.length; i++) {
          var value = values[i];
          if (value instanceof Error) {
            batch.callbacks[i].reject(value);
          } else {
            batch.callbacks[i].resolve(value);
          }
        }
      })["catch"](function(error) {
        failedDispatch(loader, batch, error);
      });
    }
    function failedDispatch(loader, batch, error) {
      resolveCacheHits(batch);
      for (var i = 0; i < batch.keys.length; i++) {
        loader.clear(batch.keys[i]);
        batch.callbacks[i].reject(error);
      }
    }
    function resolveCacheHits(batch) {
      if (batch.cacheHits) {
        for (var i = 0; i < batch.cacheHits.length; i++) {
          batch.cacheHits[i]();
        }
      }
    }
    function getValidMaxBatchSize(options) {
      var shouldBatch = !options || options.batch !== false;
      if (!shouldBatch) {
        return 1;
      }
      var maxBatchSize = options && options.maxBatchSize;
      if (maxBatchSize === void 0) {
        return Infinity;
      }
      if (typeof maxBatchSize !== "number" || maxBatchSize < 1) {
        throw new TypeError("maxBatchSize must be a positive number: " + maxBatchSize);
      }
      return maxBatchSize;
    }
    function getValidBatchScheduleFn(options) {
      var batchScheduleFn = options && options.batchScheduleFn;
      if (batchScheduleFn === void 0) {
        return enqueuePostPromiseJob;
      }
      if (typeof batchScheduleFn !== "function") {
        throw new TypeError("batchScheduleFn must be a function: " + batchScheduleFn);
      }
      return batchScheduleFn;
    }
    function getValidCacheKeyFn(options) {
      var cacheKeyFn = options && options.cacheKeyFn;
      if (cacheKeyFn === void 0) {
        return function(key) {
          return key;
        };
      }
      if (typeof cacheKeyFn !== "function") {
        throw new TypeError("cacheKeyFn must be a function: " + cacheKeyFn);
      }
      return cacheKeyFn;
    }
    function getValidCacheMap(options) {
      var shouldCache = !options || options.cache !== false;
      if (!shouldCache) {
        return null;
      }
      var cacheMap = options && options.cacheMap;
      if (cacheMap === void 0) {
        return /* @__PURE__ */ new Map();
      }
      if (cacheMap !== null) {
        var cacheFunctions = ["get", "set", "delete", "clear"];
        var missingFunctions = cacheFunctions.filter(function(fnName) {
          return cacheMap && typeof cacheMap[fnName] !== "function";
        });
        if (missingFunctions.length !== 0) {
          throw new TypeError("Custom cacheMap missing methods: " + missingFunctions.join(", "));
        }
      }
      return cacheMap;
    }
    function getValidName(options) {
      if (options && options.name) {
        return options.name;
      }
      return null;
    }
    function isArrayLike(x) {
      return typeof x === "object" && x !== null && typeof x.length === "number" && (x.length === 0 || x.length > 0 && Object.prototype.hasOwnProperty.call(x, x.length - 1));
    }
    module.exports = DataLoader2;
  }
});

// src/code-generation/components/cms/bundled/DatabaseCollection.ts?bundle
var import_dataloader = __toESM(require_dataloader());

// src/code-generation/components/cms/bundled/BufferReader.ts
var BYTE_LENGTH = {
  Uint8: 1,
  Uint16: 2,
  Uint32: 4,
  BigUint64: 8,
  Int8: 1,
  Int16: 2,
  Int32: 4,
  BigInt64: 8,
  Float32: 4,
  Float64: 8
};
var BufferReader = class {
  constructor(bytes) {
    this.bytes = bytes;
    __publicField(this, "offset", 0);
    __publicField(this, "view");
    __publicField(this, "decoder", new TextDecoder());
    this.view = getDataView(this.bytes);
  }
  getOffset() {
    return this.offset;
  }
  ensureLength(requiredBytes) {
    const oldLength = this.bytes.length;
    if (this.offset + requiredBytes <= oldLength) return;
    throw new Error("Reading out of bounds");
  }
  readUint8() {
    const size = BYTE_LENGTH.Uint8;
    this.ensureLength(size);
    const value = this.view.getUint8(this.offset);
    this.offset += size;
    return value;
  }
  readUint16() {
    const size = BYTE_LENGTH.Uint16;
    this.ensureLength(size);
    const value = this.view.getUint16(this.offset);
    this.offset += size;
    return value;
  }
  readUint32() {
    const size = BYTE_LENGTH.Uint32;
    this.ensureLength(size);
    const value = this.view.getUint32(this.offset);
    this.offset += size;
    return value;
  }
  readUint64() {
    const bigint = this.readBigUint64();
    return Number(bigint);
  }
  readBigUint64() {
    const size = BYTE_LENGTH.BigUint64;
    this.ensureLength(size);
    const value = this.view.getBigUint64(this.offset);
    this.offset += size;
    return value;
  }
  readInt8() {
    const size = BYTE_LENGTH.Int8;
    this.ensureLength(size);
    const value = this.view.getInt8(this.offset);
    this.offset += size;
    return value;
  }
  readInt16() {
    const size = BYTE_LENGTH.Int16;
    this.ensureLength(size);
    const value = this.view.getInt16(this.offset);
    this.offset += size;
    return value;
  }
  readInt32() {
    const size = BYTE_LENGTH.Int32;
    this.ensureLength(size);
    const value = this.view.getInt32(this.offset);
    this.offset += size;
    return value;
  }
  readInt64() {
    const bigint = this.readBigInt64();
    return Number(bigint);
  }
  readBigInt64() {
    const size = BYTE_LENGTH.BigInt64;
    this.ensureLength(size);
    const value = this.view.getBigInt64(this.offset);
    this.offset += size;
    return value;
  }
  readFloat32() {
    const size = BYTE_LENGTH.Float32;
    this.ensureLength(size);
    const value = this.view.getFloat32(this.offset);
    this.offset += size;
    return value;
  }
  readFloat64() {
    const size = BYTE_LENGTH.Float64;
    this.ensureLength(size);
    const value = this.view.getFloat64(this.offset);
    this.offset += size;
    return value;
  }
  readBytes(length) {
    const start = this.offset;
    const end = start + length;
    const value = this.bytes.subarray(start, end);
    this.offset = end;
    return value;
  }
  readString() {
    const length = this.readUint32();
    const bytes = this.readBytes(length);
    return this.decoder.decode(bytes);
  }
  readJson() {
    const string = this.readString();
    return JSON.parse(string);
  }
};
function getDataView(bytes) {
  return new DataView(bytes.buffer, bytes.byteOffset, bytes.byteLength);
}

// src/code-generation/components/cms/bundled/DatabaseDictionaryIndex.ts
import { ControlType as ControlType2 } from "framer";

// ../../library/src/utils/utils.ts
var isWindow = typeof window !== "undefined";
var supportsRequestIdleCallback = isWindow && typeof window.requestIdleCallback === "function";

// src/code-generation/components/cms/bundled/assert.ts
function assert(condition, ...msg) {
  if (condition) return;
  throw Error("Assertion Error" + (msg.length > 0 ? ": " + msg.join(" ") : ""));
}
function assertNever(condition) {
  throw new Error(\`Unexpected value: \${condition}\`);
}

// src/code-generation/components/cms/bundled/BufferWriter.ts
var INITIAL_BUFFER_SIZE = 1024;
var GROWTH_FACTOR = 1.5;
var maxUnsignedNumber = (bits) => 2 ** bits - 1;
var minSignedNumber = (bits) => -(2 ** (bits - 1));
var maxSignedNumber = (bits) => 2 ** (bits - 1) - 1;
var MIN_VALUE = {
  Uint8: 0,
  Uint16: 0,
  Uint32: 0,
  Uint64: 0,
  BigUint64: 0,
  Int8: minSignedNumber(8),
  Int16: minSignedNumber(16),
  Int32: minSignedNumber(32),
  Int64: Number.MIN_SAFE_INTEGER,
  BigInt64: -(BigInt(2) ** BigInt(63))
};
var MAX_VALUE = {
  Uint8: maxUnsignedNumber(8),
  Uint16: maxUnsignedNumber(16),
  Uint32: maxUnsignedNumber(32),
  Uint64: Number.MAX_SAFE_INTEGER,
  BigUint64: BigInt(2) ** BigInt(64) - BigInt(1),
  Int8: maxSignedNumber(8),
  Int16: maxSignedNumber(16),
  Int32: maxSignedNumber(32),
  Int64: Number.MAX_SAFE_INTEGER,
  BigInt64: BigInt(2) ** BigInt(63) - BigInt(1)
};
function assertRange(value, min, max, dataType) {
  assert(value >= min, value, "outside lower bound for", dataType);
  assert(value <= max, value, "outside upper bound for", dataType);
}
var BufferWriter = class {
  constructor() {
    __publicField(this, "offset", 0);
    __publicField(this, "bytes", new Uint8Array(INITIAL_BUFFER_SIZE));
    __publicField(this, "view", getDataView(this.bytes));
    __publicField(this, "encoder", new TextEncoder());
    __publicField(this, "encodedStrings", /* @__PURE__ */ new Map());
  }
  getOffset() {
    return this.offset;
  }
  slice(start = 0, end = this.offset) {
    return this.bytes.slice(start, end);
  }
  subarray(start = 0, end = this.offset) {
    return this.bytes.subarray(start, end);
  }
  ensureLength(requiredBytes) {
    const oldLength = this.bytes.length;
    if (this.offset + requiredBytes <= oldLength) return;
    const newLength = Math.ceil(oldLength * GROWTH_FACTOR) + requiredBytes;
    const newBytes = new Uint8Array(newLength);
    newBytes.set(this.bytes);
    this.bytes = newBytes;
    this.view = getDataView(newBytes);
  }
  writeUint8(value) {
    assertRange(value, MIN_VALUE.Uint8, MAX_VALUE.Uint8, "Uint8");
    const size = BYTE_LENGTH.Uint8;
    this.ensureLength(size);
    this.view.setUint8(this.offset, value);
    this.offset += size;
  }
  writeUint16(value) {
    assertRange(value, MIN_VALUE.Uint16, MAX_VALUE.Uint16, "Uint16");
    const size = BYTE_LENGTH.Uint16;
    this.ensureLength(size);
    this.view.setUint16(this.offset, value);
    this.offset += size;
  }
  writeUint32(value) {
    assertRange(value, MIN_VALUE.Uint32, MAX_VALUE.Uint32, "Uint32");
    const size = BYTE_LENGTH.Uint32;
    this.ensureLength(size);
    this.view.setUint32(this.offset, value);
    this.offset += size;
  }
  writeUint64(value) {
    assertRange(value, MIN_VALUE.Uint64, MAX_VALUE.Uint64, "Uint64");
    const bigint = BigInt(value);
    this.writeBigUint64(bigint);
  }
  writeBigUint64(value) {
    assertRange(value, MIN_VALUE.BigUint64, MAX_VALUE.BigUint64, "BigUint64");
    const size = BYTE_LENGTH.BigUint64;
    this.ensureLength(size);
    this.view.setBigUint64(this.offset, value);
    this.offset += size;
  }
  writeInt8(value) {
    assertRange(value, MIN_VALUE.Int8, MAX_VALUE.Int8, "Int8");
    const size = BYTE_LENGTH.Int8;
    this.ensureLength(size);
    this.view.setInt8(this.offset, value);
    this.offset += size;
  }
  writeInt16(value) {
    assertRange(value, MIN_VALUE.Int16, MAX_VALUE.Int16, "Int16");
    const size = BYTE_LENGTH.Int16;
    this.ensureLength(size);
    this.view.setInt16(this.offset, value);
    this.offset += size;
  }
  writeInt32(value) {
    assertRange(value, MIN_VALUE.Int32, MAX_VALUE.Int32, "Int32");
    const size = BYTE_LENGTH.Int32;
    this.ensureLength(size);
    this.view.setInt32(this.offset, value);
    this.offset += size;
  }
  writeInt64(value) {
    assertRange(value, MIN_VALUE.Int64, MAX_VALUE.Int64, "Int64");
    const bigint = BigInt(value);
    this.writeBigInt64(bigint);
  }
  writeBigInt64(value) {
    assertRange(value, MIN_VALUE.BigInt64, MAX_VALUE.BigInt64, "BigInt64");
    const size = BYTE_LENGTH.BigInt64;
    this.ensureLength(size);
    this.view.setBigInt64(this.offset, value);
    this.offset += size;
  }
  writeFloat32(value) {
    const size = BYTE_LENGTH.Float32;
    this.ensureLength(size);
    this.view.setFloat32(this.offset, value);
    this.offset += size;
  }
  writeFloat64(value) {
    const size = BYTE_LENGTH.Float64;
    this.ensureLength(size);
    this.view.setFloat64(this.offset, value);
    this.offset += size;
  }
  writeBytes(value) {
    const size = value.length;
    this.ensureLength(size);
    this.bytes.set(value, this.offset);
    this.offset += size;
  }
  encodeString(value) {
    const cached = this.encodedStrings.get(value);
    if (cached) return cached;
    const bytes = this.encoder.encode(value);
    this.encodedStrings.set(value, bytes);
    return bytes;
  }
  writeString(value) {
    const bytes = this.encodeString(value);
    const size = bytes.length;
    this.writeUint32(size);
    this.writeBytes(bytes);
  }
  writeJson(value) {
    const json = JSON.stringify(value);
    this.writeString(json);
  }
};

// src/utils/typeChecks.ts
function isString(value) {
  return typeof value === "string";
}
function isNumber(value) {
  return Number.isFinite(value);
}
function isNull(value) {
  return value === null;
}

// src/code-generation/components/cms/bundled/models/DatabaseItemPointerModel.ts
var DatabaseItemPointerModel = class _DatabaseItemPointerModel {
  constructor(chunkId, offset, length) {
    this.chunkId = chunkId;
    this.offset = offset;
    this.length = length;
  }
  static fromString(value) {
    const [chunkId, offset, length] = value.split("/").map(Number);
    assert(isNumber(chunkId), "Invalid chunkId");
    assert(isNumber(offset), "Invalid offset");
    assert(isNumber(length), "Invalid length");
    return new _DatabaseItemPointerModel(chunkId, offset, length);
  }
  toString() {
    return \`\${this.chunkId}/\${this.offset}/\${this.length}\`;
  }
  static read(reader) {
    const chunkId = reader.readUint16();
    const offset = reader.readUint32();
    const length = reader.readUint32();
    return new _DatabaseItemPointerModel(chunkId, offset, length);
  }
  write(writer) {
    writer.writeUint16(this.chunkId);
    writer.writeUint32(this.offset);
    writer.writeUint32(this.length);
  }
  compare(other) {
    if (this.chunkId < other.chunkId) return -1;
    if (this.chunkId > other.chunkId) return 1;
    if (this.offset < other.offset) return -1;
    if (this.offset > other.offset) return 1;
    assert(this.length === other.length);
    return 0;
  }
};

// src/code-generation/components/cms/bundled/models/DatabaseValueModel.ts
import { ControlType } from "framer";
function getValueType(value) {
  if (isNull(value)) {
    return 0 /* Null */;
  }
  switch (value.type) {
    case ControlType.Array:
      return 1 /* Array */;
    case ControlType.Boolean:
      return 2 /* Boolean */;
    case ControlType.Color:
      return 3 /* Color */;
    case ControlType.Date:
      return 4 /* Date */;
    case ControlType.Enum:
      return 5 /* Enum */;
    case ControlType.File:
      return 6 /* File */;
    case ControlType.ResponsiveImage:
      return 10 /* ResponsiveImage */;
    case ControlType.Link:
      return 7 /* Link */;
    case ControlType.Number:
      return 8 /* Number */;
    case ControlType.Object:
      return 9 /* Object */;
    case ControlType.RichText:
      return 11 /* RichText */;
    case ControlType.String:
      return 12 /* String */;
    case ControlType.VectorSetItem:
      return 13 /* VectorSetItem */;
    default:
      assertNever(value);
  }
}
var DatabaseValueModel;
((DatabaseValueModel2) => {
  function read(reader) {
    const type = reader.readUint8();
    switch (type) {
      case 0 /* Null */:
        return null;
      case 1 /* Array */:
        return readArray(reader);
      case 2 /* Boolean */:
        return readBoolean(reader);
      case 3 /* Color */:
        return readColor(reader);
      case 4 /* Date */:
        return readDate(reader);
      case 5 /* Enum */:
        return readEnum(reader);
      case 6 /* File */:
        return readFile(reader);
      case 7 /* Link */:
        return readLink(reader);
      case 8 /* Number */:
        return readNumber(reader);
      case 9 /* Object */:
        return readObject(reader);
      case 10 /* ResponsiveImage */:
        return readResponsiveImage(reader);
      case 11 /* RichText */:
        return readRichText(reader);
      case 12 /* String */:
        return readString(reader);
      case 13 /* VectorSetItem */:
        return readVectorSetItem(reader);
      default:
        assertNever(type);
    }
  }
  DatabaseValueModel2.read = read;
  function write(writer, value) {
    const type = getValueType(value);
    writer.writeUint8(type);
    if (isNull(value)) return;
    switch (value.type) {
      case ControlType.Array:
        return writeArray(writer, value);
      case ControlType.Boolean:
        return writeBoolean(writer, value);
      case ControlType.Color:
        return writeColor(writer, value);
      case ControlType.Date:
        return writeDate(writer, value);
      case ControlType.Enum:
        return writeEnum(writer, value);
      case ControlType.File:
        return writeFile(writer, value);
      case ControlType.Link:
        return writeLink(writer, value);
      case ControlType.Number:
        return writeNumber(writer, value);
      case ControlType.Object:
        return writeObject(writer, value);
      case ControlType.ResponsiveImage:
        return writeResponsiveImage(writer, value);
      case ControlType.RichText:
        return writeRichText(writer, value);
      case ControlType.VectorSetItem:
        return writeVectorSetItem(writer, value);
      case ControlType.String:
        return writeString(writer, value);
      default:
        assertNever(value);
    }
  }
  DatabaseValueModel2.write = write;
  function compare(left, right, collation) {
    const leftType = getValueType(left);
    const rightType = getValueType(right);
    if (leftType < rightType) return -1;
    if (leftType > rightType) return 1;
    if (isNull(left) || isNull(right)) return 0;
    switch (left.type) {
      case ControlType.Array:
        assert(right.type === ControlType.Array);
        return compareArray(left, right, collation);
      case ControlType.Boolean:
        assert(right.type === ControlType.Boolean);
        return compareBoolean(left, right);
      case ControlType.Color:
        assert(right.type === ControlType.Color);
        return compareColor(left, right);
      case ControlType.Date:
        assert(right.type === ControlType.Date);
        return compareDate(left, right);
      case ControlType.Enum:
        assert(right.type === ControlType.Enum);
        return compareEnum(left, right);
      case ControlType.File:
        assert(right.type === ControlType.File);
        return compareFile(left, right);
      case ControlType.Link:
        assert(right.type === ControlType.Link);
        return compareLink(left, right);
      case ControlType.Number:
        assert(right.type === ControlType.Number);
        return compareNumber(left, right);
      case ControlType.Object:
        assert(right.type === ControlType.Object);
        return compareObject(left, right, collation);
      case ControlType.ResponsiveImage:
        assert(right.type === ControlType.ResponsiveImage);
        return compareResponsiveImage(left, right);
      case ControlType.RichText:
        assert(right.type === ControlType.RichText);
        return compareRichText(left, right);
      case ControlType.VectorSetItem:
        assert(right.type === ControlType.VectorSetItem);
        return compareVectorSetItem(left, right);
      case ControlType.String:
        assert(right.type === ControlType.String);
        return compareString(left, right, collation);
      default:
        assertNever(left);
    }
  }
  DatabaseValueModel2.compare = compare;
})(DatabaseValueModel || (DatabaseValueModel = {}));
function readArray(reader) {
  const length = reader.readUint16();
  const value = [];
  for (let i = 0; i < length; i++) {
    const item = DatabaseValueModel.read(reader);
    value.push(item);
  }
  return {
    type: ControlType.Array,
    value
  };
}
function writeArray(writer, value) {
  writer.writeUint16(value.value.length);
  for (const item of value.value) {
    DatabaseValueModel.write(writer, item);
  }
}
function compareArray(left, right, collation) {
  const leftLength = left.value.length;
  const rightLength = right.value.length;
  if (leftLength < rightLength) return -1;
  if (leftLength > rightLength) return 1;
  for (let i = 0; i < leftLength; i++) {
    const leftItem = left.value[i];
    const rightItem = right.value[i];
    const result = DatabaseValueModel.compare(leftItem, rightItem, collation);
    if (result !== 0) return result;
  }
  return 0;
}
function readBoolean(reader) {
  return {
    type: ControlType.Boolean,
    value: reader.readUint8() !== 0
  };
}
function writeBoolean(writer, value) {
  writer.writeUint8(value.value ? 1 : 0);
}
function compareBoolean(left, right) {
  if (left.value < right.value) return -1;
  if (left.value > right.value) return 1;
  return 0;
}
function readColor(reader) {
  return {
    type: ControlType.Color,
    value: reader.readString()
  };
}
function writeColor(writer, value) {
  writer.writeString(value.value);
}
function compareColor(left, right) {
  if (left.value < right.value) return -1;
  if (left.value > right.value) return 1;
  return 0;
}
function readDate(reader) {
  const timestamp = reader.readInt64();
  const date = new Date(timestamp);
  return {
    type: ControlType.Date,
    value: date.toISOString()
  };
}
function writeDate(writer, value) {
  const date = new Date(value.value);
  const timestamp = date.getTime();
  writer.writeInt64(timestamp);
}
function compareDate(left, right) {
  const leftDate = new Date(left.value);
  const rightDate = new Date(right.value);
  if (leftDate < rightDate) return -1;
  if (leftDate > rightDate) return 1;
  return 0;
}
function readEnum(reader) {
  return {
    type: ControlType.Enum,
    value: reader.readString()
  };
}
function writeEnum(writer, value) {
  writer.writeString(value.value);
}
function compareEnum(left, right) {
  if (left.value < right.value) return -1;
  if (left.value > right.value) return 1;
  return 0;
}
function readFile(reader) {
  return {
    type: ControlType.File,
    value: reader.readString()
  };
}
function writeFile(writer, value) {
  writer.writeString(value.value);
}
function compareFile(left, right) {
  if (left.value < right.value) return -1;
  if (left.value > right.value) return 1;
  return 0;
}
function readLink(reader) {
  return {
    type: ControlType.Link,
    value: reader.readJson()
  };
}
function writeLink(writer, value) {
  writer.writeJson(value.value);
}
function compareLink(left, right) {
  const leftEncoded = JSON.stringify(left.value);
  const rightEncoded = JSON.stringify(right.value);
  if (leftEncoded < rightEncoded) return -1;
  if (leftEncoded > rightEncoded) return 1;
  return 0;
}
function readNumber(reader) {
  return {
    type: ControlType.Number,
    value: reader.readFloat64()
  };
}
function writeNumber(writer, value) {
  writer.writeFloat64(value.value);
}
function compareNumber(left, right) {
  if (left.value < right.value) return -1;
  if (left.value > right.value) return 1;
  return 0;
}
function readObject(reader) {
  const length = reader.readUint16();
  const result = {};
  for (let i = 0; i < length; i++) {
    const key = reader.readString();
    result[key] = DatabaseValueModel.read(reader);
  }
  return {
    type: ControlType.Object,
    value: result
  };
}
function writeObject(writer, value) {
  const entries = Object.entries(value.value);
  writer.writeUint16(entries.length);
  for (const [key, item] of entries) {
    writer.writeString(key);
    DatabaseValueModel.write(writer, item);
  }
}
function compareObject(left, right, collation) {
  const leftKeys = Object.keys(left.value).sort();
  const rightKeys = Object.keys(right.value).sort();
  if (leftKeys.length < rightKeys.length) return -1;
  if (leftKeys.length > rightKeys.length) return 1;
  for (let i = 0; i < leftKeys.length; i++) {
    const leftKey = leftKeys[i];
    const rightKey = rightKeys[i];
    if (leftKey < rightKey) return -1;
    if (leftKey > rightKey) return 1;
    const leftValue = left.value[leftKey] ?? null;
    const rightValue = right.value[rightKey] ?? null;
    const result = DatabaseValueModel.compare(leftValue, rightValue, collation);
    if (result !== 0) return result;
  }
  return 0;
}
function readResponsiveImage(reader) {
  return {
    type: ControlType.ResponsiveImage,
    value: reader.readJson()
  };
}
function writeResponsiveImage(writer, value) {
  writer.writeJson(value.value);
}
function compareResponsiveImage(left, right) {
  const leftEncoded = JSON.stringify(left.value);
  const rightEncoded = JSON.stringify(right.value);
  if (leftEncoded < rightEncoded) return -1;
  if (leftEncoded > rightEncoded) return 1;
  return 0;
}
function readRichText(reader) {
  const type = reader.readInt8();
  if (type === 0) {
    return {
      type: ControlType.RichText,
      value: reader.readUint32()
    };
  }
  if (type === 1) {
    return {
      type: ControlType.RichText,
      value: reader.readString()
    };
  }
  throw new Error(\`Invalid rich text pointer\`);
}
function writeRichText(writer, value) {
  if (isNumber(value.value)) {
    writer.writeInt8(0);
    writer.writeUint32(value.value);
    return;
  }
  if (isString(value.value)) {
    writer.writeInt8(1);
    writer.writeString(value.value);
    return;
  }
  throw new Error(\`Invalid rich text pointer\`);
}
function compareRichText(left, right) {
  const leftValue = left.value;
  const rightValue = right.value;
  if (isNumber(leftValue) && isNumber(rightValue)) {
    if (leftValue < rightValue) return -1;
    if (leftValue > rightValue) return 1;
    return 0;
  }
  if (isString(leftValue) && isString(rightValue)) {
    if (leftValue < rightValue) return -1;
    if (leftValue > rightValue) return 1;
    return 0;
  }
  throw new Error(\`Invalid rich text pointer\`);
}
function readString(reader) {
  return {
    type: ControlType.String,
    value: reader.readString()
  };
}
function writeString(writer, value) {
  writer.writeString(value.value);
}
function compareString(left, right, collation) {
  let leftValue = left.value;
  let rightValue = right.value;
  if (collation.type === 0 /* CaseInsensitive */) {
    leftValue = left.value.toLowerCase();
    rightValue = right.value.toLowerCase();
  }
  if (leftValue < rightValue) return -1;
  if (leftValue > rightValue) return 1;
  return 0;
}
function readVectorSetItem(reader) {
  return {
    type: ControlType.VectorSetItem,
    value: reader.readUint32()
  };
}
function writeVectorSetItem(writer, value) {
  writer.writeUint32(value.value);
}
function compareVectorSetItem(left, right) {
  const leftValue = left.value;
  const rightValue = right.value;
  if (leftValue < rightValue) return -1;
  if (leftValue > rightValue) return 1;
  return 0;
}

// src/code-generation/components/cms/bundled/models/DatabaseDictionaryIndexModel.ts
var DatabaseDictionaryIndexModel = class _DatabaseDictionaryIndexModel {
  constructor(fieldNames, options) {
    this.fieldNames = fieldNames;
    this.options = options;
    __publicField(this, "entries", []);
  }
  sortEntries() {
    this.entries.sort((left, right) => {
      for (let i = 0; i < this.fieldNames.length; i++) {
        const leftValue = left.values[i];
        const rightValue = right.values[i];
        const result = DatabaseValueModel.compare(leftValue, rightValue, this.options.collation);
        if (result !== 0) return result;
      }
      return left.pointer.compare(right.pointer);
    });
  }
  static deserialize(bytes) {
    const reader = new BufferReader(bytes);
    const collation = reader.readJson();
    const fieldCount = reader.readUint8();
    const fieldNames = [];
    for (let i = 0; i < fieldCount; i++) {
      const fieldName = reader.readString();
      fieldNames.push(fieldName);
    }
    const index = new _DatabaseDictionaryIndexModel(fieldNames, {
      collation
    });
    const entryCount = reader.readUint32();
    for (let i = 0; i < entryCount; i++) {
      const values = [];
      for (let j = 0; j < fieldCount; j++) {
        const fieldValue = DatabaseValueModel.read(reader);
        values.push(fieldValue);
      }
      const pointer = DatabaseItemPointerModel.read(reader);
      index.entries.push({ values, pointer });
    }
    return index;
  }
  serialize() {
    const writer = new BufferWriter();
    writer.writeJson(this.options.collation);
    writer.writeUint8(this.fieldNames.length);
    for (const fieldName of this.fieldNames) {
      writer.writeString(fieldName);
    }
    this.sortEntries();
    writer.writeUint32(this.entries.length);
    for (const entry of this.entries) {
      const { values, pointer } = entry;
      for (const value of values) {
        DatabaseValueModel.write(writer, value);
      }
      pointer.write(writer);
    }
    return writer.subarray();
  }
  addItem(item, pointer) {
    const values = this.fieldNames.map((fieldName) => {
      return item.getField(fieldName) ?? null;
    });
    this.entries.push({ values, pointer });
  }
};

// src/code-generation/components/cms/bundled/fetchWithRetries.ts
var maxRetries = 3;
var baseDelay = 250;
var retriableHTTPCodes = [
  408,
  // Request Timeout
  429,
  // Too Many Requests
  500,
  // Internal Server Error
  502,
  // Bad Gateway
  503,
  // Service Unavailable
  504
  // Gateway Timeout
];
var fetchWithRetries = async (input, init) => {
  let retryCount = 0;
  while (true) {
    try {
      const res = await fetch(input, init);
      if (!retriableHTTPCodes.includes(res.status) || ++retryCount > maxRetries) {
        return res;
      }
    } catch (error) {
      if (init?.signal?.aborted || ++retryCount > maxRetries) {
        throw error;
      }
    }
    await retryDelay(retryCount);
  }
};
async function retryDelay(retryCount) {
  const backoffExponent = retryCount - 1;
  const jitter = Math.random() + 1;
  const timeout = Math.floor(baseDelay * jitter * 2 ** backoffExponent);
  await new Promise((resolve) => {
    setTimeout(resolve, timeout);
  });
}

// src/code-generation/components/cms/bundled/rangeRequest.ts
async function rangeRequest(url, ranges) {
  const collapsedRanges = collapseRanges(ranges);
  const rangeStrings = [];
  let expectedLength = 0;
  for (const range of collapsedRanges) {
    rangeStrings.push(\`\${range.from}-\${range.to - 1}\`);
    expectedLength += range.to - range.from;
  }
  const rangeUrl = new URL(url);
  const rangeQuery = rangeStrings.join(",");
  rangeUrl.searchParams.set("range", rangeQuery);
  const response = await fetchWithRetries(rangeUrl);
  if (response.status !== 200) {
    throw new Error(\`Request failed: \${response.status} \${response.statusText}\`);
  }
  const buffer = await response.arrayBuffer();
  const bytes = new Uint8Array(buffer);
  if (bytes.length !== expectedLength) {
    throw new Error("Request failed: Unexpected response length");
  }
  const file = new PartialFile();
  let start = 0;
  for (const range of collapsedRanges) {
    const length = range.to - range.from;
    const end = start + length;
    const part = bytes.subarray(start, end);
    file.write(range.from, part);
    start = end;
  }
  return ranges.map((range) => {
    return file.read(range.from, range.to - range.from);
  });
}
var PartialFile = class {
  constructor() {
    __publicField(this, "chunks", []);
  }
  read(position, length) {
    for (const chunk of this.chunks) {
      if (position < chunk.start) {
        throw new Error("Missing data");
      }
      if (position > chunk.end) {
        continue;
      }
      if (position + length > chunk.end) {
        throw new Error("Missing data");
      }
      const from = position - chunk.start;
      const to = from + length;
      return chunk.data.slice(from, to);
    }
    throw new Error("Missing data");
  }
  write(position, data) {
    let start = position;
    let end = start + data.length;
    let fromIndex = 0;
    let toIndex = this.chunks.length;
    for (; fromIndex < toIndex; fromIndex++) {
      const chunk2 = this.chunks[fromIndex];
      assert(chunk2, "Missing chunk");
      if (start > chunk2.end) {
        continue;
      }
      if (start > chunk2.start) {
        const offset = start - chunk2.start;
        const prefix = chunk2.data.subarray(0, offset);
        data = join(prefix, data);
        start = chunk2.start;
      }
      break;
    }
    for (; toIndex > fromIndex; toIndex--) {
      const chunk2 = this.chunks[toIndex - 1];
      assert(chunk2, "Missing chunk");
      if (end < chunk2.start) {
        continue;
      }
      if (end < chunk2.end) {
        const offset = end - chunk2.start;
        const suffix = chunk2.data.subarray(offset);
        data = join(data, suffix);
        end = chunk2.end;
      }
      break;
    }
    const chunk = {
      start,
      end,
      data
    };
    const deleteCount = toIndex - fromIndex;
    this.chunks.splice(fromIndex, deleteCount, chunk);
  }
};
function join(left, right) {
  const length = left.length + right.length;
  const result = new Uint8Array(length);
  result.set(left, 0);
  result.set(right, left.length);
  return result;
}
function collapseRanges(ranges) {
  assert(ranges.length > 0, "Must have at least one range");
  const sorted = [...ranges].sort((a, b) => a.from - b.from);
  const collapsed = [];
  for (const range of sorted) {
    const index = collapsed.length - 1;
    const previous = collapsed[index];
    if (previous && range.from <= previous.to) {
      collapsed[index] = {
        from: previous.from,
        to: Math.max(previous.to, range.to)
      };
    } else {
      collapsed.push(range);
    }
  }
  return collapsed;
}

// src/code-generation/components/cms/bundled/DatabaseDictionaryIndex.ts
var DatabaseDictionaryIndex = class {
  constructor(options) {
    this.options = options;
    __publicField(this, "schema");
    __publicField(this, "fields");
    __publicField(this, "supportedLookupTypes", [
      "All" /* All */,
      "Equals" /* Equals */,
      "NotEquals" /* NotEquals */,
      "LessThan" /* LessThan */,
      "GreaterThan" /* GreaterThan */,
      "Contains" /* Contains */,
      "StartsWith" /* StartsWith */,
      "EndsWith" /* EndsWith */
    ]);
    __publicField(this, "modelPromise");
    __publicField(this, "model");
    __publicField(this, "collation");
    const schema = {};
    const fields = [];
    for (const fieldName of this.options.fieldNames) {
      const definition = this.options.collectionSchema[fieldName];
      assert(definition, "Missing definition for field", fieldName);
      schema[fieldName] = definition;
      fields.push({ type: "Identifier", name: fieldName });
    }
    this.schema = schema;
    this.fields = fields;
    this.collation = this.options.collation;
  }
  async loadModel() {
    const [bytes] = await rangeRequest(this.options.url, [this.options.range]);
    assert(bytes, "Failed to load model");
    return DatabaseDictionaryIndexModel.deserialize(bytes);
  }
  async getModel() {
    this.modelPromise ??= this.loadModel();
    this.model ??= await this.modelPromise;
    return this.model;
  }
  async lookupItems(queries) {
    assert(queries.length === this.fields.length, "Invalid query length");
    const model = await this.getModel();
    const chunks = queries.reduce(
      (memo, query, position) => memo.flatMap((entries) => {
        switch (query.type) {
          case "All" /* All */:
            return [entries];
          case "Equals" /* Equals */:
            return this.queryEquals(entries, query, position);
          case "NotEquals" /* NotEquals */:
            return this.queryNotEquals(entries, query, position);
          case "LessThan" /* LessThan */:
            return this.queryLessThan(entries, query, position);
          case "GreaterThan" /* GreaterThan */:
            return this.queryGreaterThan(entries, query, position);
          case "Contains" /* Contains */:
            return this.queryContains(entries, query, position);
          case "StartsWith" /* StartsWith */:
            return this.queryStartsWith(entries, query, position);
          case "EndsWith" /* EndsWith */:
            return this.queryEndsWith(entries, query, position);
          default:
            assertNever(query);
        }
      }),
      [model.entries]
    );
    const result = [];
    for (const entries of chunks) {
      for (const entry of entries) {
        const data = {};
        for (let i = 0; i < this.options.fieldNames.length; i++) {
          const fieldName = this.options.fieldNames[i];
          const fieldValue = entry.values[i];
          data[fieldName] = fieldValue;
        }
        result.push({ pointer: entry.pointer.toString(), data });
      }
    }
    return result;
  }
  queryEquals(entries, query, position) {
    const leftMost = this.getLeftMost(entries, position, query.value);
    const rightMost = this.getRightMost(entries, position, query.value);
    const slice = entries.slice(leftMost, rightMost + 1);
    return slice.length > 0 ? [slice] : [];
  }
  queryNotEquals(entries, query, position) {
    const leftMost = this.getLeftMost(entries, position, query.value);
    const rightMost = this.getRightMost(entries, position, query.value);
    const result = [];
    const before = entries.slice(0, leftMost);
    if (before.length > 0) result.push(before);
    const after = entries.slice(rightMost + 1);
    if (after.length > 0) result.push(after);
    return result;
  }
  queryLessThan(entries, query, position) {
    const nullBound = this.getRightMost(entries, position, null);
    entries = entries.slice(nullBound + 1);
    if (query.inclusive) {
      const rightMost = this.getRightMost(entries, position, query.value);
      const slice2 = entries.slice(0, rightMost + 1);
      return slice2.length > 0 ? [slice2] : [];
    }
    const leftMost = this.getLeftMost(entries, position, query.value);
    const slice = entries.slice(0, leftMost);
    return slice.length > 0 ? [slice] : [];
  }
  queryGreaterThan(entries, query, position) {
    const nullBound = this.getRightMost(entries, position, null);
    entries = entries.slice(nullBound + 1);
    if (query.inclusive) {
      const leftMost = this.getLeftMost(entries, position, query.value);
      const slice2 = entries.slice(leftMost);
      return slice2.length > 0 ? [slice2] : [];
    }
    const rightMost = this.getRightMost(entries, position, query.value);
    const slice = entries.slice(rightMost + 1);
    return slice.length > 0 ? [slice] : [];
  }
  queryContains(entries, query, position) {
    return this.findItems(entries, position, (current) => {
      if (current?.type !== ControlType2.String) return false;
      if (query.value?.type !== ControlType2.String) return false;
      let source = current.value;
      let target = query.value.value;
      if (this.collation.type === 0 /* CaseInsensitive */) {
        source = source.toLowerCase();
        target = target.toLowerCase();
      }
      return source.includes(target);
    });
  }
  queryStartsWith(entries, query, position) {
    return this.findItems(entries, position, (current) => {
      if (current?.type !== ControlType2.String) return false;
      if (query.value?.type !== ControlType2.String) return false;
      let source = current.value;
      let target = query.value.value;
      if (this.collation.type === 0 /* CaseInsensitive */) {
        source = source.toLowerCase();
        target = target.toLowerCase();
      }
      return source.startsWith(target);
    });
  }
  queryEndsWith(entries, query, position) {
    return this.findItems(entries, position, (current) => {
      if (current?.type !== ControlType2.String) return false;
      if (query.value?.type !== ControlType2.String) return false;
      let source = current.value;
      let target = query.value.value;
      if (this.collation.type === 0 /* CaseInsensitive */) {
        source = source.toLowerCase();
        target = target.toLowerCase();
      }
      return source.endsWith(target);
    });
  }
  /**
   * Returns the index of the left most entry that is equal to the target.
   *
   * \`\`\`text
   *   Left most
   *       \u2193
   * \u250C\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u2510
   * \u2502 1 \u2502 2 \u2502 2 \u2502 2 \u2502 2 \u2502 3 \u2502
   * \u2514\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2518
   * \`\`\`
   *
   * @param entries The entries array to search in.
   * @param position The position of the value in the entry.
   * @param target The target value to search for.
   * @returns The index of the left most entry that is equal to the target.
   */
  getLeftMost(entries, position, target) {
    let left = 0;
    let right = entries.length;
    while (left < right) {
      const middle = left + right >> 1;
      const entry = entries[middle];
      const value = entry.values[position];
      if (DatabaseValueModel.compare(value, target, this.collation) < 0) {
        left = middle + 1;
      } else {
        right = middle;
      }
    }
    return left;
  }
  /**
   * Returns the index of the right most entry that is equal to the target.
   *
   * \`\`\`text
   *              Right most
   *                   \u2193
   * \u250C\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u2510
   * \u2502 1 \u2502 2 \u2502 2 \u2502 2 \u2502 2 \u2502 3 \u2502
   * \u2514\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2518
   * \`\`\`
   *
   * @param entries The entries array to search in.
   * @param position The position of the value in the entry.
   * @param target The target value to search for.
   * @returns The index of the right most entry that is equal to the target.
   */
  getRightMost(entries, position, target) {
    let left = 0;
    let right = entries.length;
    while (left < right) {
      const middle = left + right >> 1;
      const entry = entries[middle];
      const value = entry.values[position];
      if (DatabaseValueModel.compare(value, target, this.collation) > 0) {
        right = middle;
      } else {
        left = middle + 1;
      }
    }
    return right - 1;
  }
  /**
   * Finds all items that are matching the predicate and groups adjacent items together.
   *
   * @param entries The entries array to search in.
   * @param position The position of the value in the entry.
   * @param predicate The predicate to match the values against.
   * @returns An array of chunks that match the predicate.
   */
  findItems(entries, position, predicate) {
    const result = [];
    let start = 0;
    for (let i = 0; i < entries.length; i++) {
      const entry = entries[i];
      const value = entry.values[position];
      const isMatching = predicate(value);
      if (isMatching) continue;
      if (start < i) {
        const slice = entries.slice(start, i);
        result.push(slice);
      }
      start = i + 1;
    }
    if (start < entries.length) {
      const slice = entries.slice(start);
      result.push(slice);
    }
    return result;
  }
};

// src/code-generation/components/cms/bundled/models/DatabaseItemModel.ts
var DatabaseItemModel = class _DatabaseItemModel {
  constructor() {
    __publicField(this, "fields", /* @__PURE__ */ new Map());
  }
  static read(reader) {
    const item = new _DatabaseItemModel();
    const fieldCount = reader.readUint16();
    for (let i = 0; i < fieldCount; i++) {
      const key = reader.readString();
      const value = DatabaseValueModel.read(reader);
      item.setField(key, value);
    }
    return item;
  }
  write(writer) {
    writer.writeUint16(this.fields.size);
    for (const [key, value] of this.fields) {
      writer.writeString(key);
      DatabaseValueModel.write(writer, value);
    }
  }
  getData() {
    const data = {};
    for (const [key, value] of this.fields) {
      data[key] = value;
    }
    return data;
  }
  setField(key, value) {
    this.fields.set(key, value);
  }
  getField(key) {
    return this.fields.get(key);
  }
};

// src/code-generation/components/cms/bundled/DatabaseCollection.ts?bundle
var DatabaseChunk = class {
  constructor(id, url) {
    this.id = id;
    this.url = url;
    __publicField(this, "itemsPromise");
    __publicField(this, "itemLoader", new import_dataloader.default(async (pointers) => {
      const ranges = pointers.map((pointer) => {
        const pointerModel = DatabaseItemPointerModel.fromString(pointer);
        return { from: pointerModel.offset, to: pointerModel.offset + pointerModel.length };
      });
      const rangeBytes = await rangeRequest(this.url, ranges);
      return rangeBytes.map((bytes, index) => {
        const reader = new BufferReader(bytes);
        const itemModel = DatabaseItemModel.read(reader);
        const pointer = pointers[index];
        assert(pointer, "Missing pointer");
        return {
          pointer,
          data: itemModel.getData()
        };
      });
    }));
  }
  scanItems() {
    this.itemsPromise ??= fetchWithRetries(this.url).then(async (response) => {
      if (!response.ok) {
        throw new Error(\`Request failed: \${response.status} \${response.statusText}\`);
      }
      const buffer = await response.arrayBuffer();
      const bytes = new Uint8Array(buffer);
      const reader = new BufferReader(bytes);
      const items = [];
      const itemCount = reader.readUint32();
      for (let i = 0; i < itemCount; i++) {
        const offset = reader.getOffset();
        const itemModel = DatabaseItemModel.read(reader);
        const length = reader.getOffset() - offset;
        const pointerModel = new DatabaseItemPointerModel(this.id, offset, length);
        const pointer = pointerModel.toString();
        const item = {
          pointer,
          data: itemModel.getData()
        };
        this.itemLoader.prime(pointer, item);
        items.push(item);
      }
      return items;
    });
    return this.itemsPromise;
  }
  resolveItem(pointer) {
    return this.itemLoader.load(pointer);
  }
};
var DatabaseCollection = class {
  constructor(options) {
    this.options = options;
    __publicField(this, "schema");
    __publicField(this, "indexes");
    __publicField(this, "resolveRichText");
    __publicField(this, "resolveVectorSetItem");
    __publicField(this, "chunks");
    this.chunks = this.options.chunks.map((url, id) => {
      return new DatabaseChunk(id, url);
    });
    this.schema = options.schema;
    this.indexes = options.indexes;
    this.resolveRichText = options.resolveRichText;
    this.resolveVectorSetItem = options.resolveVectorSetItem;
  }
  async scanItems() {
    const chunkedItems = await Promise.all(
      this.chunks.map(async (chunk) => {
        return chunk.scanItems();
      })
    );
    return chunkedItems.flat();
  }
  async resolveItems(pointers) {
    return Promise.all(
      pointers.map((pointer) => {
        const pointerModel = DatabaseItemPointerModel.fromString(pointer);
        const chunk = this.chunks[pointerModel.chunkId];
        assert(chunk, "Missing chunk");
        return chunk.resolveItem(pointer);
      })
    );
  }
  compareItems(left, right) {
    const leftModel = DatabaseItemPointerModel.fromString(left.pointer);
    const rightModel = DatabaseItemPointerModel.fromString(right.pointer);
    return leftModel.compare(rightModel);
  }
  compareValues(left, right, collation) {
    return DatabaseValueModel.compare(left, right, collation);
  }
};
export {
  DatabaseCollection,
  DatabaseDictionaryIndex
};
`;var YS=`var __defProp = Object.defineProperty;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);

// src/code-generation/components/cms/bundled/DraftDatabaseCollection.ts?bundle
import { ControlType } from "framer";

// src/utils/typeChecks.ts
function isString(value) {
  return typeof value === "string";
}
function isNumber(value) {
  return Number.isFinite(value);
}

// src/code-generation/components/cms/bundled/assert.ts
function assert(condition, ...msg) {
  if (condition) return;
  throw Error("Assertion Error" + (msg.length > 0 ? ": " + msg.join(" ") : ""));
}

// src/code-generation/components/cms/bundled/DraftDatabaseCollection.ts?bundle
var DraftDatabaseCollection = class {
  constructor(draftCollection, originalCollection, previousItemId, nextItemId) {
    this.draftCollection = draftCollection;
    this.originalCollection = originalCollection;
    this.previousItemId = previousItemId;
    this.nextItemId = nextItemId;
    __publicField(this, "schema");
    // We cannot use the original indexes because the draft items
    // are not in the original collection.
    // Having no indexes means that we perform a full collection scan for every query.
    __publicField(this, "indexes", []);
    __publicField(this, "itemsPromise");
    this.schema = originalCollection.schema;
    this.itemsPromise = this.getItems();
  }
  async getItems() {
    const [[...draftItems], [...originalItems]] = await Promise.all([
      this.draftCollection.scanItems(),
      this.originalCollection.scanItems()
    ]);
    const lastDraftItem = draftItems.pop();
    const firstOriginalItem = originalItems.shift();
    if (lastDraftItem) {
      draftItems.push({
        ...lastDraftItem,
        data: {
          ...lastDraftItem.data,
          [this.nextItemId]: firstOriginalItem?.data.id ?? null
        }
      });
    }
    if (firstOriginalItem) {
      originalItems.unshift({
        ...firstOriginalItem,
        data: {
          ...firstOriginalItem.data,
          [this.previousItemId]: lastDraftItem?.data.id ?? null
        }
      });
    }
    return draftItems.map(draftItem).concat(...originalItems);
  }
  /**
   * Get all items, updating pointers for draft items.
   */
  async scanItems() {
    return this.itemsPromise;
  }
  /**
   * Depending on the pointer, resolve draft rich text from the draft
   * collection, and original rich text from the original collection.
   */
  async resolveRichText(pointer) {
    if (isDraftRichTextPointer(pointer)) {
      const originalPointer = undraftRichTextPointer(pointer);
      return this.draftCollection.resolveRichText(originalPointer);
    }
    return this.originalCollection.resolveRichText(pointer);
  }
  async resolveVectorSetItem(pointer) {
    if (isDraftVectorSetItemPointer(pointer)) {
      const originalPointer = undraftVectorSetItemPointer(pointer);
      return this.draftCollection.resolveVectorSetItem?.(originalPointer);
    }
    return this.originalCollection.resolveVectorSetItem?.(pointer);
  }
  async resolveItems(pointers) {
    const items = await this.itemsPromise;
    return pointers.map((pointer) => {
      const item = items.find((current) => current.pointer === pointer);
      assert(item, "Item must exist");
      return item;
    });
  }
  /**
   * Compare two items, the draft items should come first.
   */
  compareItems(left, right) {
    const leftIsDraft = isDraftPointer(left.pointer);
    const rightIsDraft = isDraftPointer(right.pointer);
    if (leftIsDraft && rightIsDraft) {
      const originalLeft = undraftItem(left);
      const originalRight = undraftItem(right);
      return this.draftCollection.compareItems(originalLeft, originalRight);
    }
    if (leftIsDraft) return -1;
    if (rightIsDraft) return 1;
    return this.originalCollection.compareItems(left, right);
  }
};
var draftPrefix = "draft:";
function isDraftPointer(pointer) {
  return pointer.startsWith(draftPrefix);
}
function draftPointer(pointer) {
  assert(!isDraftPointer(pointer), "Should be a non-draft pointer");
  return draftPrefix + pointer;
}
function undraftPointer(pointer) {
  assert(isDraftPointer(pointer), "Should be a draft pointer");
  return pointer.slice(draftPrefix.length);
}
function isDraftRichTextPointer(pointer) {
  if (isNumber(pointer)) {
    return pointer < 0;
  }
  if (isString(pointer)) {
    return pointer.startsWith(draftPrefix);
  }
  throw new Error("Invalid rich text pointer");
}
function draftRichTextPointer(pointer) {
  assert(!isDraftRichTextPointer(pointer), "Should be a non-draft rich text pointer");
  if (isNumber(pointer)) {
    return -pointer - 1;
  }
  if (isString(pointer)) {
    return draftPrefix + pointer;
  }
  throw new Error("Invalid rich text pointer");
}
function undraftRichTextPointer(pointer) {
  assert(isDraftRichTextPointer(pointer), "Should be a draft rich text pointer");
  if (isNumber(pointer)) {
    return -pointer - 1;
  }
  if (isString(pointer)) {
    return pointer.slice(draftPrefix.length);
  }
  throw new Error("Invalid rich text pointer");
}
function isDraftVectorSetItemPointer(pointer) {
  assert(isNumber(pointer), "Invalid vector set item pointer");
  return pointer < 0;
}
function draftVectorSetItemPointer(pointer) {
  assert(isNumber(pointer), "Invalid vector set item pointer");
  assert(!isDraftVectorSetItemPointer(pointer), "Should be a non-draft vector set item pointer");
  return -pointer - 1;
}
function undraftVectorSetItemPointer(pointer) {
  assert(isNumber(pointer), "Invalid vector set item pointer");
  assert(isDraftVectorSetItemPointer(pointer), "Should be a draft vector set item pointer");
  return -pointer - 1;
}
function draftItem(item) {
  const data = {};
  for (const [key, value] of Object.entries(item.data)) {
    if (value?.type === ControlType.RichText) {
      data[key] = {
        type: ControlType.RichText,
        value: draftRichTextPointer(value.value)
      };
    } else if (value?.type === ControlType.VectorSetItem) {
      data[key] = {
        type: ControlType.VectorSetItem,
        value: draftVectorSetItemPointer(value.value)
      };
    } else {
      data[key] = value;
    }
  }
  return {
    pointer: draftPointer(item.pointer),
    data
  };
}
function undraftItem(item) {
  const data = {};
  for (const [key, value] of Object.entries(item.data)) {
    if (value?.type === ControlType.RichText) {
      data[key] = {
        type: ControlType.RichText,
        value: undraftRichTextPointer(value.value)
      };
    } else if (value?.type === ControlType.VectorSetItem) {
      data[key] = {
        type: ControlType.VectorSetItem,
        value: undraftVectorSetItemPointer(value.value)
      };
    } else {
      data[key] = value;
    }
  }
  return {
    pointer: undraftPointer(item.pointer),
    data
  };
}
export {
  DraftDatabaseCollection
};
`;var Jn=class e{constructor(t,r,o){this.chunkId=t;this.offset=r;this.length=o}static fromString(t){let[r,o,n]=t.split("/").map(Number);return Be(G(r),"Invalid chunkId"),Be(G(o),"Invalid offset"),Be(G(n),"Invalid length"),new e(r,o,n)}toString(){return`${this.chunkId}/${this.offset}/${this.length}`}static read(t){let r=t.readUint16(),o=t.readUint32(),n=t.readUint32();return new e(r,o,n)}write(t){t.writeUint16(this.chunkId),t.writeUint32(this.offset),t.writeUint32(this.length)}compare(t){return this.chunkId<t.chunkId?-1:this.chunkId>t.chunkId?1:this.offset<t.offset?-1:this.offset>t.offset?1:(Be(this.length===t.length),0)}};function Qc(e){if(rt(e))return 0;switch(e.type){case"array":return 1;case"boolean":return 2;case"color":return 3;case"date":return 4;case"enum":return 5;case"file":return 6;case"responsiveimage":return 10;case"link":return 7;case"number":return 8;case"object":return 9;case"richtext":return 11;case"string":return 12;case"vectorsetitem":return 13;default:Mi(e)}}var Gt;(o=>{function e(n){let i=n.readUint8();switch(i){case 0:return null;case 1:return xN(n);case 2:return DN(n);case 3:return FN(n);case 4:return AN(n);case 5:return zN(n);case 6:return HN(n);case 7:return JN(n);case 8:return XN(n);case 9:return YN(n);case 10:return ew(n);case 11:return ow(n);case 12:return aw(n);case 13:return cw(n);default:Mi(i)}}o.read=e;function t(n,i){let a=Qc(i);if(n.writeUint8(a),!rt(i))switch(i.type){case"array":return MN(n,i);case"boolean":return kN(n,i);case"color":return LN(n,i);case"date":return BN(n,i);case"enum":return WN(n,i);case"file":return GN(n,i);case"link":return _N(n,i);case"number":return qN(n,i);case"object":return QN(n,i);case"responsiveimage":return tw(n,i);case"richtext":return nw(n,i);case"vectorsetitem":return dw(n,i);case"string":return sw(n,i);default:Mi(i)}}o.write=t;function r(n,i,a){let s=Qc(n),l=Qc(i);if(s<l)return-1;if(s>l)return 1;if(rt(n)||rt(i))return 0;switch(n.type){case"array":return Be(i.type==="array"),VN(n,i,a);case"boolean":return Be(i.type==="boolean"),PN(n,i);case"color":return Be(i.type==="color"),EN(n,i);case"date":return Be(i.type==="date"),ON(n,i);case"enum":return Be(i.type==="enum"),$N(n,i);case"file":return Be(i.type==="file"),UN(n,i);case"link":return Be(i.type==="link"),jN(n,i);case"number":return Be(i.type==="number"),KN(n,i);case"object":return Be(i.type==="object"),ZN(n,i,a);case"responsiveimage":return Be(i.type==="responsiveimage"),rw(n,i);case"richtext":return Be(i.type==="richtext"),iw(n,i);case"vectorsetitem":return Be(i.type==="vectorsetitem"),uw(n,i);case"string":return Be(i.type==="string"),lw(n,i,a);default:Mi(n)}}o.compare=r})(Gt||={});function xN(e){let t=e.readUint16(),r=[];for(let o=0;o<t;o++){let n=Gt.read(e);r.push(n)}return{type:"array",value:r}}function MN(e,t){e.writeUint16(t.value.length);for(let r of t.value)Gt.write(e,r)}function VN(e,t,r){let o=e.value.length,n=t.value.length;if(o<n)return-1;if(o>n)return 1;for(let i=0;i<o;i++){let a=e.value[i],s=t.value[i],l=Gt.compare(a,s,r);if(l!==0)return l}return 0}function DN(e){return{type:"boolean",value:e.readUint8()!==0}}function kN(e,t){e.writeUint8(t.value?1:0)}function PN(e,t){return e.value<t.value?-1:e.value>t.value?1:0}function FN(e){return{type:"color",value:e.readString()}}function LN(e,t){e.writeString(t.value)}function EN(e,t){return e.value<t.value?-1:e.value>t.value?1:0}function AN(e){let t=e.readInt64(),r=new Date(t);return{type:"date",value:r.toISOString()}}function BN(e,t){let o=new Date(t.value).getTime();e.writeInt64(o)}function ON(e,t){let r=new Date(e.value),o=new Date(t.value);return r<o?-1:r>o?1:0}function zN(e){return{type:"enum",value:e.readString()}}function WN(e,t){e.writeString(t.value)}function $N(e,t){return e.value<t.value?-1:e.value>t.value?1:0}function HN(e){return{type:"file",value:e.readString()}}function GN(e,t){e.writeString(t.value)}function UN(e,t){return e.value<t.value?-1:e.value>t.value?1:0}function JN(e){return{type:"link",value:e.readJson()}}function _N(e,t){e.writeJson(t.value)}function jN(e,t){let r=JSON.stringify(e.value),o=JSON.stringify(t.value);return r<o?-1:r>o?1:0}function XN(e){return{type:"number",value:e.readFloat64()}}function qN(e,t){e.writeFloat64(t.value)}function KN(e,t){return e.value<t.value?-1:e.value>t.value?1:0}function YN(e){let t=e.readUint16(),r={};for(let o=0;o<t;o++){let n=e.readString();r[n]=Gt.read(e)}return{type:"object",value:r}}function QN(e,t){let r=Object.entries(t.value);e.writeUint16(r.length);for(let[o,n]of r)e.writeString(o),Gt.write(e,n)}function ZN(e,t,r){let o=Object.keys(e.value).sort(),n=Object.keys(t.value).sort();if(o.length<n.length)return-1;if(o.length>n.length)return 1;for(let i=0;i<o.length;i++){let a=o[i],s=n[i];if(a<s)return-1;if(a>s)return 1;let l=e.value[a]??null,c=t.value[s]??null,m=Gt.compare(l,c,r);if(m!==0)return m}return 0}function ew(e){return{type:"responsiveimage",value:e.readJson()}}function tw(e,t){e.writeJson(t.value)}function rw(e,t){let r=JSON.stringify(e.value),o=JSON.stringify(t.value);return r<o?-1:r>o?1:0}function ow(e){let t=e.readInt8();if(t===0)return{type:"richtext",value:e.readUint32()};if(t===1)return{type:"richtext",value:e.readString()};throw new Error("Invalid rich text pointer")}function nw(e,t){if(G(t.value)){e.writeInt8(0),e.writeUint32(t.value);return}if(A(t.value)){e.writeInt8(1),e.writeString(t.value);return}throw new Error("Invalid rich text pointer")}function iw(e,t){let r=e.value,o=t.value;if(G(r)&&G(o)||A(r)&&A(o))return r<o?-1:r>o?1:0;throw new Error("Invalid rich text pointer")}function aw(e){return{type:"string",value:e.readString()}}function sw(e,t){e.writeString(t.value)}function lw(e,t,r){let o=e.value,n=t.value;return r.type===0&&(o=e.value.toLowerCase(),n=t.value.toLowerCase()),o<n?-1:o>n?1:0}function cw(e){return{type:"vectorsetitem",value:e.readUint32()}}function dw(e,t){e.writeUint32(t.value)}function uw(e,t){let r=e.value,o=t.value;return r<o?-1:r>o?1:0}var Fr=class e{constructor(t,r){this.fieldNames=t;this.options=r;R(this,"entries",[])}sortEntries(){this.entries.sort((t,r)=>{for(let o=0;o<this.fieldNames.length;o++){let n=t.values[o],i=r.values[o],a=Gt.compare(n,i,this.options.collation);if(a!==0)return a}return t.pointer.compare(r.pointer)})}static deserialize(t){let r=new Bs(t),o=r.readJson(),n=r.readUint8(),i=[];for(let l=0;l<n;l++){let c=r.readString();i.push(c)}let a=new e(i,{collation:o}),s=r.readUint32();for(let l=0;l<s;l++){let c=[];for(let u=0;u<n;u++){let p=Gt.read(r);c.push(p)}let m=Jn.read(r);a.entries.push({values:c,pointer:m})}return a}serialize(){let t=new Xo;t.writeJson(this.options.collation),t.writeUint8(this.fieldNames.length);for(let r of this.fieldNames)t.writeString(r);this.sortEntries(),t.writeUint32(this.entries.length);for(let r of this.entries){let{values:o,pointer:n}=r;for(let i of o)Gt.write(t,i);n.write(t)}return t.subarray()}addItem(t,r){let o=this.fieldNames.map(n=>t.getField(n)??null);this.entries.push({values:o,pointer:r})}};var Os=class e{constructor(){R(this,"fields",new Map)}static read(t){let r=new e,o=t.readUint16();for(let n=0;n<o;n++){let i=t.readString(),a=Gt.read(t);r.setField(i,a)}return r}write(t){t.writeUint16(this.fields.size);for(let[r,o]of this.fields)t.writeString(r),Gt.write(t,o)}getData(){let t={};for(let[r,o]of this.fields)t[r]=o;return t}setField(t,r){this.fields.set(t,r)}getField(t){return this.fields.get(t)}};function Zc(e){return d`${e}.replace("/modules/", "/cms/")`}var pw=fe("serializeDatabase"),ed=4*1024*1024,fw=5e3;async function QS(e,t,r,o,n,i,a,s,l,c,m,u){let p=new Es(e,t,i,o,l,c,a,s),f=e.getPropertyControls(t.tree),h=Object.entries(f),y=Rm(t.tree,{includeDrafts:!0}),b={[_r]:{type:_o("string",i),isNullable:!1},[pc]:{type:_o("date",i),isNullable:!0},[fc]:{type:_o("date",i),isNullable:!0},[yi]:{type:_o("string",i),isNullable:!0},[Si]:{type:_o("string",i),isNullable:!0}};function S(Y){return _o(Y,i)}for(let[Y,de]of h){let ae=fy(de,S);ae&&(b[Y]=ae)}let I=c.dedupe("schema",new B(b,0)),T=uy(e.variables),x=e.variables.find(rm),V=o.create(KS),L,F,J=u?!0:void 0,$=e.getSortedChildren().filter(Y=>Y.isDraft===J);if(u){let Y=Fe("collection",e.id);if(L=d`${i.addImport(`../${Y}`,{exportSpecifier:"default",importBinding:"originalCollection"})}.collectionByLocaleId`,$.length===0){let ae={displayName:e.name??"Unknown",collectionByLocaleId:L};return d`${ae}`}let de=o.create(YS);F=i.addImport(de.submoduleImport,{exportSpecifier:"DraftDatabaseCollection"})}let K=i.addImport(V.submoduleImport,{exportSpecifier:"DatabaseCollection"}),ce={};for(let Y of y){let ee=function(){let te=new Xo;return te.writeUint32(0),te},Ye=function(te){let se=we.subarray(0,te);Un(se).setUint32(0,ue),E.push(se)};var ye=ee,ne=Ye;let de=[new Fr([_r],{collation:{type:1}}),new Fr([yi],{collation:{type:1}}),new Fr([Si],{collation:{type:1}})];x&&de.push(new Fr([_r,x.id],{collation:{type:1}}),new Fr([x.id,_r],{collation:{type:1}}));for(let[te]of h)de.push(new Fr([te],{collation:{type:0}}));let ae=new As,Ie=$.filter(te=>{let se=jg(t.tree,te);return se?se.includes(Y.id):!0}),Je=[];for(let te=0;te<Ie.length;te++){let se=Ie[te];g(se,"Node must exist");let ze=new Os;ze.setField(_r,{type:"string",value:se.id});let or=se.createdAt;or&&ze.setField(pc,{type:"date",value:new Date(or).toISOString()});let vr=se.updatedAt;vr&&ze.setField(fc,{type:"date",value:new Date(vr).toISOString()});let oo=Ie[te-1];oo&&ze.setField(yi,{type:"string",value:oo.id});let jt=Ie[te+1];jt&&ze.setField(Si,{type:"string",value:jt.id});let Xt={resolveColor(Qe){return m.addColor(Qe)},resolveFile(Qe){return a.resolve(Qe)?.src},resolveImage(Qe,ct){return a.resolveResponsiveImage(Qe,void 0,ct)},resolveLink(Qe){let ct=s.create(Qe);if(!N(ct)&&!Nt(ct))return ct},resolveRichTextPointer(Qe){return p.add(Qe)},resolveVectorSetItemPointer(Qe){return ae.add(Qe)}};for(let[Qe,ct]of h){let Or=my(Qe,ct,T,f,se);if(N(Or))continue;let na=py({control:ct,controlProp:Or,resolvers:Xt,locale:Y});N(na)||ze.setField(Qe,na)}Je.push(ze)}let E=[],ue=0,we=ee();for(let te of Je){let se=we.getOffset();te.write(we),we.getOffset()>ed&&(Ye(se),we=ee(),se=we.getOffset(),ue=0,te.write(we)),ue++;let ze=we.getOffset()-se,or=new Jn(E.length,se,ze);for(let vr of de)vr.addItem(te,or)}we.getOffset()>0&&Ye();let Vt=i.addImport(V.submoduleImport,{exportSpecifier:"DatabaseDictionaryIndex"}),Te=E.map((te,se)=>Zc(n.create(`chunk-${Y.id}-${se}`,Xc,te)));E.reduce((te,se)=>te+se.length,0)<fw&&(de.length=0);let Wt=[],rr=1/0;for(let te of de){let se=te.serialize();if(se.length>=ed){pw.warn("Skipping index:",se.length);continue}rr+se.length>ed&&(Wt.push([]),rr=0);let ze=Wt.at(-1);g(ze,"Chunk must exist"),ze.push({model:te,bytes:se}),rr+=se.length}let ro=[];for(let te=0;te<Wt.length;te++){let se=Wt[te];g(se,"Chunk must exist");let ze=new Xo,or=[];for(let{bytes:Xt}of se){let Qe=ze.getOffset();ze.writeBytes(Xt);let ct=ze.getOffset();or.push({from:Qe,to:ct})}let vr=ze.subarray(),oo=Zc(n.create(`indexes-${Y.id}-${te}`,Xc,vr)),jt=se.map(({model:Xt},Qe)=>{if(Xt instanceof Fr){let ct=or[Qe];g(ct,"Can't find range for index");let Or={url:oo,range:ct,fieldNames:c.dedupe("fieldNames",Xt.fieldNames),collation:c.dedupe("collation",Xt.options.collation),collectionSchema:I};return d`new ${Vt}(${Or})`}throw new Error("Unsupported index type")});ro.push(...jt)}let ft=ae.serialize(r,c),at={schema:I,chunks:Te,indexes:ro,resolveRichText:p.resolveRichTextBinding,resolveVectorSetItem:ft};if(L&&F){let te=d`new ${K}(${at})`,se=d`${L}[${Y.id}]`;ce[Y.id]=d`new ${F}(${te}, ${se}, ${yi}, ${Si})`}else ce[Y.id]=d`new ${K}(${at})`}p.serialize();let D={displayName:e.name??"Unknown",collectionByLocaleId:ce};return d`${D}`}var eC=xt(async(e,t,r)=>Promise.all([ZS(e.id,t,!1),ZS(e.id,t,!0)]));async function ZS(e,t,r){let{modulesStore:o,treeStore:n,assetMap:i}=t,{tree:a}=n,s=r?"draftCollection":"collection",l=new Io(i),c=new Ls(e),m=new Fg(s,o,e),u=a.getNodeWithTrait(e,ot);g(u,"Must have a source node to serialize");let p=u.moduleSourceRevision,f=Mg(u);await ws(f,o);let{module:h}=Rg(o,u);Ht("collection_update",{moduleId:h?.id,recordCount:u.getItemCount(),source:"unknown"});let y=xg(u)?.id,b=new Ur,S=new yo(s,o,b),I=new Za(b),T=new Vn(u,S,b,void 0,n,o),x=new kn,V=await QS(u,n,o,m,c,S,l,T,b,I,x,r),L=Co("",{framerRecordIdKey:_r,framerSlug:y,framerEnumToDisplayNameUtils:"2",framerCollectionUtils:"1",framerCollectionId:u.id,framerColorSyntax:x.hasColorsOfType("wideGamut"),framerAutoSizeImages:!0,framerData:""}),F=b.create("data"),J=Cw(u,F,t,{imports:S},s),$=gw(S,I,F,_r,y),K=d.joinLines(...S.statements,...I.list(),L,d`const ${F} = ${V}`,d`export default ${F}`,J,...hw(u.variables,a.root.locales),$);return{type:s,revision:p,source:K,artifacts:{assets:new Set(l.keys),binaryAssets:c.assets,submodules:m.serialize(),metrics:{nodes:u.getItemCount()}}}}function hw(e,t){let r=[],o=new B;for(let n of e){if(n.type!=="enum")continue;let i=new v(Lg(n.id));r.push(d`export const ${i} = ${_S(n,t,i)};`),o[n.id]=i}return r.push(d`export const ${new v(Eg)} = ${o};`),r}function gw(e,t,r,o,n){return d.joinLines(d`export const utils = {`,d`async getSlugByRecordId(id, locale) {`,n?yw(e,t,r,o,n):void 0,d`},`,d`async getRecordIdBySlug(slug, locale) {`,n?Sw(e,t,r,o,n):void 0,d`},`,d`}`)}function tC(e,t){let r=e.addImport("framer",{exportSpecifier:"QueryEngine"}),o=t.dedupe("queryEngine",d`new ${r}()`),n=e.addImport("framer",{exportSpecifier:"QueryCache"});return t.dedupe("queryCache",d`new ${n}(${o})`)}function yw(e,t,r,o,n){let i=tC(e,t),a={from:{type:"Collection",data:r},select:[{type:"Identifier",name:n}],where:{type:"BinaryOperation",operator:"==",left:{type:"Identifier",name:o},right:{type:"LiteralValue",value:d`id`}},limit:{type:"LiteralValue",value:1}};return d.joinLines(d`const [item] = await ${i}.get(${a}, locale).readAsync()`,d`return item?.[${n}]`)}function Sw(e,t,r,o,n){let i=tC(e,t),a={from:{type:"Collection",data:r},select:[{type:"Identifier",name:o}],where:{type:"BinaryOperation",operator:"==",left:{type:"Identifier",name:n},right:{type:"LiteralValue",value:d`slug`}},limit:{type:"LiteralValue",value:1}};return d.joinLines(d`const [item] = await ${i}.get(${a}, locale).readAsync()`,d`return item?.[${o}]`)}function Cw(e,t,r,o,n){let i=dy(e,r,o,n);if(N(i))return;let a=o.imports.addImport("framer",{exportSpecifier:"addPropertyControls"});return v.fn(a,t,i)}var No=class{constructor(t){this.declarationCollector=t;R(this,"fontObjects",new Set);R(this,"fontReferences",new Map);R(this,"referencedComponentIdentifiers",new Set);R(this,"fontObjectsBySelector",new Map)}createDedupedVariationAxesBinding(t){return t.variationAxes?this.declarationCollector.dedupe("variationAxes",[...t.variationAxes]):void 0}addFontObjectBySelector(t,r){let o=this.fontObjectsBySelector.get(t);if(o){if(!r)return;let i=o[0];if(!i)return;if(ba(i.source,r)&&!i.openType)for(let a of o)a.openType=!0;return}let n=Lo.getFontBySelector(t);if(!(!n||!n.file))if(n.subsets){let i=[];this.fontObjectsBySelector.set(t,i);for(let a of n.subsets){let s={url:a.file,family:n.family.name,style:n.style,weight:n.weight!==void 0?String(n.weight):void 0,source:n.family.source,unicodeRange:a.unicodeRange,variationAxes:this.createDedupedVariationAxesBinding(n),openType:ba(n.family.source,r)};this.fontObjects.add(s),i.push(s)}}else{let i={url:n.file,family:n.family.name,style:n.style,weight:n.weight!==void 0?String(n.weight):void 0,source:n.family.source,variationAxes:this.createDedupedVariationAxesBinding(n),openType:ba(n.family.source,r)};this.fontObjects.add(i),this.fontObjectsBySelector.set(t,[i])}}addFontReference({componentIdentifier:t,fontReference:r}){this.fontReferences.set(Q(r),r),this.referencedComponentIdentifiers.add(t)}};function _n(e,t,r,{pixelSize:o,repeaterInfo:n,context:i}){return Xa(t,r,{resolveAsset:(a,s,l,c)=>{let m,u=cn(s)?s.__defaultAssetReference:void 0;return a!==u&&(m=(c?i.assets.resolveResponsiveImage(a,o):i.assets.resolve(a))?.src),!Ta(l)||!i.localizedValues?m:i.localizedValues.add(m,l.valueLocalized,p=>{let f=l.valueLocalized?.[p]?.value;return ua(f)?void 0:f===u?d`undefined`:(c?i.assets.resolveResponsiveImage(a,o):i.assets.resolve(a))?.src})},resolveResponsiveImage:(a,s,l)=>{let c,m,u,p;if(pa(s)&&ma(s.__vekterDefault)?(m=s.__vekterDefault.assetReference,u=s.__vekterDefault.positionX,p=s.__vekterDefault.positionY):cn(s)&&(m=s.__defaultAssetReference),(a!==m||l.positionX!==u||l.positionY!==p)&&(c=v.fromValue(i.assets.resolveResponsiveImage(a,o,l))),i.localizedValues&&(c=i.localizedValues.add(c,l.valueLocalized,h=>{let y=l.valueLocalized?.[h];if(!Ia(y))return;if(y.value===m&&y.imageFocalPoint?.positionX===u&&y.imageFocalPoint?.positionY===p)return d`undefined`;let b=i.assets.resolveResponsiveImage(y.value,o,y.imageFocalPoint);return v.fromValue(b)})),!c)return;if(!i.valueTransforms)return c;let f=l.alt??ja;return i.localizedValues&&(f=i.localizedValues.add(f,l.altLocalized,h=>l.altLocalized?.[h]?.value)),i.valueTransforms.wrapInAddImageAlt(c,v.fromValue(f))},resolveDynamicValue:(a,s)=>{let l;if(me(a))g(i.variables,"Variables are not supported"),l=i.variables.create(a);else if(Pt(a)){if(!i.valueTransforms)return;g(e.cache,"Node cache must be passed in when computed values can be created"),l=i.valueTransforms.createComputedValue(a,e,s)}else{return}if(!i.valueTransforms)return l;switch(s.type){case"image":return i.valueTransforms.wrapInToImageSrc(l);case"responsiveimage":return i.valueTransforms.wrapInToResponsiveImage(l);case"gap":case"padding":case"borderradius":return i.valueTransforms.wrapInNumberToPixelString(l);default:return l}},resolveLink:(a,s,l)=>{let c=Bo(s.value);if(fr(c)&&i.localizedValues){let m=s.valueLocalized;return i.localizedValues.add(c.url,m,u=>m?.[u]?.value)}if(Pt(c)){if(!i.valueTransforms)return;g(e.cache,"Node cache must be passed in when computed values can be created");let m=i.valueTransforms.createComputedValue(c,e,l);return i.links.createResolvedBinding(e,m)}return i.links.resolve(e,c,n)},resolvePageScope:a=>i.links.resolvePageScope(Bo(a)),resolveLocalizedValue:(a,s)=>i.localizedValues?i.localizedValues.add(a,s,l=>s?.[l]?.value):a,compileRichText:(a,s)=>{let l=jr(a,{collectors:i,nodeId:e.originalid??e.id});return i.localizedValues?i.localizedValues.add(l,s,(c,m)=>{if(!s)return;let u=s[c];if(!u)return;let p=u.value;if(A(p))return jr(p,{collectors:{...i,...m},nodeId:e.originalid??e.id})}):l},resolveFont:a=>{if(!Ma(a))return{};let s=pn(e);return i.fonts.addFontObjectBySelector(a.fontSelector,s),Va(a)},resolveScrollSectionRef:(a,s)=>{if(!N(s)){if(me(s))return i.variables?.create(s);if(A(s.target)){let l=i.elementIds?.scrollTargetInfo(s);if(l?.ref)return l.ref}}},resolveCustomCursor:(a,s)=>{if(!N(s))return me(s)?i.variables?.create(s):i.customCursors?.addControl(a,e,s)},resolveVectorSetItem:(a,s)=>{if(!N(a))return i.vectorSets?.resolveControl(a,s,e)},resolveColor:a=>A(a)?i.cssVariableDefinitions?.resolveColor(a)??a:a})}function Ws({componentName:e,fontObjects:t,fontReferences:r,imports:o,declarations:n,sharedFontArrays:i=[]}){return d.joinLines(...n.list(),v.fn(o.addImport("framer",{exportSpecifier:"addFonts"}),e,Vi({fontObjects:t,fontReferences:r,sharedFontArrays:i}),{supportsExplicitInterCodegen:!0}))}function Vi({fontObjects:e,fontReferences:t,sharedFontArrays:r=[]}){let o=[],n={explicitInter:!0,fonts:[]};for(let i of e){try{new URL(i.url)}catch{throw new Error(`Expected URL for font "${i.family}" to be a valid, absolute URL, but got: ${i.url}`)}n.fonts.push(i)}o.push(n);for(let i of t.values())o.push(d`...${i}`);for(let i of r)o.push(d`...${i}`);return o}var oC=xt(async(e,{assetMap:t,treeStore:r,modulesStore:o})=>{let n=new Ur,i=new Io(t),a=new yo("componentPresets",o,n),s=new Vn(e,a,n,void 0,r,o),l=new Za(n),c=new Qa(e),m=new Ts(e,r,c,l,n,a,i),u=new Is(n,c,m,i,s),p=e.moduleSourceRevision,f={},h={},y=e.getComponentPresets();await ws(y.map(I=>I.componentIdentifier),o);let b=new Ur,S=new es(b);for(let I of y){let T=P.reactComponentForIdentifier(I.componentIdentifier);g(T,"Can't find react component for preset");let x=I.getFontsForCodeGeneration(P);await Lo.loadFonts(x);let V=new No(S),L=fm(sh(T,"onlyPresets"),I.getRawControlProps()),F=_n(I,T.properties,L,{pixelSize:void 0,repeaterInfo:void 0,context:{assets:i,imports:a,links:s,fonts:V,fetches:u}});f[I.id]=new B(F),(V.fontObjects.size>0||V.fontReferences.size>0)&&(h[I.id]=Vi({fontObjects:V.fontObjects,fontReferences:V.fontReferences}))}return[{revision:p,type:"componentPresets",source:d.joinLines(...a.statements,d`export const props = ${f}`,...S.list(),d`export const fonts = ${h}`),artifacts:{assets:i.keys,metrics:{nodes:Object.keys(f).length}}}]});var vw=fe("CodeGenerationStore");function nC(e,t,r){return r.add(e),t[e]?.forEach(o=>{r.has(o)||nC(o,t,r)}),r}function bw(e,t){let r={};for(let{fromNode:o,toNode:n}of t){let i=r[o]??new Set;i.add(n),r[o]=i}return nC(e,r,new Set([e]))}var iC=xt(async(e,{treeStore:t,modulesStore:r})=>{let o=Q(`Prototype/${e.name||"Generated Prototype"}`),n=t.tree.get(e.homeNodeId);g(n,"Can't serialize",o,": home node must exist.");let i=t.tree.getRect(n),a=new yo("prototype",r);a.addImport("react",{exportSpecifier:"*",importBinding:"React"}),a.addImport("framer-motion",{exportSpecifier:"LayoutGroup"}),a.addImport("framer",{exportSpecifier:"PageRoot"}),a.addImport("framer",{exportSpecifier:"useInitialRouteComponent"});let s={};for(let p of bw(n.id,t.treeIndex.getPrototypeScreenLinks(t.tree,e.id))){let h=`../${Fe("screen",p)}`;try{await Bn(P,[dt("screen",p,"default").value],r);let y=a.addImport(h,{exportSpecifier:"default",importBinding:"Screen",lazy:p!==e.homeNodeId});s[p]={page:y,path:p}}catch{vw.error("Missing module for prototype screen",{screenId:p})}}let l=Q(e.homeNodeId),c=Q(s),m=d`${a.addImport("react",{exportSpecifier:"*",importBinding:"React"})}.useId`,u=new v(re.sections(re.linesFrom(a.statements),`const routes = ${c}`,re.lines("function Prototype({ layoutId }: { layoutId?: string }): JSX.Element {",`  const InitialRouteComponent = useInitialRouteComponent(routes, "${e.homeNodeId}")`,`  const defaultLayoutId = ${v.fn(m)};`,"  if (!InitialRouteComponent) return null","  return (","    <LayoutGroup id={layoutId ?? defaultLayoutId} inherit={false}>",`      <PageRoot RootComponent={InitialRouteComponent} isWebsite={false} routeId={${l}} routes={routes} />`,"    </LayoutGroup>","  )","}"),re.lines(Co("This is a generated Framer component.",{framerIntrinsicHeight:i?.height,framerIntrinsicWidth:i?.width,framerSupportedLayoutWidth:"fixed",framerSupportedLayoutHeight:"fixed",framerPrototype:""}),"const Component: React.ComponentType<{}> = React.memo(Prototype)","export default Component;"),`Component.displayName = ${o};`));return[{type:"prototype",source:u,revision:void 0}]});var cB={url:"url"};function aC(e){return Bu(e)&&e.actionIdentifier==="framer/useOpenURL"}function dB(e,t){let r={...e.controls,...t};return{...e,controls:r}}var Iw=fe("EventCollector"),rd=Symbol("previous"),uC=d`pathVariables`,sC=d`navigate`,lC=d`setVariant`,$s=d`overlay`,td=d`loadMore`,cC={onMouseEnter:{isHovered:!0},onMouseLeave:{isHovered:!1},onTapStart:{isPressed:!0},onTap:{isPressed:!1},onTapCancel:{isPressed:!1}},Us={visible:"visible",show:"show",hide:"hide",toggle:"toggle"};function Hs(e,t){return new v(`${e}.${t}`)}var Gs=class{constructor(t,r,o,n,i,a={type:"canvasComponent"}){this.sourceNode=t;this.variables=r;this.treeStore=o;this.bindings=n;this.imports=i;this.options=a;R(this,"handlers",new Map);R(this,"variantOnAppearId",new Map);R(this,"keyBindHooks",new Set);R(this,"navigationTargets",new Set);R(this,"needsPathVariables",!1);R(this,"routeHandlers",new Map);R(this,"overlayState",new Map);R(this,"overlayTriggerOverlayBindings",new Map);R(this,"relativeOverlayPrimaryTriggers",new Set)}addHandler({trigger:t,node:r,actionInfo:o}){o?.forEach(c=>{!Sc(c)||!c.controls.id?.value||this.variables.create(yu(c.controls.id.value,void 0))});let n=t===Hm&&Gr(r),i=t===$m&&Gr(r),a=dm(this.treeStore.tree,r.id)??this.sourceNode,s=!o||o.length===0;if(n&&s){this.variantOnAppearId.has(a.id)||this.variantOnAppearId.set(a.id,d`undefined`);return}if(s)return;let l=i?this.createKeydownEvents(r,o,this.imports):this.createCombinedEvents(r,o,t);if(n){l&&!this.variantOnAppearId.has(a.id)&&this.variantOnAppearId.set(a.id,l);return}if(!(i||!l))return l}eventHandlersForNode(t){if(!qa(t)||po(t))return;let r=t.getActions(P),o={};for(let n in r)o[n]=this.addHandler({node:t,trigger:n,actionInfo:r[n]});return this.options.type!=="canvasComponent"||!Lt(t),o}getOverlayIdForNode(t){return li(t)?this.treeStore.tree.get(t.cache.overlayAncestorId)?.originalid:t.cache.overlayAncestorId}transformAction(t,r,o){return n=>{if(!sc(t)||N(r.meta?.inputValue))return n;let i=d`inputValue`;switch(o.bindings.add(d`const ${i} = args[0]?.target?.value?.trim()`),r.meta.inputValue){case"empty":return d`if (!${i}) { ${n} }`;case"set":return d`if (${i}?.length > 0 ) { ${n} }`;default:z(r.meta.inputValue,"All inputValue values should be handled")}}}getRepeaterIdForNode(t){let r=Fp(t);return r?li(t)?r.originalid:r.id:null}createCombinedEvents(t,r,o){let n=dC(),i=this.getOverlayIdForNode(t);o in cC&&this.options.type==="canvasComponent"&&Lt(t)&&n.gestureHandlers.add(v.fn(w.setGestureState,cC[o]));for(let l of r){if(this.extractActionsToGroups(t,l,n,o,this.transformAction(o,l,n)),n.navigationActions.size>0)break;lc(l)&&!vn(t)&&(i||(i=l.controls.overlay.value))}if(mC.every(l=>n[l].size===0))return d`undefined`;let a=this.createEventFromGroups(o,n),s=this.getRepeaterIdForNode(t);if(n.overlayActions.size>0&&i||n.repeaterActions.size>0&&s){let l=i?this.overlayState.get(i):void 0,c=this.treeStore.tree.get(s),u=$r(c)&&yr(c)?this.bindings.createWithNode("loadMore",c):void 0;if(l||u)return v.fn(a,{[$s.toString()]:l,[td.toString()]:u})}return a}createEventFromGroups(t,r){let o=Tw(r),n=`${t}${be(Q(o))}`,i=new v(n),a=d`const ${i} = ${o}`;return this.handlers.set(n,a),i}createKeydownEvents(t,r,o){g(this.options.type==="screen","Smart Components do not support keydown events");for(let n of r){let i=n.meta?.key;if(N(i))continue;let a=dC();if(this.extractActionsToGroups(t,n,a,"onKeyDown",this.transformAction("onKeyDown",n,a)),Object.keys(a).every(l=>a[l].size===0))continue;let s=this.createEventFromGroups("onKeyDown",a);if(g(o,"An Import collector must be provided to add gamepad or hotkey bindings."),Ou(i))this.keyBindHooks.add(v.fn(o.addImport("framer",{exportSpecifier:"useGamepad"}),i.key,s,{mapping:i.mapping}));else{let l=i.key,c=Nw(i),m=c.length?c.concat(l).join("+"):l;this.keyBindHooks.add(v.fn(o.addImport("framer",{exportSpecifier:"useHotkey"}),m,s))}}}extractActionsToGroups(t,r,o,n,i){if(yg(r)){if(this.options.type!=="canvasComponent"||!sc(n)&&o.setVariantActions.size>0)return;let a=Rw(this.imports,r,n);a&&o.setVariantActions.add(i(a))}else if(Sc(r)){if(this.options.type!=="canvasComponent")return;let a=xw(r);a&&o.eventActions.add(i(a))}else if(Gp(r)){if(this.options.type!=="screen"||o.navigationActions.size>0)return;let a=this.createNavigateAction(r.controls.type.value,r.controls.target.value,r.meta?.delay,r.controls);a&&o.navigationActions.add(i(a))}else if(r.actionIdentifier==="framer/useLog"){if(this.options.type!=="screen")return;let a=Vw(r);a&&o.otherActions.add(i(a))}else if(r.actionIdentifier==="framer/useSetLocale"){let a=r.controls.localeId?.value;if(!A(a))return;o.otherActions.add(i(v.fn(w.setLocale,a)))}else if(aC(r)){let a=Bo(r.controls.url.value);if(N(a)||k(a))return;if(Na(a)){let s=this.createOpenPageAction(a.webPageId,a.hash,r.meta?.delay);s&&o.navigationActions.add(i(s))}else{let s=Mw(r,a);s&&o.otherActions.add(i(s))}}else if(!vn(t)&&lc(r)){if(r.actionIdentifier==="framer/useShowOverlay"&&this.options.type==="canvasComponent")return;let a=r.controls.overlay.value,s=this.createOverlayTriggers(a,t.id);s&&o.overlayActions.add(i(s))}else if(_m(r)){if(!vn(t))return;let a=this.getOverlayIdForNode(t);if(g(a,"overlayAncestorId must not be null when nodeIsInOverlay is true"),!this.overlayState.has(a))return;o.overlayActions.add(i(this.createDismissOverlayAction(r.meta?.delay)))}else if(Xp(r)){let a=this.getRepeaterIdForNode(t),s=this.treeStore.tree.get(a);if(!$r(s))return;o.repeaterActions.add(v.fn(td))}}createDismissOverlayAction(t){return Xr(v.fn(Hs($s,"hide")),t)}createOpenPageAction(t,r,o){if(!this.getNavigationTarget(t))return;let i=`${be(t)}${r?be(r):""}`,a=new v(`openRoute${i}`),s=[t,d`true`];r&&s.push(r),this.routeHandlers.set(i,d`const ${a} = ${v.fn(this.imports.addImport("framer",{exportSpecifier:"useRouteHandler"}),...s)}`);let l=v.fn(a);return d`return ${Xr(l,o)}`}createNavigateAction(t,r,o,n){if(t==="previous")return this.navigationTargets.add(rd),d`return ${Xr(v.fn(sC,"previous"),o)}`;if(!r||!this.isValidNavigationTarget(r))return;let i={};for(let a in n){if(a==="target")continue;let s=n[a];i[a]=s.value}return this.navigationTargets.add(r),d`return ${Xr(v.fn(sC,r,i),o)}`}getNavigationTarget(t){if(!t)return null;let r=this.treeStore.tree.getNode(t);return!r||!(this.treeStore.tree.isGroundNode(r)||W(r))?null:r}isValidNavigationTarget(t){return!!this.getNavigationTarget(t)}createOverlayTriggers(t,r){let o=this.treeStore.tree.get(t);if(!o)return;let n=this.treeStore.tree.get(r);if(!n)return;let i=this.treeStore.tree.get(n.originalid??n.id);if(!i)return;if(!n?.children?.find(c=>(c.originalid??c.id)===t&&Tt(c))){Iw.reportError("EventCollector: Tried to create a event handler to show an overlay which is not a descendant of the trigger.",{triggerId:r,overlayId:t});return}let s=this.overlayState.get(t)??this.bindings.create("overlay");this.overlayState.set(t,s);let l=this.overlayTriggerOverlayBindings.get(i.id)??new Map;return l.set(o.originalid??o.id,s),this.overlayTriggerOverlayBindings.set(i.id,l),Et(o)&&this.relativeOverlayPrimaryTriggers.add(i.id),v.fn(Hs($s,Et(o)?"show":"toggle"))}};function dC(){return{bindings:new v.Set,gestureHandlers:new v.Set,eventActions:new v.Set,setVariantActions:new v.Set,navigationActions:new v.Set,otherActions:new v.Set,overlayActions:new v.Set,repeaterActions:new v.Set}}var mC=["bindings","gestureHandlers","eventActions","setVariantActions","otherActions","overlayActions","repeaterActions","navigationActions"];function Tw(e){let t=[];for(let o of mC)for(let n of e[o])t.push(n);let r=d.joinLines(d`activeVariantCallback(async (...args) => {`,...t,d`})`);return e.overlayActions.size>0||e.repeaterActions.size>0?d`({${$s}, ${td}}) => ${r}`:r}function Nw(e){let t=[];for(let r in e)if(e[r])switch(r){case"altKey":t.push("alt");break;case"ctrlKey":t.push("ctrl");break;case"metaKey":t.push("meta");break;case"shiftKey":t.push("shift");break;default:break}return t}function ww(e,t,r,o){if(t==="cycle")return v.fn(lC,e.addImport("framer",{exportSpecifier:"CycleVariantState"}),o);if(r)return v.fn(lC,r,o)}function Rw(e,t,r){let o=t.controls.type?.value,n=t.controls.variantId?.value,i=t.controls.pauseOffscreen?.value;if(!gg(o))return;let a=ww(e,o,n,r==="onAppear"?i:void 0);if(a)return Xr(a,t.meta?.delay)}function xw(e){let t=e.controls.id?.value;if(!A(t))return;let r=new v(t);return d.joinLines(d`if (${r}) {${d.joinLines(e.meta?.delay&&d`await delay(() => {}, ${e.meta?.delay*1e3});`,d`const res = await ${r}(...args);`,d`if (res === false) return false;`)}}`)}function Mw(e,t){if(!fr(t))return;let{href:r,target:o=d`undefined`,rel:n}=Mu(t.url);if(!r)return;let i=[r,o??d`undefined`,n??"noopener"];return Xr(v.fn(d`window.open`,...i),e.meta?.delay)}function Vw(e){let t=e.controls?.type?.value,r=e.controls?.message?.value;if(A(t))switch(t){case"event":return new v(re.lines('if (args[0] && "persist" in args[0]) args[0].persist()',Xr(d`console.log(...args)`,e.meta?.delay)));case"message":return A(r)?Xr(d`console.log(${r})`,e.meta?.delay):void 0;case"count":return A(r)?Xr(d`console.count(${r})`,e.meta?.delay):void 0}}function Xr(e,t){return!N(t)&&t>0?d`await delay(() => ${e}, ${t*1e3})`:e}function Js(e){switch(e.codeComponentIdentifier){case"framer/Page":case"framer/Scroll":return!0;default:return!1}}function Cr(e){return U(e)&&!Js(e)&&!e.isVectorInstance}function pC(e){switch(e.codeComponentIdentifier){case"framer/Page":case"framer/Scroll":case"framer/Prototype":return!0;default:return!1}}function fC(e){switch(e.codeComponentIdentifier){case"framer/Page":return"Page";case"framer/Scroll":return"Scroll";case"framer/Prototype":return"DeviceCodeComponent"}}var kw=e=>[`.${e}[data-border="true"]::after, .${e} [data-border="true"]::after { content: ""; border-width: var(--border-top-width, 0) var(--border-right-width, 0) var(--border-bottom-width, 0) var(--border-left-width, 0); border-color: var(--border-color, none); border-style: var(--border-style, none); width: 100%; height: 100%; position: absolute; box-sizing: border-box; left: 0; top: 0; border-radius: inherit; pointer-events: none; }`],Pw=e=>[`.${e}[data-selection="true"] * ::selection, .${e} [data-selection="true"] * ::selection { color: var(--selection-color, none); background-color: var(--selection-background-color, none); }`],Fw=e=>[`.${e}[data-hide-scrollbars="true"]::-webkit-scrollbar, .${e} [data-hide-scrollbars="true"]::-webkit-scrollbar { width: 0px; height: 0px; }`,`.${e}[data-hide-scrollbars="true"]::-webkit-scrollbar-thumb, .${e} [data-hide-scrollbars="true"]::-webkit-scrollbar-thumb { background: transparent; }`,`.${e}[data-hide-scrollbars="true"], .${e} [data-hide-scrollbars="true"] { scrollbar-width: none; }`],ki="data-layout-template",Lw={0:kw,1:Fw,2:Pw},jn,_s=class{constructor(t,r,o,n){this.entryNode=t;this.sourceNode=r;this.serializationId=o;this.cssVariableDefinitions=n;R(this,"sharedStyleIds",new Set);R(this,"rules",{});H(this,jn,new Set);R(this,"selectorsByNodeId",new Map)}get(t=this.sourceNode.id){return t===this.sourceNode.id&&this.getWideGamutColorRule(),{rules:this.rules[t]??new Map}}createScopingSelector(t,r){if(t){let o=`.${this.serializationId}.${ym}v-${be(t)}`;return r?`${o}.${r}`:o}return`.${this.serializationId}`}createSelector(t,r,o,n,i=t===this.sourceNode.id){let a=this.createScopingSelector(o,n);return t===this.entryNode.id?`${a}.${r}, ${a} .${r}`:i?`${a}.${r}`:`${a} .${r}`}addRule(t,r,o={}){let{scope:n,gesture:i,container:a,ruleType:s=0,hasScopingSelector:l}=o,c=r.originalid??r.id,m=Sm(s,c);a&&(m+="-container");let u=this.createSelector(c,m,n,i,l);this.selectorsByNodeId.set(c,u);let p=o.variant?.id??this.sourceNode.id;if(this.createRule(u,wn(t),p),Aw(t)){let f=Ow(r,this.serializationId);for(let h in f)this.createRule(h,wn(f[h]),p)}return m}addConditionalRule(t){C(this,jn).add(t)}hasConditionalRule(t){return C(this,jn).has(t)}conditionalRules(t){let r=[];return C(this,jn).forEach(o=>{let n=Lw[o],i=n(t);r.push(...i)}),r}addSharedStyle(t){this.sharedStyleIds.add(t)}createRule(t,r,o=this.sourceNode.id){let n=this.rules[o];if(n){n.set(t,r);return}this.rules[o]=new Map([[t,r]])}getWideGamutColorRule(){let t=this.cssVariableDefinitions.getWideGamutColorRules(`.${this.serializationId}`,this.selectorsByNodeId);t.length!==0&&this.createRule("@supports (color: color(display-p3 1 1 1))",t.join(" "))}};jn=new WeakMap;var Ew="viewTransitionName";function Aw(e){return Ew in e&&Bw(e)}var hC="-exclude";function Bw(e){return Qd(e.viewTransitionName)&&e.viewTransitionName.endsWith(hC)}function od(e,t,r){let o=be(e.originalid??e.id);return r?`${t}-${o}${hC}`:o}function Ow(e,t){let r=od(e,t,!0);return{[`::view-transition-group(${r})`]:{animation:"none !important"},[`::view-transition-new(${r})`]:{animation:"none !important"},[`::view-transition-old(${r})`]:{animation:"none !important"}}}function gC(e,t,r){return!!(De(e)||De(t)||e.id===r.rootId)}var js=class{constructor(t,r){this.repeaterNode=t;this.parent=r;R(this,"subqueries",new Map);R(this,"variableDependencies",new Map);R(this,"childRepeaterIds",new Set)}addSubquery(t,r,o){let n=this.getSubqueries(t);n.set(r,o),this.subqueries.set(t,n),this.childRepeaterIds.add(r)}getSubqueries(t){return this.subqueries.get(t)??new Map}addVariableDependencies(t,r){let o=this.getVariableDependencies(t);o.push(...r),this.variableDependencies.set(t,o)}getVariableDependencies(t){return this.variableDependencies.get(t)??[]}};function nd(e,t){return!bi(e)||N(e.visible)?!0:k(e.visible)?t.createDeduplicatedDynamicValueBinding(e.visible,e,"visible"):e.isVisible()}function id(e,t,r,o){if(r.inComponentSlot||o||_e(e)||wt(e)||Et(e)||sr(e)&&st.isOn("layoutScroll")||Gr(e)&&Gm.some(i=>(e[i]?.length??0)>0)||it(e)&&!nt(e))return!0;switch(t.scopeType){case"CanvasPage":return!0;case"SmartComponent":return!0;case"LayoutTemplate":case"WebPage":case"DesignPage":if(Lt(e)||Ya(e))return!0;if(Wa(e)){let i=e.rotation;if(k(i)||G(i)&&i!==0)return!0}return as(e);case"VectorSet":return!1;default:kt(t.scopeType)}}function bt(e,t){if(Number.isNaN(e)&&Number.isNaN(t)||e===t)return!0;if(rt(e)||rt(t)||A(e)||A(t)||N(e)||N(t)||G(e)||G(t)||pr(e)||pr(t)||jl(e)||jl(t))return!1;if(Nt(e)||Nt(t))return Nt(e)&&Nt(t)?Q(e)===Q(t):!1;if(nr(e)||nr(t)){if(nr(e)&&nr(t)){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!bt(e[r],t[r]))return!1;return!0}return!1}if(tt(e)||tt(t)){if(tt(e)&&tt(t)){for(let a in e)if(!bt(e[a],t[a]))return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;let r,o,n,i;return Ci(e)&&(r=B.spreadsAtStart(e),o=B.spreadsAtEnd(e)),Ci(t)&&(n=B.spreadsAtStart(t),i=B.spreadsAtEnd(t)),!bt(r,n)||!bt(o,i)?!1:Ci(e)&&Ci(t)?B.isSorted(e)===B.isSorted(t):!0}return!1}throw new Error(`Tried to compare unsupported primitive types. ${typeof e} / ${typeof t}`)}var yC={js:d`undefined`,css:"unset"};function zw(e,t){switch(t){case"js":return yC[t];case"css":return e==="display"?"block":yC[t];default:z(t,`target is not a defined enum: ${t}`)}}function qr(e,t,r){if(!e)return;if(!t)return e;let o={},n=!1;for(let i in e){let a=e[i],s=t[i];bt(a,s)||(N(a)?i in t&&(o[i]=r?zw(i,r):void 0,n=!0):(o[i]=a,n=!0))}if(n)return o}var Xs=(e,t)=>{if(!Fm(e)||!e.codeOverrideEnabled||!e.codeOverrideIdentifier)return;let r=P.componentForIdentifier(e.codeOverrideIdentifier);if(!(r&&Gl(r)))return;let o=Z(e.codeOverrideIdentifier);if(!Ce(o))return;let{importSpecifier:n,exportSpecifier:i}=Jr(o,t.moduleType,t.modulesStore);if(!(!n||!i))return{importSpecifier:n,exportSpecifier:i}};function qs(e,t){let r=[];if(st.isOn("overridesWithPropertyControls")&&uh(e)&&e.codeOverrides)for(let o of e.codeOverrides){let n=P.componentForIdentifier(o.identifier);if(!(n&&Gl(n)))continue;let i=Z(o.identifier);if(!Ce(i))continue;let a=t.imports.addModuleImport(i);if(!a)continue;let s=mh(o),l=Object.keys(s).length>0&&Vr(s);r.push(l?[a,s]:a)}return r}function Ww(e){return!Nt(e)&&(A(e)||G(e)||rt(e)||N(e))}function ad(e,t){return t.scopeType!=="SmartComponent"?Ww(e):Vr(e)}var SC=Ue((e,t,r)=>{if(!U(e)||!e.isVectorInstance||!j(r))return;let o=P.reactComponentForIdentifier(e.codeComponentIdentifier);if(!o)return;let n=_n(e,o.properties,e.getControlProps(o.properties),{context:r,pixelSize:void 0,repeaterInfo:void 0});for(let i in n){let a=n[i],s=`--${be(i)}`;ad(a,r)&&(t[s]=a??void 0)}});function CC(e,t,r,o,n){let i={...t};Ku.has(e.codeComponentIdentifier)&&(i.__fromCodeComponentNode=!0);let a=o.reactComponentForIdentifier(e.codeComponentIdentifier);if(a?.properties){let f=th(e.intrinsicWidth,e.intrinsicHeight),h=_n(e,a.properties,e.getControlProps(a.properties),{pixelSize:f,context:r,repeaterInfo:n?r.repeaterInfo.get(n):void 0});if(e.isVectorInstance)for(let y in h){let b=h[y],S=r.scopeType!=="SmartComponent"?!0:void 0;i[y]=ad(b,r)?S:b}else Object.assign(i,h)}let s=ah(o,e.codeComponentIdentifier,i),l=e.getActions(o);for(let f in l)s[f]=r.events?.addHandler({node:e,trigger:f,actionInfo:l[f]});if(e.isVectorInstance)return Rc(s);let c=nh(e,o);Yu(e)&&Object.assign(s,e.getStylingProps(c,!1));let m=e.id===r.rootId&&r.scopeType!=="SmartComponent",u=c?Object.keys(c):[],p=tt(c)&&u.length>0&&u.some(f=>!N(c[f]));return tt(c)&&(p||m)&&m&&(c.width=d`style?.width`,c.height=d`style?.heigh`,p=!0),p&&(s.style?Object.assign(s.style,c):s.style=c),Rc(s)}var $w=/\/assets\/(?:(\d+)\/)?([^?]+)\?/u;function Hw(e,t){if(typeof DOMParser>"u"||e.indexOf("image")<0)return;let r=Du(e),o=r.querySelector("svg");if(!o)return;let n=new Map;if(r.querySelectorAll("image").forEach(i=>{let a=i.getAttribute("xlink:href");if(!a)return;let s=$w.exec(a);if(!s)return;let l=Number.parseInt(s[1],10),c=s[2],m="::ASSET::"+n.size+"::",p=t?.resolveResponsiveImage(c,l)?.src??Zd(c,l);n.set(m,p),i.setAttribute("xlink:href",m)}),n.size!==0)return o.outerHTML.replace(/::ASSET::\d+::/gu,i=>n.get(i)??`missing:${i}`)}function Ks(e,t){let r=e.svg;A(r)&&(e.svg=Hw(r,t)??r)}var vC=O((e,t,r)=>{if(!dh(e)||!An(r?.scopeType))return;if(Bp(e)||wt(e)&&k(e.fillImage)){t["aria-label"]=void 0;return}if(j(r)&&k(e.ariaLabel)){t["aria-label"]=r.createDeduplicatedDynamicValueBinding(e.ariaLabel,e,"ariaLabel");return}let o=e.resolveValue("ariaLabel",r?.variableOverrides);if(A(o)&&o!==""){t["aria-label"]=o;return}t["aria-label"]=void 0});var bC=O((e,t,r)=>{let o=it(e),n=!!(e.parentid&&r?.renderAsListNodes?.has(e.parentid));if(!ar(e)){if(!nt(e)&&o&&(t.as="a"),n){t.as="li";return}return}if(!wt(e))return;let i=e;if(o){t.as="a";return}if(n){t.as="li";return}let a=i.htmlTag??Ka;a!=="div"&&(t.as=a)});var IC=O((e,t,r)=>{if(!kh(e)||!j(r))return;let o=e.originalid??e.id,n=r.events.overlayState.get(o);n&&(k(e.backdropDismissible)?t.onTap=d`() => ${r.createDeduplicatedDynamicValueBinding(e.backdropDismissible,e,"backdropDismissible")} && ${v.fn(d`${n}.hide`)}`:t.onTap=e.resolveValue("backdropDismissible")?d`() => ${v.fn(d`${n}.hide`)}`:void 0,t.initial={opacity:0},t.key=o,e.backdropTransitionLocked?(t.transition=mo(e.backdropEnterTransition??us),t.animate={opacity:1},t.exit={opacity:0}):(t.animate={opacity:1,transition:mo(e.backdropEnterTransition??us)},t.exit={opacity:0,transition:mo(e.backdropExitTransition??us)}))});var TC=O((e,t,r)=>{if(!$a(e)&&bn(e)){if(In(e)&&!e.fillEnabled){t.background=void 0;return}t.background=oh(e,!0,r),t.background&&lt(e)&&(e.heightType===5?t.fitImageDimension="height":e.widthType===5?t.fitImageDimension="width":t.fitImageDimension=void 0)}});var wC=O((e,t,r)=>{!lp(e)||!e.borderEnabled||hp(e)||(t["data-border"]=!0,j(r)&&r.css.addConditionalRule(0))});var RC="data-reset",xC=O((e,t,r)=>{if(j(r)&&!(r.scopeType==="CanvasPage"||r.scopeType==="DesignPage")&&So(e)){if(!ef(e.htmlTag)){t[RC]=void 0;return}e.htmlTag==="button"&&(t[RC]="button")}});function MC(e,t){if(Dt(e))return Z(e).type;if(br(e)){let o=t.getExternalModuleNodes().find(n=>n.codeComponentIdentifier===e);return o?o.type:void 0}}var VC=O((e,t,r)=>{if(!U(e)||!j(r)||!Cr(e))return;t.scopeId=r.scopeId,t.nodeId=e.originalid??e.id,t.isAuthoredByUser=MC(e.codeComponentIdentifier,r.treeStore.tree)==="codeFile"?!0:void 0;let o=br(e.codeComponentIdentifier);o&&(t.isModuleExternal=o);let n=r.nodeRendersWithMotion.get(e);n&&(t.rendersWithMotion=n);let i=Z(e.codeComponentIdentifier);t["data-code-component-plugin-id"]=ty(r.treeStore.tree,r.modulesStore,i)});var DC=O((e,t,r)=>{ph(e)&&An(r?.scopeType)&&(t["data-nosnippet"]=fh(e)?e.dataNosnippet:void 0)});var kC=O((e,t,r)=>{if(!Zp(e))return;let o=j(r)&&k(e.draggable)?r.createDeduplicatedDynamicValueBinding(e.draggable,e,"draggable"):e.resolveValue("draggable");t.draggable=!N(o)&&!k(e.draggable)?o.toString():o});var PC=O((e,t,r)=>{if(!j(r)||po(e)||!qa(e)&&!Um(e))return;let o=r.treeStore.tree.get(r.scopeId);St(o)&&_p(o)&&Object.assign(t,r?.events?.eventHandlersForNode(e))});var FC=O((e,t,r)=>{if(!nt(e))return;let o=e.getFontsForLoading();if(j(r)){let n=pn(e);for(let i of o)r.fonts?.addFontObjectBySelector(i,n)}t.fonts=o.length>0?o:void 0});var LC=O((e,t,r)=>{tg(e)&&(t.step=j(r)&&k(e.formInputStep)?r.createDeduplicatedDynamicValueBinding(e.formInputStep,e,"step"):e.resolveValue("formInputStep"))});var EC=O((e,t,r)=>{if(hh(e)){if(j(r)){t["data-hide-scrollbars"]=k(e.hideScrollbars)?r.createDeduplicatedDynamicValueBinding(e.hideScrollbars,e,"hideScrollbars"):e.hideScrollbars||void 0,N(e.hideScrollbars)||r.css.addConditionalRule(1);return}t["data-hide-scrollbars"]=e.resolveValue("hideScrollbars",r?.variableOverrides)?!0:void 0}});var AC=O((e,t,r)=>{!Gr(e)||r?.scopeType==="WebPage"||(t["data-highlight"]=Jm(e,P)||void 0)});var BC=O((e,t,r)=>{if(!yt(e)||!je(e)||!j(r)||r.scopeType!=="LayoutTemplate")return;let o=e.tree()?.getParent(e.id);if(!Ae(o))return;let{center:n}=xf(e);cu(t,Vf(e)?n:void 0)});var OC=O((e,t,r)=>{if(!it(e)||nt(e))return;if(r?.variables&&me(e.linkOpenInNewTab)){t.openInNewTab=r.variables.create(e.linkOpenInNewTab);return}let o=e.resolveValue("linkOpenInNewTab",r?.variableOverrides);pr(o)&&(t.openInNewTab=o)}),zC=O((e,t,r)=>{if(!it(e)||nt(e))return;if(r?.variables&&me(e.linkSmoothScroll)){t.smoothScroll=r.variables.create(e.linkSmoothScroll);return}let o=e.resolveValue("linkSmoothScroll",r?.variableOverrides);pr(o)&&(t.smoothScroll=o)}),WC=O((e,t,r)=>{if(!it(e)||nt(e))return;if(r?.variables&&me(e.linkClickTrackingId)){t.clickTrackingId=r.variables.create(e.linkClickTrackingId);return}let o=e.resolveValue("linkClickTrackingId",r?.variableOverrides);A(o)&&(t.clickTrackingId=o)}),$C=O((e,t,r)=>{if(!it(e)||nt(e))return;let o=e.resolveValue("linkRelValues",r?.variableOverrides);if(r?.variables&&me(e.linkRelValues)){t.relValues=r.variables.create(e.linkRelValues);return}Wu(o)&&(t.relValues=o)}),HC=O((e,t,r)=>{if(!it(e)||nt(e))return;if(r?.variables&&me(e.linkPreserveParams)){t.preserveParams=r.variables.create(e.linkPreserveParams);return}let o=e.resolveValue("linkPreserveParams",r?.variableOverrides);pr(o)&&(t.preserveParams=o)}),GC=O((e,t,r)=>{if(!bo(e)||nt(e))return;if(!it(e)){t.href=void 0;return}let o=e.getLink();Pt(o)?t.href=r?.valueTransforms?.createComputedValue(o,e,void 0):fr(o)&&e.linkLocalized&&r?.localizedValues?t.href=r.localizedValues.add(o.url,e.linkLocalized,n=>e.linkLocalized?.[n]?.value):t.href=r?.links?.create(o)}),UC=O((e,t)=>{if(vu(e)){let r=new Set,o=e.getInlineLinks(!1);A(e.link)&&o.push(e.link),o.forEach(n=>{if(!n||!Nu(n))return;let i=wu(n)?.target;i&&r.add(i)}),t.__link=e.link,r.size&&(t.preload=Array.from(r))}}),JC=O((e,t)=>{t.nodeId=e.originalid??e.id}),_C=O((e,t,r)=>{t.scopeId=r?.scopeId});var jC=O((e,t,r)=>{if(!Yp(e)||!j(r)||!ss(r.scopeType)||Tt(e))return;if(!Qp(e)){t.drag=void 0;return}let o,n;!e.dragEffectFreeform&&r.scopeType!=="SmartComponent"?o=r.elementIds.scrollTargetInfo({target:e.dragEffectConstraintElement,collectionItem:e.dragEffectConstraintItem})?.ref:e.dragEffectSnapBack&&(n=!0);let i=e.dragEffectTransition?mo(e.dragEffectTransition):void 0,a=i?r.declarations.file.dedupe("inertia",i):void 0,s=o||n,l=d`e`,c={drag:!0,dragConstraints:o,dragMomentum:!!e.dragEffectMomentum,dragTransition:s?a:void 0,dragSnapToOrigin:n,onMouseDown:r.declarations.file.dedupe("preventDefault",d`(${l}) => ${l}.preventDefault()`)};Object.assign(t,c)});var Gw="--extracted-",Uw=["--framer-text-color","--framer-text-stroke-width","--framer-text-stroke-color","--framer-font-variation-axes"];function Pi(e,t){let r=vo(e);return XC(r,(o,n)=>{for(let i of Uw){let a=o.style.getPropertyValue(i);if(!a)continue;let s=Jw(n,i),l=_w(s,a);t&&(t[s]=a),o.style.setProperty(i,l)}}),r.innerHTML}function Jw(e,t){return Gw+be(e+t)}function _w(e,t){return`var(${e}, ${t})`}function XC(e,t,r=""){for(let o=0;o<e.children.length;o++){let n=e.children[o];if(n instanceof HTMLElement){let i=r+n.tagName+o;t(n,i),XC(n,t,i)}}}var qC=O((e,t,r)=>{if(!La(e)||!j(r))return;let o=r.scopeType==="SmartComponent",n=o?Pi(e.html):e.html,{assets:i,imports:a,variables:s,links:l,cssVariableDefinitions:c}=r||{};if(g(i&&a&&l,"assets, imports, links must exist at this point"),me(e.htmlContent))g(s,"context.variables should exist if we are dealing with variables references"),t.children=s.create(e.htmlContent);else{let m=jr(n,{collectors:{assets:i,imports:a,links:l,variables:s,cssVariableDefinitions:c},useFramerMotion:o,nodeId:e.originalid??e.id,scopeId:r.scopeId}),u=_g(n);t.children=r.localizedValues.add(m,e.htmlLocalized,(p,f)=>{let h=gy(u,e.htmlLocalized?.[p],n);if(!h)return;let y;return h.type==="rich-text"?(y=hy(e.html,h.value),o&&(y=Pi(y))):y=Dh(n,h.value),jr(y,{collectors:{assets:i,...f},useFramerMotion:o,nodeId:e.originalid??e.id,scopeId:r.scopeId})})}_e(e)&&da(e.anchorLinkOffsetY)&&(t.anchorLinkOffsetY=e.anchorLinkOffsetY),r.metrics?.measureLength("textBytes",t.__htmlStructure),r.metrics?.measureLength("textBytes",t.htmlFromDesign),r.metrics?.measureLength("textBytes",t.children)});var KC=O((e,t,r)=>{if(!(!ga(e)||!e.colorable)){if(In(e)&&!e.fillEnabled){t.fill=null;return}if(bn(e)&&!(e.fillType==="linear-gradient"&&e.fillLinearGradient||e.fillType==="radial-gradient"&&e.fillRadialGradient||e.fillType==="conic-gradient"&&e.fillConicGradient)){if(e.fillType==="image"&&e.fillImage){t.fill=rh(e,r,r?.variableOverrides);return}if(e.fillColor){if(k(e.fillColor)&&j(r)){t.fill=r.createDeduplicatedDynamicValueBinding(e.fillColor,e,"fillColor");return}t.fill=e.resolveValue("fillColor",r?.variableOverrides)}}}});var YC=O((e,t,r)=>{if(!Am(e)||!Fu(e))return;let o=bo(e)&&A(e.link)?e.link:void 0,n=Iu(e)?e.htmlTextTag:void 0,{alignment:i,rawHTML:a}=e.getStyledText().getProps(e,o,n,()=>{});t.alignment=i,t.rawHTML=a?d`${a}`:void 0,r?.metrics?.measureLength("textBytes",t.rawHTML)});var QC=O((e,t,r)=>{if(wp(e)){if(!e.textContent){t.text=void 0;return}j(r)&&(k(e.textContent)?t.text=r.createDeduplicatedDynamicValueBinding(e.textContent,e,"textContent"):z(e.textContent,"text content must be a variable or a computed value"),r?.metrics?.measureLength("textBytes",t.text))}});var ZC=O((e,t,r)=>{!ds(e)||!e.resolveValue("textSelection")||(t["data-selection"]=!0,j(r)&&r.css.addConditionalRule(2))});var ev=O((e,t)=>{Bh(e)&&(t.verticalAlignment=e.textVerticalAlignment)});var tv=O((e,t)=>{Uh(e)&&(t.description=A(e.description)&&e.description!==""?e.description:void 0,t.title=A(e.title)&&e.title!==""?e.title:void 0)});function jw(e){if(Lt(e))return e.variantTransition;if(df(e))return e.transition}var rv=O((e,t,r)=>{if(r.scopeType!=="SmartComponent")return;let o=jw(e);if(k(o)){t.value=r.createDeduplicatedDynamicValueBinding(o,e,"transition");return}if(!o){t.value=void 0;return}let n=mo(o);t.value=r.declarations.file.dedupe("transition",n)});var Xw="-container",ld=d`formState`,qw=O((e,t,r)=>{ga(e)&&(t.withExternalLayout=!0,t.intrinsicHeight=e.intrinsicHeight||void 0,t.intrinsicWidth=e.intrinsicWidth||void 0,t.svg=d`${e.svg}`,Ks(t,r?.assets),r?.metrics?.measureLength("svgBytes",t.svg))}),Kw=O((e,t,r)=>{if(!un(e))return;g(t instanceof B,"");let o=Lc.shared().getSVGStringForNode(e),n=e.contentHash;B.assign(t,{layout:r?.scopeType==="SmartComponent"?"position":void 0,intrinsicWidth:void 0,intrinsicHeight:void 0,...wc(e),withExternalLayout:!0,svgContentId:n,svg:o});let i=t.style?.opacity;(i||Number.isFinite(Number(i)))&&(t.opacity=i),Ks(t,r?.assets),r?.metrics?.measureLength("svgBytes",t.svg)}),Yw=O((e,t,r)=>{if(!qu(e))return;let o=Lc.shared().getSVGStringForNode(e);Object.assign(t,{intrinsicWidth:void 0,intrinsicHeight:void 0,...wc(e),svg:o,withExternalLayout:!0,requiresOverflowVisible:yy(e)});let n=t.style?.opacity;(n||Number.isFinite(Number(n)))&&(t.opacity=n),Ks(t,r?.assets),r?.metrics?.measureLength("svgBytes",t.svg)});function Qw(e){return e.codeComponentIdentifier==="framer/Prototype"}function sd(e,t,r,o,n){if(!U(e))return;let{lastRepeaterId:i,layoutId:a}=n;if(B.assign(t,CC(e,void 0,r,P,i)),Qw(e))t.scaleTo="dynamic";else if(Js(e))t.__fromCanvasComponent=!0;else if(!e.isVectorInstance)t.width="100%",t.height="100%",t.id=e.originalid??e.id,e.name!==null&&!t.name&&(t.name=e.name);else{let c=Wa(e)&&(k(e.rotation)||G(e.rotation)&&e.rotation!==0);t[gf]=r.scopeType==="SmartComponent"?!0:Ya(e)||c||as(e)}Ff(e,t,r);let s=r.events.overlayTriggerOverlayBindings.get(e.originalid??e.id);if(pf(e)&&s?.size){let c=new v(Array.from(s.values())?.map(m=>d`${m}.visible`)?.join(" || "));t.variant=d`(${c}) ? ${e.whileOpenEffectVariant} : ${t.variant??d`undefined`}`}of(r.treeStore.tree,e)&&(t.type="submit",rf(e)&&(t.variant=v.fn(r.declarations.file.dedupe("formVariants",d`(form, variants, currentVariant) => { ${d.joinLines(d`switch(form.state) {${d.joinLines(d`case "success": return variants.success ?? currentVariant`,d`case "pending": return variants.pending ?? currentVariant`,d`case "error": return variants.error ?? currentVariant`,d`case "incomplete": return variants.incomplete ?? currentVariant`)}}`)} }`),ld,{success:e.formButtonSuccessVariantEnabled?e.formButtonSuccessVariant:void 0,error:e.formButtonErrorVariantEnabled?e.formButtonErrorVariant:void 0,pending:e.formButtonPendingVariantEnabled?e.formButtonPendingVariant:void 0,incomplete:e.formButtonIncompleteVariantEnabled?e.formButtonIncompleteVariant:void 0},t.variant??d`undefined`)));let l=r.treeStore.tree.get(n.lastRepeaterId);if($r(l)&&yr(l)&&(Ho(e,l)||qp(e))&&(t.variant=l&&Kp(e)?v.fn(r.declarations.file.dedupe("loaderVariants",d`(repeaterState, variants, currentVariant) => { ${d.joinLines(d`if (repeaterState.currentPage >= repeaterState.totalPages) return variants.disabled ?? currentVariant`,d`if (repeaterState.isLoading) return variants.loading ?? currentVariant`,d`return currentVariant`)} }`),r.bindings.createWithNode("paginationInfo",l),{disabled:e.dataLoaderDisabledVariantEnabled?e.dataLoaderDisabledVariant:void 0,loading:e.dataLoaderLoadingVariantEnabled?e.dataLoaderLoadingVariant:void 0},t.variant??d`undefined`):void 0),mn(e)||o.identifiers&&o.identifiers.size>1){let c=Z(e.codeComponentIdentifier);g(Ce(c),`Expected a module export identifier, got ${c}`);let{importSpecifier:m,exportSpecifier:u,importBinding:p}=Jr(c,r.moduleType,r.modulesStore);g(m,"A module must have an import specifier."),t.Component=me(e.dynamicVectorSetIdentifier)?r.vectorSets.resolveVariableInstance(e):r.imports.addImport(m,{exportSpecifier:u,importBinding:p})}t.layoutId=a??e.originalid??e.id}var Zw=(e,t,r,o)=>{let n=new B;return sd(e,n,t,r,o),n},eR=$o(vC,bC,IC,TC,wC,VC,xC,DC,kC,PC,FC,qh,yh,Qh,og,LC,ug,ng,ig,Sh,Lf,EC,AC,BC,UC,Ef,jC,kf,Rf,Af,Bf,Df,qC,Kw,YC,Oh,KC,qw,_h,QC,zh,Wh,ZC,ev,tv,Yw);function tR(e){if(N(e)||e instanceof B&&B.hasSpreads(e))return e;for(let t of Object.values(e))if(!N(t))return e}function Ys(e){return e.declarations.component.dedupe("scopingClassNames",v.fn(e.imports.addImport("framer",{exportSpecifier:"cx"}),w.serializationHash,d`...${w.sharedStyleClassNames}`))}var rR=(e,t,r,o,{style:n,className:i})=>{let a=new B;eR(e,a,t);let s=(e.originalid??e.id)===t.rootId;if(a.style||n||s){let f={};if(tt(a.style)&&Object.assign(f,a.style),n&&Object.assign(f,n),a.style=tR(f),s){let h=new B(a.style);B.addSpreadAtEnd(h,d`style`),a.style=h}}let l=[];a.className&&l.push(a.className),i&&l.push(i),s&&(l.unshift(Ys(t)),l.push(w.className),a.ref=w.refBinding,B.addSpreadAtStart(a,w.restProps),t.scopeType==="SmartComponent"&&(l.push(w.classNames),B.addSpreadAtStart(a,w.gestureHandlers))),$p(e)&&e.customizationsSectionId&&(a["data-section-id"]=e.id),(De(e)||De(t.treeStore.tree.getParent(e.id)))&&l.unshift(Ys(t)),l.length===1?a.className=l[0]:l.length>1&&(a.className=v.fn(t.imports.addImport("framer",{exportSpecifier:"cx"}),...l)),t.scopeType==="LayoutTemplate"&&Ae(e)&&(a[ki]=!0);let{withKey:c,layoutId:m}=r,u=m??e.originalid??e.id;c&&(a.key=u),t.scopeType==="SmartComponent"?(a.layoutId=Cr(e)?u+Xw:u,a.layoutDependency=d`layoutDependency`):t.scopeType==="CanvasPage"&&(a.layoutIdKey=u,e.duplicatedFrom&&e.duplicatedFrom.length>0&&(a.duplicatedFrom=e.duplicatedFrom)),U(e)&&(Cr(e)?r.inComponentSlot&&(a.inComponentSlot=r.inComponentSlot):(Js(e)&&(a.__fromCanvasComponent=!0),sd(e,a,t,o,r)),sr(e)&&(a.layoutScroll=!0)),nt(e)&&(a.withExternalLayout=!0,a.__fromCanvasComponent=!0),Da(e)&&t?.scopeType==="WebPage"&&!Lt(e)&&(a.id=e.scrollTargetEnabled?t.elementIds.id(e):void 0),a["data-framer-cursor"]=t.customCursors.add(e),Et(e)?Object.assign(a,{role:"dialog"}):a[ql]=t.elementIds.portalId(e),Nf(e)&&(a.id=a.id??t.elementIds.id(e),a.lightboxClassName=Ys(t));let p=t.treeStore.tree.get(r.lastRepeaterId);return p&&U(e)&&Ho(e,p)&&Object.assign(a,{__paginationInfo:t.bindings.createWithNode("paginationInfo",p),__loadMore:t.bindings.createWithNode("loadMore",p)}),a},oR=$o(GC,OC,zC,WC,$C,HC,JC,_C);function nR(e,t){let r=new B({motionChild:!0});return oR(e,r,t),r}function iR(e,t){let r=new B;return rv(e,r,t),r}var aR=new B({placement:void 0,alignment:void 0,offsetX:void 0,offsetY:void 0,className:void 0,anchorRef:void 0,floatingRef:void 0,onDismiss:void 0,portalSelector:void 0,safeArea:void 0,collisionDetection:void 0});function sR(e,t){if(!Xm(e))return;if(!Et(e))return aR;let r=t.events.overlayState.get(e.originalid??e.id);if(!r)return;let o=t.treeStore.tree.getParent(e.originalid??e.id);if(o)return new B({placement:e.floatingPlacement,alignment:e.floatingAlignment,offsetX:e.floatingOffsetX,offsetY:e.floatingOffsetY,anchorRef:t.rootId===o.id?d`${w.refBinding}`:t.elementIds.ref(o),onDismiss:d`${Hs(r,"hide")}`,safeArea:e.floatingSafeArea??!0,zIndex:im(e)?e.zIndex:void 0,collisionDetection:e.floatingCollisionDetection??!1,collisionDetectionPadding:e.floatingCollisionDetection?e.floatingCollisionPadding??jm:void 0,[ql]:t.elementIds.portalId(e),className:v.fn(t.imports.addImport("framer",{exportSpecifier:"cx"}),Ys(t),t.scopeType==="SmartComponent"?w.classNames:void 0)})}function ov(e,t){let r=t.fetches.getFetchesForNode(e);return new B({requests:r??[],disabled:t.scopeType==="SmartComponent"?w.isLoading:void 0})}function lR(e,t){if(!U(e))return;let r=new B;if(P.reactComponentForIdentifier(e.codeComponentIdentifier)?.annotations?.framerComponentViewportWidth==="true"){let i=t.simulatedDOM.getComponentViewportContext(e);Object.assign(r,i)}return r}function cd(e,t,r,o,{className:n,style:i}={}){let a=rR(e,t,o,r,{style:i,className:n}),s=iR(e,t),l=sR(e,t);if(po(e)&&Cr(e)){let c=Zw(e,t,r,o),m=ov(e,t);return{container:a,transition:s,floating:l,fetcher:m,element:c,componentViewport:lR(e,t)}}return{element:a,transition:s,floating:l,link:nR(e,t),fetcher:ov(e,t)}}var cR=["onTap","onTapStart","onClick","onMouseDown","onMouseUp"],dR=(e,t)=>{if(!Gr(t)||!jp(e,t))return!1;let r=t.getActions(P);return cR.some(o=>{if(o in r){let n=r[o];return n?n.length>0:!1}return!1})},nv=Ue((e,t,r)=>{if(!lm(e)||Nr(e))return;if(k(e.cursor)&&j(r)){t.cursor=r.cssVariableDefinitions.create(e,"cursor");return}if(e.cursor&&am(e.cursor)){t.cursor=e.resolveValue("cursor",r?.variableOverrides),_e(e)&&e.hasLinks()&&(t.cursor=void 0,t[sm]=e.cursor);return}if(!j(r))return;let o=Lt(e)&&r.topLevelVariantsWithGestures[e.id];t.cursor=o||dR(r.treeStore.tree,e)?"pointer":void 0});var iv=Ue((e,t)=>{it(e)&&(t.textDecoration="none")});var av=Ue((e,t,r)=>{yt(e)&&So(e)&&r?.renderAsListNodes?.has(e.id)&&(t.listStyle="none",t.margin=0)});var sv=Ue((e,t,r)=>{if(!(!Uu(e)||!Ra(e))&&Gu(e)){if(k(e.overscrollBehavior)&&j(r)){t.overscrollBehavior=r.cssVariableDefinitions.create(e,"overscrollBehavior");return}t.overscrollBehavior=e.resolveValue("overscrollBehavior",r?.variableOverrides)}});var lv=Ue((e,t)=>{Da(e)&&(t.scrollMarginTop=G(e.scrollMarginTop)&&e.scrollTargetEnabled&&e.scrollMarginTop>0?e.scrollMarginTop:void 0)});var cv=Ue((e,t,r)=>{if(!gh(e))return;if(k(e.tapHighlightColor)&&j(r)){t.WebkitTapHighlightColor=r.cssVariableDefinitions.create(e,"tapHighlightColor");return}let o=e.resolveValue("tapHighlightColor",r?.variableOverrides);if(xa(o)){t.WebkitTapHighlightColor=Qu(o);return}t.WebkitTapHighlightColor=o?au.toRgbString(o):void 0});var dv=Ue((e,t,r)=>{if(!ds(e))return;let o=e.resolveValue("textSelection");t["--selection-color"]=o?.color,t["--selection-background-color"]=o?.backgroundColor});var uv=Ue((e,t,r)=>{if(Ju(e)){if(k(e.userSelect)&&j(r)){t.userSelect=t.WebkitUserSelect=r.cssVariableDefinitions.create(e,"userSelect");return}t.userSelect=t.WebkitUserSelect=_u(e)?e.resolveValue("userSelect",r?.variableOverrides):void 0}});var mv=Ue((e,t,r)=>{if(!uf(e)||!j(r)||r.scopeType!=="LayoutTemplate")return;let o=r.treeStore?.tree.getParent(e.id);Ae(o)&&(t.viewTransitionName=e.viewTransitionNone===!0?od(e,r.serializationId,!0):void 0)});var fv=Ue((e,t,r)=>{let o=uR(e,r);t.willChange=o}),pv=`var(${lu}, transform)`;function uR(e,t){if(ss(t?.scopeType)&&(wf(e)&&(mf(e)||ff(e))||t?.scopeType!=="SmartComponent"&&cf(e)&&lf(e.styleAppearEffectTrigger)==="onMount"))return pv;if(!Tn(e)||!Ra(e)||!Hu(e.overflow))return;let r=up(e)&&e.radius,o=Eu(e)&&e.radiusPerCorner&&(e.radiusBottomLeft||e.radiusBottomRight||e.radiusTopLeft||e.radiusTopRight);if(r||o)return`var(${su}, transform)`}var mR=$o(Eh,bf,Yh,nv,Ch,Zh,vh,zf,bh,Ih,sg,Mf,iv,av,jf,sv,vp,$f,lv,dv,Gf,cv,ag,Uf,Qf,Kf,uv,mv,fv,eh),dd=$o(Lh,yp,Jf,Kh,Sp,_f,Of,Cp,eg,lg,dg,cg,Np,Cf,Wf,bp,Ip,Xf,qf,Tp,SC),ud=$o(Yf,Hf);function pR(e,t){return rt(e)||io(e)||U(e)?"relative":De(e)?"fixed":ya(e)||Et(t)?"relative":"absolute"}function md(e,t,r,o){let n={position:pR(t,e),zIndex:De(t)?Zf(t,r):void 0,...o},i={};mR(e,n,r);let a=r.scopeType==="WebPage"||r.scopeType==="LayoutTemplate"||r.nodeRendersWithMotion?.get(e)===!1;return dd(e,a?n:i,r),La(e)&&r.scopeType==="SmartComponent"&&Pi(e.html,i),ud(e,i,r),{css:n,style:xe(i)?void 0:i}}var Xn={opacity:1,rotate:0,borderTopLeftRadius:0,borderTopRightRadius:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,backgroundColor:"rgba(0, 0, 0, 0)",boxShadow:"none",filter:"none",WebkitFilter:"none",backdropFilter:"none",WebkitBackdropFilter:"none",mask:"none",WebkitMask:"none",textShadow:"none",scale:1,rotateX:0,rotateY:0,skewX:0,skewY:0,z:0,padding:0};function fR(){let e={},t={},r={},o={},n={},i={};return[[new Th({fillEnabled:!0,fillType:"color",fillColor:"rgba(0, 0, 0, 0)",borderWidth:0,borderEnabled:!0,borderColor:"rgba(0, 0, 0, 0)",borderStyle:"solid"}),e],[new Xh,t],[new $h,r],[new ih({codeComponentIdentifier:"framer/Page"}),o],[new Jh,n],[new jh,i]].forEach(([s,l])=>{dd(s,l,{}),ud(s,l,{})}),{FrameNode:Object.assign(e,Xn),TextNode:Object.assign(t,Xn),RichTextNode:Object.assign(r,Xn),CodeComponentNode:Object.assign(o,Xn),SVGNode:Object.assign(n,Xn),ShapeContainerNode:Object.assign(i,Xn)}}var hv=fR();function gv(e,t,r){if(!(!r||N(e.__class)||Nt(t.style))&&!(!N(t.style)&&!tt(t.style)))for(let o in r){if(N(t.style?.[o])&&N(r[o])||t.style&&o in t.style&&!N(t.style[o])&&!N(r[o]))continue;let n=hv?.[e.__class];if(!n||!(o in n)){N(r[o])&&(r[o]=d`undefined`);continue}let i=n[o];if(N(t.style?.[o])){let a=t.style??{};a[o]=i,t.style=a}N(r[o])&&(r[o]=i)}}function Ko(e,t,r){let o=e.originalid===t?e.id:zm(e.id,t);return r.get(o)}function hR(e){let t=e.children?.find(n=>lo(n));if(!t)return;let r=e.itemsOrder?e.itemsOrder.indexOf(t.originalid??t.id):e.children?.indexOf(t);if(!G(r)||r<0||!e.itemsOrder&&e.children&&r===e.children.length-1)return;let o=new Map;return e.itemsOrder?e.itemsOrder.forEach((n,i)=>{if(n===t.originalid)return;let a=i<r?-1e3:1e3;o.set(n,i+a)}):e.children?.forEach((n,i)=>{if(n===t)return;let a=i<r?-1e3:1e3;o.set(n.originalid??n.id,i+a)}),o}function yv(e,t){if(t==="LayoutTemplate"&&Ae(e))return hR(e);let r=e.itemsOrder;if(!r||r.length<1)return;let o=new Map;return r.forEach((n,i)=>{o.set(n,i)}),o}var gR=e=>(t,r)=>!r||!e?t:{...t,...r[e]};function bv(e,t,r,o){let{combinedVariableControlMap:n}=e.combineVariableControlMap(r.treeStore.tree,o.inheritedControlMap,P,P.activeBundleHash);t&&(Fc(t,e),SR(t,e));let i=yr(e),a=o.subqueries;Ee(e)&&ut(e)?a=new js(e,i?void 0:o.subqueries):Jo(e)&&(a=void 0);let s=r.scopeType==="WebPage",l=r.scopeType==="SmartComponent",c=o.inCodeOverride||!N(Xs(e,r))||qs(e,r).length>0,m=r.treeStore.tree.get(o.lastRepeaterId),u=r.kitSectionsStructure.addSection(e),p={isAnyVariantAnImage:wt(e),isAnyVariantALink:it(e)&&!nt(e),isAnyVariantAnEffect:Tc(e,r.scopeType),isAnyVariantAVariantAppearEffect:bc(e),isAnyVariantARef:s&&zo(e)||Et(e)||U(e)&&Ee(m)&&Ho(e,m),isAnyVariantATransitionOverride:l&&(vc(e)||tc(e)),isAnyVariantOptimizedAppearEffect:Ic(e,r),itemsOrderOverrides:{},hiddenInVariants:new Set(o.hiddenInVariants),inCodeOverride:c,inheritedControlMap:n,isAnyVariantFloating:Et(e),isAnyVariantPaginated:i,identifiers:U(e)?new Set([Cv(e)]):void 0,subqueries:a,kitSectionId:u};r.trackingIds.add(e),r.kitSectionsStructure.addCustomizations(e,o.kitSectionId),Mr(e)&&r.formIds.add(e.id),r.scopeType==="LayoutTemplate"&&Ea(e)&&Ae(e)&&(p.itemsOrderOverrides[e.id]=yv(e,r.scopeType));let f=nd(e,r),h=new Map,y=id(e,r,o,c),b=[],S=hc(e);for(let ee of r.variants){let E=Ko(ee,e.id,r.treeStore.tree);if(!E)continue;E.combineVariableControlMap(r.treeStore.tree,o.inheritedControlMap,P,P.activeBundleHash);let ue=r.treeStore.tree.getParent(E.id);if(p.hiddenInVariants.has(ee.id))continue;ue&&Fc(ue,E);let we=Sv(ee),Ye=nd(E,r);if(!bt(Ye,h.get(ee.replicaInfo?.inheritsFrom??"")??f)){let _t=Nr(ee);h.set(we,{value:Ye,isGesture:_t})}else(r.scopeType==="WebPage"||r.scopeType==="LayoutTemplate")&&f!==!0&&h.set(we,{value:f});if(Ye===!1){p.hiddenInVariants.add(ee.id);continue}it(E)&&!nt(E)&&(p.isAnyVariantALink=!0),wt(E)&&(p.isAnyVariantAnImage=!0),Tc(E,r.scopeType)&&(p.isAnyVariantAnEffect=!0),bc(E)&&(p.isAnyVariantAVariantAppearEffect=!0),Ic(E,r)&&(p.isAnyVariantOptimizedAppearEffect=!0),yr(E)&&(p.isAnyVariantPaginated=!0),U(E)&&p.identifiers?.add(Cv(E)),r.trackingIds.add(E);let Te=hc(E);if(Te){S||=Te;let{stops:_t,info:Wt}=Te;S.stops=Math.max(S?.stops,_t??0),S.info||=Wt}r.scopeType==="WebPage"?zo(E)&&(p.isAnyVariantARef=!0):r.scopeType==="SmartComponent"&&(Pf(E)&&(p.isAnyVariantAnEffect=!0),(vc(E)||tc(E))&&(p.isAnyVariantATransitionOverride=!0)),ep(E)&&(p.itemsOrderOverrides[ee.id]=yv(E,r.scopeType)),y=y||id(E,r,o,c),b.push({nodeInVariant:E,variant:ee})}N(S)||r.nodesWithAnyGradientFill.set(e.id,S);let{condition:I,classNames:T,classNameExpressions:x}=r.renderFunctions.create(f,h);if(I===!1)return;r.nodeRendersWithMotion.set(e,y);let V=e.parentid?r.renderAsListNodes.get(e.parentid):!1;So(e)&&tf(e.htmlTag)&&!V&&r.renderAsListNodes.set(e.id,!0);let F=o?.itemsOrderOverrides?.[r.rootId],{css:J,style:$}=md(e,t,r,F?{order:vv(e,F)}:void 0),K=Cr(e),ce=gC(e,t,r),D=r.css.addRule(J,e,{container:K,hasScopingSelector:ce}),ye=cd(e,r,p,o,{className:D,style:$});r.hitTargets.recordClassName(e,r.rootId,D);let ne={link:void 0,container:void 0,element:void 0,floating:void 0,transition:void 0,fetcher:void 0,componentViewport:void 0},Y={variants:void 0,css:void 0};if(_e(e))for(let ee of e.getStylePresetsForCodeGeneration(r.treeStore.tree))r.css.addSharedStyle(ee.id);let de=K?ye.container:ye.element;g(!N(de),"Target will always be defined if the node needs a container");for(let{nodeInVariant:ee,variant:E}of b){let ue=Sv(E);if(r.hitTargets.recordClassName(ee,E.id,D),_e(ee))for(let at of ee.getStylePresetsForCodeGeneration(r.treeStore.tree))r.css.addSharedStyle(at.id);let we=r.treeStore.tree.getParent(ee.id),{itemsOrderOverrides:Ye}=o,Vt=Ye?.[E.id],Te=md(ee,we,r,Vt?{order:vv(e,Vt)}:void 0),_t=gR(E.replicaInfo?.inheritsFrom),Wt=qr(Te.css,_t(J,Y.css),"css");if(Wt){let at=Nr(E);Y.css||(Y.css={}),Y.css[E.id]=Wt,r.css.addRule(Wt,ee,{variant:E,hasScopingSelector:ce,container:K,gesture:at?E.gesture:void 0,scope:at?E.replicaInfo?.inheritsFrom:r.scopeType==="SmartComponent"?E.id:void 0})}r.scopeType==="SmartComponent"&&gv(ee,de,Te.style);let rr=cd(ee,r,p,o,{className:D,style:de.style}),ro=qr(Te.style,_t($,Y.variants));if(ro)if(r.scopeType==="SmartComponent")Y.variants||(Y.variants={}),Y.variants[ue]=ro;else{let at=K?"container":"element";ne[at]=CR(Te.style,ne[at],ue)}let ft;for(ft in rr){let at=qr(rr[ft],_t(ye[ft],ne[ft]),"js");if(!at)continue;ne[ft]||(ne[ft]={[ue]:{}});let te=ne[ft][ue];ne[ft][ue]=tt(te)?Object.assign(te,at):at}}let ae=new Set(T);p.isAnyVariantALink&&ae.add(r.linkClassName);let Ie=new v.Set(x),Je=p.isAnyVariantARef||r.events.relativeOverlayPrimaryTriggers.has(e.id);return B.assign(de,{variants:Y.variants,className:yR(de.className,ae,Ie,r.imports),ref:de.ref??(Je?r.elementIds.ref(e):de.ref),[Tu]:p.isAnyVariantOptimizedAppearEffect?r.appearIds.create(e.id):void 0}),r.renderConditions.set(e.id,I),{...p,propsForLink:{props:ye.link,overrides:ne.link},propsForElement:{props:ye.element,overrides:ne.element},propsForContainer:{props:ye.container,overrides:ne.container},propsForTransition:{props:ye.transition,overrides:ne.transition},propsForFetcher:{props:ye.fetcher,overrides:ne.fetcher},renderCondition:I,propsForFloating:{props:ye.floating,overrides:ne.floating},propsForComponentViewport:{props:ye.componentViewport,overrides:ne.componentViewport}}}function yR(e,t,r,o){if(t.size===0&&r.size===0)return e;if(r.size===0){let n=Array.from(t).join(" ");return e?he`${e} ${n}`:n}else{let n=o.addImport("framer",{exportSpecifier:"cx"});return e?v.fn(n,e,...t,...r):v.fn(n,...t,...r)}}function SR(e,t){t.cache.ancestorRepeaterIds=Ds(e,e.cache.ancestorRepeaterIds??[])}function Sv(e){return Nr(e)?`${e.replicaInfo.inheritsFrom}-${e.gesture}`:e.id}function CR(e,t,r){let o=t??{};return o[r]=o[r]??{},o[r].style=o[r].style??{},Object.assign(o[r].style,e),o}function Iv(e,t,r){let o={background:"transparent",height:0,width:0,position:"relative",flexGrow:1,margin:0,marginBottom:En(t,r)};for(let n of r.variants){let i=Ko(n,e.id,r.treeStore.tree);if(!i)continue;let a=qr({...o,marginBottom:En(n,r)},o);!a||xe(a)||r.css.addRule(a,i,{variant:n})}return r.css.addRule(o,e)}function Cv(e){return mn(e)?fp:e.codeComponentIdentifier}function vv(e,t){return t.get(e.id)??t.size}var Qs=class{constructor(){R(this,"cssWidthCache",new Map);R(this,"heightCache",new Map);R(this,"yPositionCache",new Map);R(this,"verticalStackLayoutInfoCache",new Map);R(this,"gridLayoutInfoCache",new Map);R(this,"computationCache",new Map);R(this,"testing",{getCSSWidthCache:()=>this.cssWidthCache,getHeightCache:()=>this.heightCache})}getCSSWidth(t){return this.cssWidthCache.get(t)}setCSSWidth(t,r){this.cssWidthCache.set(t,r)}getHeight(t){return this.heightCache.get(t)}setHeight(t,r){this.heightCache.set(t,r)}getYPosition(t){return this.yPositionCache.get(t)}setYPosition(t,r){this.yPositionCache.set(t,r)}getVerticalStackLayoutInfo(t){return this.verticalStackLayoutInfoCache.get(t)}setVerticalStackLayoutInfo(t,r){this.verticalStackLayoutInfoCache.set(t,r)}getGridLayoutInfo(t){return this.gridLayoutInfoCache.get(t)}setGridLayoutInfo(t,r){this.gridLayoutInfoCache.set(t,r)}memo(t,r){if(this.computationCache.has(t))return this.computationCache.get(t);let o=r();return this.computationCache.set(t,o),o}};var pd=class{constructor(){R(this,"heightNodes",new Set)}startComputingHeightFor(t){this.heightNodes.add(t)}isComputingHeightFor(t){return this.heightNodes.has(t)}finishComputingHeightFor(t){this.heightNodes.delete(t)}};function vR(e,t){return(r,o,n=void 0)=>{if(Pt(r))return t.createComputedValue(r,o,n);if(me(r))return e.create(r);kt(r,"all dynamic values should be handled above")}}function Tv(e,t,r){return{tree:e,cache:new Qs,workInProgress:new pd,getVariableBinding:vR(t,r)}}var X=class extends Error{};function q(e,t){let r=Math.round(e*1e4)/1e4;return{type:"css-const",expr:t?`${r}${t}`:`${r}`,value:e,unit:t}}var Zs={"+":"-","-":"+","*":"/","/":"*"};function ge(e,t,r){if(t.type==="css-const"&&r.type==="css-const"){if(t.unit===r.unit){if(e==="+")return q(t.value+r.value,t.unit);if(e==="-")return q(t.value-r.value,t.unit);if(e==="min")return q(Math.min(t.value,r.value),t.unit);if(e==="max")return q(Math.max(t.value,r.value),t.unit)}else if(qn(e)&&(t.value===0||r.value===0))return r.value!==0?r:t;if(e==="*"&&(!t.unit||!r.unit))return q(t.value*r.value,t.unit||r.unit);if(e==="/"&&!r.unit)return q(t.value/r.value,t.unit)}if(qn(e)){if(r.type==="css-const"&&r.value===0)return t;if(t.type==="css-const"&&t.value===0)return r}else if(el(e)){if(r.type==="css-const"&&r.value===1)return t;if(t.type==="css-const"&&t.value===1)return r}else if(e==="min"||e==="max"){if(t.type==="css-op"&&t.op===e&&Nv(t,r))return t;if(r.type==="css-op"&&r.op===e&&Nv(r,t))return r;if(bt(t.expr,r.expr))return t}t.type==="css-op"&&t.right.type==="css-const"&&(qn(e)&&qn(t.op)?(r=ge(e==="+"?t.op:Zs[t.op],r,t.right),t=t.left):el(e)&&el(t.op)&&(r=ge(e==="*"?t.op:Zs[t.op],r,t.right),t=t.left));let o;if(qn(e))r.type==="css-const"&&r.value<0&&(e=Zs[e],r=q(-r.value,r.unit)),e==="+"?o=he`${Yo(t)} + ${r.expr}`:e==="-"?r.type==="css-op"&&!tl(r.op)?o=he`${Yo(t)} - (${r.expr})`:o=he`${Yo(t)} - ${Yo(r)}`:kt(e);else if(el(e)){if(r.type==="css-const"&&r.value<1){let n=q(1/r.value,r.unit);n.expr.length<r.expr.length&&(e=Zs[e],r=n)}e==="/"&&r.type==="css-op"&&!tl(r.op)?o=he`${Yo(t)} / (${r.expr})`:o=he`${Yo(t)} ${e} ${Yo(r)}`}else tl(e)?o=he`${e}(${t.expr}, ${r.expr})`:kt(e,`unhandled op ${e}`);return{type:"css-op",expr:o,op:e,left:t,right:r}}function rl(e){switch(e.type){case"number-const":return q(e.value,"px");case"number-template":return wo(e.expr);default:kt(e)}}function wo(e){return{type:"css-template",expr:e}}function qn(e){return e==="+"||e==="-"}function el(e){return e==="*"||e==="/"}function tl(e){return e==="min"||e==="max"}function Nv(e,t){return bt(e.left.expr,t.expr)||bt(e.right.expr,t.expr)}function Yo(e){return e.type==="css-op"&&qn(e.op)?he`(${e.expr})`:e.expr}function ol(e){return e.type==="css-template"||e.type==="css-const"||e.type==="css-op"&&tl(e.op)?e.expr:he`calc(${e.expr})`}function bR(e,t,r,o,n,i){let a=t??If;if(!i)return!0;let s=e.filters.filter(l=>{if(!l.itemKey)return!1;let c=i.properties[l.itemKey];return!(!c||c.type!=="boolean"&&l.transforms.length===0)});return s.length===0?!0:s[a==="all"?"every":"some"](l=>{let c=l.itemKey;g(c!==null,"itemKey should not be null");let m=i.properties[c];g(m,"control should exist");let u=r(c),p=o.getVariableControlByKey(c);return l.transforms.reduce((f,h)=>gm(f,h,o,n,p,void 0,void 0),u)})}function wv(e,t,r,o,n,i){return e?r.filter(a=>bR(e,t,s=>a[s],o,n,i)):r}function IR(e,t){return t?Array.from(e).reverse():e}function TR(e,t){if(t===void 0||t===0)return e;let r=Array.from(e);return r.splice(0,t),r}function NR(e,t){return e.length<=t?e:e.slice(0,t)}function Rv(e,t,r,o,n=15){if(n&1&&(t=wv(e.collectionFilters,e.collectionFiltersOperator,t,e.cache,r,o)),n&2&&(t=IR(t,e.collectionReverse)),n&4&&(t=TR(t,e.collectionStartOffset)),n&8){let i=e.collectionLimit??1/0,a=e.collectionPaginationPageSize??1/0,s=Math.min(i,a);t=NR(t,s)}return t}var Yt=1e3,xv=Symbol("Affects Layout: Indeterminate");function nl(e){return e===xv}function Kr(e,t,r,o){return Tt(e)||za(e,t)&&Wo(e)||Oa(r,e)&&sr(e)||bi(e)&&e.visible===!1?!1:bi(e)&&k(e.visible)?o?e.isVisible():xv:!0}function qe(e){if(!mi(e))return 0;if(k(e.padding))throw new X;return e.paddingPerSide?e.paddingTop??0:e.padding??0}function Ot(e){if(!mi(e))return 0;if(k(e.padding))throw new X;return e.paddingPerSide?e.paddingBottom??0:e.padding??0}function Ut(e){return k(e)?0:e??0}var wR=[];function Ro(e){let t=(Ea(e)?e.getChildrenInVisualOrder():e.children)??wR;if(Ee(e)){let r=e.collectionRepeatedItemId?t.findIndex(i=>i.id===e.collectionRepeatedItemId):0,o=t[r];if(!o)return t;let n=RR(e);return t.slice(0,r).concat(Array(n).fill(o)).concat(t.slice(r+1))}return t}function RR(e){if((e.collectionFilters?.filters?.length??0)>0)return 1;let t=P.dataForIdentifier(e.dataIdentifier),r=xm(void 0,t),o=Object.keys(r).length,n=Array(o).fill({});return Rv(e,n,void 0,t,14).length}function Fi(e){let t=e.resolveValue("fillImage"),r=Au(t)?t.src:t;if(!r)return;let o=Op(r);if(!(!o||!Number.isFinite(o.width)||!Number.isFinite(o.height)||o.width<=0||o.height<=0))return o.width/o.height}function il(e,t){let r=e.widthType===0,o=fo(e)&&e.usesDOMRectCached()&&e.cache.getRawDOMRect(e.id)!==null;if(!(!r&&!o))return t.tree.getRect(e).width}var Vv=";";function hd(e,t){return`${e}${Vv}${t}`}function xR(e){let[t,r]=e.split(Vv);return g(r!==void 0,"parseCellCoordinate(), satisfying TypeScript: columnIndex must exist: "+e),[Number(t),Number(r)]}function Mv(e,t,r,o){let n=0;for(let i=0;i<r;i++){let a=hd(t,i);if(e.has(a)){n=0;continue}if(n++,n!==o)continue;let l=i-(o-1);return g(l>=0,"getColumnIndexForItem(), column index should be at least 0"),l}return-1}function MR(e,t,r,o,n,i,a){let s=o+(i-1);g(a>s,"fillCellsForItem(), column count has to be larger than maxColumnIndex");let l=r+(n-1);for(let c=o;c<=s;c++)for(let m=r;m<=l;m++){let u=hd(m,c);t.set(u,e)}}function VR(e,t){return!Eo(e)||k(e.gridItemColumnSpan)?1:e.gridItemColumnSpan==="all"?t:Math.min(e.gridItemColumnSpan??1,t)}function al(e,t){return!Eo(e)||t.gridRowHeightType==="fit"||k(e.gridItemRowSpan)?1:e.gridItemRowSpan??1}var fd=class{constructor(t,r,o,n){this.gridLayout=t;this.rowCount=r;this.columnCount=o;this.filledRowCount=n;R(this,"coordinateCache")}getGridItem(t,r){let o=hd(t,r);return this.gridLayout.get(o)??null}findCoordinates(t){if(!this.coordinateCache){this.coordinateCache=new Map;for(let[r,o]of this.gridLayout){let[n,i]=xR(r),a=this.coordinateCache.get(o);(!a||n<a.rowIndex||i<a.columnIndex)&&this.coordinateCache.set(o,{rowIndex:n,columnIndex:i})}}return this.coordinateCache.get(t)??null}isEmpty(){return this.gridLayout.size===0}};function Dv(e,t){let r=e.gridColumnCount;if(!G(r))return null;let o=new Map,n=0,i=-1;for(let l of Ro(e)){if(!Kr(l,e,t,!0))continue;let c=VR(l,r),m=al(l,e),u=Mv(o,n,r,c);for(;u===-1;)n++,u=Mv(o,n,r,c);MR(l.id,o,n,u,m,c,r);let p=n+(m-1);i=Math.max(i,p)}let a=i+1,s=Math.max(e.gridRowCount??0,a);return new fd(o,s,r,a)}function Qo(e,t){let r=t.cache.getGridLayoutInfo(e.id);if(r)return r;let o=Dv(e,t.tree);if(o===null)throw new X;return t.cache.setGridLayoutInfo(e.id,o),o}function u_(e,t){return Dv(e,t)?.filledRowCount}var DR={type:"number-const",value:0},kR={type:"number-const",value:1/0},PR={type:"number-const",value:Yt};function _(e){return e===0?DR:e===1/0?kR:e===Yt?PR:{type:"number-const",value:AR(e)}}function M(e,...t){return sl(e,0,t.length,t)}function sl(e,t,r,o){Fo(0<=t&&t<=r&&r<=o.length,"start and end must be within the bounds of operands");let n=r-t;if(n===0)return null;if(n===1){let c=o[t];return la(c)?_(c):c}let{hasTemplateOperands:i,operationResult:a}=FR(t,r,o,e);if(!i)return _(a);let s=LR(t,r,o),l=e==="min"||e==="max"?v.fn(d`Math.${new v(e)}`,...s):new v(`(${re(s,` ${e} `)})`);return Li(l,a,!0)}function FR(e,t,r,o){let n=!1,i;for(let a=e;a<t;a++){let s=r[a],l;la(s)?l=s:s.type==="number-const"?l=s.value:s.type==="number-template"?(n=!0,l=zt(s)):kt(s),N(i)?i=l:i=ER(o,i,l)}return Fo(i!==void 0,"resultEstimate must be computed after walking over all operands"),{hasTemplateOperands:n,operationResult:i}}function LR(e,t,r){let o=[];for(let n=e;n<t;n++){let i=r[n];la(i)?o.push(d`${i}`):i.type==="number-const"?o.push(d`${i.value}`):o.push(i.expr)}return o}function Li(e,t,r=!1){return{type:"number-template",expr:r?e:d`(${e})`,impreciseEstimate:t}}function ER(e,t,r){switch(e){case"+":return t+r;case"-":return t-r;case"*":return t*r;case"/":return t/r;case"min":return Math.min(t,r);case"max":return Math.max(t,r);default:kt(e)}}function AR(e){return Math.round(e*1e4)/1e4}function zt(e){return e.type==="number-const"?e.value:e.impreciseEstimate}var gd=class{constructor(t,r,o,n,i){this.columns=t;this.nodeToAccurateCoordinateMap=r;this.nodeToRoughCoordinateMap=o;this.gap=n;this.contentHeight=i;R(this,"frToPxCache",new Map)}walkColumn(t,r){if(this.columns[t])for(let o of this.columns[t])r(o.nodeId)}getStackItem(t,r){return this.columns[t]?.[r]?.nodeId??null}findCoordinates(t){return this.findAccurateCoordinates(t)??this.findRoughCoordinatesOfConditionallyVisibleNode(t)}findAccurateCoordinates(t){return this.nodeToAccurateCoordinateMap.get(t)??null}findRoughCoordinatesOfConditionallyVisibleNode(t){return this.nodeToRoughCoordinateMap.get(t)??null}getFrToPxForColumn(t){let r=this.columns[t];if(!r)return null;if(!this.frToPxCache.has(t)){let o=[],n=[];for(let m of r)m.type==="regular"?o.push(m):m.type==="fr"?n.push(m):kt(m);let i=o.reduce((m,u)=>M("+",m,u.getHeight()),_(0)),a=this.gap*(r.length-1),s=M("-",this.contentHeight,M("+",i,a)),l=n.reduce((m,u)=>m+u.frUnits,0),c=M("/",s,Math.max(l,1));for(n=n.sort((m,u)=>zt(u.getMinHeightPerFr())-zt(m.getMinHeightPerFr()));n[0]&&zt(n[0].getMinHeightPerFr())>zt(c);)s=M("-",s,n[0].getMinHeight()),l-=n[0].frUnits,c=M("/",s,Math.max(l,1)),n.shift();for(n=n.sort((m,u)=>zt(m.getMaxHeightPerFr())-zt(u.getMaxHeightPerFr()));n[0]&&zt(n[0].getMaxHeightPerFr())<zt(c);)s=M("-",s,n[0].getMaxHeight()),l-=n[0].frUnits,c=M("/",s,Math.max(l,1)),n.shift();this.frToPxCache.set(t,M("max",_(0),c))}return this.frToPxCache.get(t)??null}};function ll(e,t,r,o,n){let i=t.cache.getVerticalStackLayoutInfo(e.id);if(i)return i;let a=BR(e,t,r,o,n);return t.cache.setVerticalStackLayoutInfo(e.id,a),a}function BR(e,t,r,o,n){let i=yd(e),a=Ct(i),s=M("-",r(e),qe(e)+Ot(e)),l=zt(s),c=new Map,m=new Map,u=[],p=0;for(let f of Ro(e)){if(!(je(f)&&lt(f)))continue;let h=Kr(f,e,t.tree,!1);if(h===!1)continue;if(nl(h)){m.set(f.id,{columnIndex:Math.max(u.length-1,0),columnItemIndex:Math.max(u[u.length-1]?.length??0,0)});continue}let y=OR(f,t,r,o,n);if(e.stackWrapEnabled){let S=zt(y.type==="fr"?y.getMinHeight():y.getHeight());Math.ceil(p+a+S)>Math.ceil(l)||u.length===0?(u.push([y]),p=S):(u[u.length-1].push(y),p+=a+S)}else u[0]=u[0]??[],u[0].push(y);c.set(f.id,{columnIndex:u.length-1,columnItemIndex:u[u.length-1].length-1})}return new gd(u,c,m,a,s)}function OR(e,t,r,o,n){if(e.heightType===3){let i={nodeId:e.id,type:"fr",frUnits:e.height,getMinHeight:()=>t.cache.memo(`stack-getMinHeight-${e.id}`,()=>o(e)),getMaxHeight:()=>t.cache.memo(`stack-getMaxHeight-${e.id}`,()=>n(e)),getMinHeightPerFr:()=>t.cache.memo(`stack-getMinHeightPerFr-${e.id}`,()=>M("/",i.getMinHeight(),i.frUnits)),getMaxHeightPerFr:()=>t.cache.memo(`stack-getMaxHeightPerFr-${e.id}`,()=>M("/",i.getMaxHeight(),i.frUnits))};return i}else return{nodeId:e.id,getHeight:()=>t.cache.memo(`stack-getHeight-${e.id}`,()=>r(e)),type:"regular"}}function yd(e){return fa(e)?Ut(e.gap):0}function kv(e,t){if(e.textFitViewBoxSize)throw new X;let r=e.widthType!==2,o=0;for(let[n,i]of e.getProsemirrorTextBlocks(!1).entries()){let a,[s,l]=$R(i,t);if(l==="px")a=s;else{let u=l==="%"?s/100:s;a=zR(i,t)*u}let c=0;n>0&&(c=HR(i,e,t)??0);let m=1;if(r){let u=i.attrs.tag;u==="h1"||u==="h2"||u==="h3"||u==="h4"||u==="h5"||u==="h6"?m=1:u==="p"||u==="div"?m=5:kt(u)}o+=c+a*m}return o}function zR(e,t){let r=WR(e,t);return e.descendants(o=>{if(!Pa(o))return;let i=o.marks.find(ho)?.attrs.inlineStyles.fontSize;if(k(i))throw new X;if(N(i))return;let[a,s="px"]=Kl(i)?i:[i],l=Yl(a,s,"px");l>r&&(r=l)}),r}function WR(e,t){if(Hr(e)){let r=e.attrs.textStylePreset,o=t.getNodeWithTrait(r,so);if(o){let[n,i]=di(o.fontSize)?co(o.fontSize):[o.fontSize,"px"];return i==="rem"?nu(n*va,0):n}}if(!N(e.attrs.inlineStyles.fontSize)){let r=e.attrs.inlineStyles.fontSize;if(k(r))throw new X;let[o,n="px"]=Kl(r)?r:[r];return Yl(o,n,"px")}return co(Ql.fontSize)[0]}function $R(e,t){if(Hr(e)){let r=e.attrs.textStylePreset,o=t.getNodeWithTrait(r,so);if(o)return o.lineHeight}return N(e.attrs.blockStyles.lineHeight)?Ql.lineHeight:e.attrs.blockStyles.lineHeight}function HR(e,t,r){if(Hr(e)){let o=e.attrs.textStylePreset,n=r.getNodeWithTrait(o,so);if(n)return n.paragraphSpacing}return t.paragraphSpacing}var GR=fe("simulateHeight"),UR=200;function Pv(e,t){try{let r=ve(e,t);return r.type==="number-const"?r.value:r.expr}catch(r){if(r instanceof X)return;GR.reportError(r,{nodeId:e.id});return}}function ve(e,t){let r=t.cache.getHeight(e.id);if(r!==void 0)return r;if(t.workInProgress.isComputingHeightFor(e.id))throw new Error("Detected a circular walk in simulateHeight(): we\u2019re entering a node which is already being computed. This would result in a call stack overflow. Exiting early.");let o;try{t.workInProgress.startComputingHeightFor(e.id),o=JR(e,t)}finally{t.workInProgress.finishComputingHeightFor(e.id)}return t.cache.setHeight(e.id,o),o}function JR(e,t){if(!Dn(e))throw new X;let r=t.tree.getNodeParent(e);if(De(e))return _(Yt);if(g(je(e)&&lt(e),"Can\u2019t calculate the height on a node when it doesn\u2019t have size information"),hn(e)){let n=t.tree.getRect(e).height;return Li(d`${w.componentViewport}?.height || ${n}`,n)}if(ac(e))return Oe.startFromRowHeightMultipliedBySpan(e,t).getWithConstraints();if(!Nn(e,r)&&yt(e)&&e.top!==null&&e.bottom!==null)return(sr(e)?Oe.startFromFixedValue(_(Yt),e,t):Oe.startFromParentOuterHeight(e,t)).op((i,a)=>{let s=a.top,l=a.bottom;return g(s!==null&&l!==null,"Satisfying TypeScript"),M("-",i,_(s+l))}).getWithConstraints();if(e.heightType===0)return Oe.startFromFixedValue(_(e.height),e,t).getWithConstraints();if(e.heightType===1){g(r,"A node can\u2019t have a % height without a parent");let n;return sr(e)?n=Oe.startFromFixedValue(_(Yt),e,t):Wo(e)?n=Oe.startFromParentOuterHeight(e,t):Ft(r)&&Eo(e)?n=Oe.startFromRowHeightMultipliedBySpan(e,t):n=Oe.startFromParentInnerHeight(e,t),n.op((i,a)=>M("*",i,_(a.height))).getWithConstraints()}if(e.heightType===4)return Oe.startFromFixedValue(_(e.height*Yt),e,t).getWithConstraints();if(e.heightType===3){if(g(!Wo(e)&&!sr(e),"FractionOfFreeSpace height is not supported for fixed or absolute node"),g(r,"A node can\u2019t have a fractional height without a parent"),!Wr(r)&&Ft(r)){let n=cl(e,t);if(!n)throw new X;return n}if(g(Wr(r),"A node can have a fractional height only if it\u2019s inside a stack"),g(r.stackDirection,"A stack must have a direction defined"),k(r.stackDirection))throw new X;if(r.stackDirection==="horizontal")return Oe.startFromParentInnerHeight(e,t).op((n,i)=>M("*",n,_(i.height))).getWithConstraints();if(r.stackDirection==="vertical"){g(je(r)&&lt(r),"A stack must have a size and size-dimension type");let n=ll(r,t,l=>ve(l,t),l=>dl(l,t),l=>ul(l,t)),i=n.findCoordinates(e.id);g(i,"Node must be found in stack");let a=n.getFrToPxForColumn(i.columnIndex);g(a,"frHeight must be available for column");let s=M("*",a,_(e.height));return Oe.startFromFixedValue(s,e,t).getWithConstraints()}z(r.stackDirection)}if(e.heightType===2){let n=cl(e,t);if(!n)throw new X;return n}if(e.heightType===5){if(!wt(e))throw new X;let n=Fi(e),i=il(e,t),a=N(i)||N(n)?e.height:Math.round(i*(1/n));return Oe.startFromFixedValue(_(a),e,t).getWithConstraints()}z(e.heightType)}var Yr,Ei,Kn,Ai,Qt,Sd,Cd,Fv,vd,Jt=class Jt{constructor(t,r,o,n){H(this,Yr);H(this,Ei);H(this,Kn);H(this,Ai);ie(this,Yr,t),ie(this,Ei,r),ie(this,Kn,o),ie(this,Ai,n)}static startFromFixedValue(t,r,o){return new Jt(t,()=>{var i,a;let n=o.tree.getNodeParent(r);if(g(n,"Can\u2019t calculate the parent height on a node without a parent"),g(je(n)&&lt(n),"Can\u2019t calculate the parent height on a node when a parent doesn\u2019t have size information"),Ft(n)){let s=Ze(i=Jt,Qt,Sd).call(i,r,n,o);return Ze(a=Jt,Qt,Cd).call(a,s,r,n)}else return ve(n,o)},r,o)}static startFromParentOuterHeight(t,r){let o=r.tree.getNodeParent(t);g(o,"Can\u2019t call startFromParentOuterHeight() on a node without a parent");let n=ve(o,r);return new Jt(n,()=>n,t,r)}static startFromParentInnerHeight(t,r){let o=r.tree.getNodeParent(t);g(o,"Can\u2019t call startFromParentInnerHeight() on a node without a parent");let n=M("-",ve(o,r),qe(o)+Ot(o));return new Jt(n,()=>n,t,r)}static startFromRowHeightMultipliedBySpan(t,r){var a,s;let o=r.tree.getNodeParent(t);g(o&&Ft(o),"Can\u2019t call startFromColumnHeightMultipliedBySpan() if the node isn\u2019t inside a grid");let n=Ze(a=Jt,Qt,Sd).call(a,t,o,r),i=Ze(s=Jt,Qt,Cd).call(s,n,t,o);return new Jt(i,()=>i,t,r)}op(t){return ie(this,Yr,t(C(this,Yr),C(this,Kn))),this}getWithConstraints(){var t;return ie(this,Yr,Ze(t=Jt,Qt,Fv).call(t,C(this,Yr),C(this,Kn),C(this,Ai),C(this,Ei))),C(this,Yr)}};Yr=new WeakMap,Ei=new WeakMap,Kn=new WeakMap,Ai=new WeakMap,Qt=new WeakSet,Sd=function(t,r,o){if(g(r.gridRowHeightType!==void 0,"A grid node must have gridRowHeightType defined"),r.gridRowHeightType==="fixed")return g(r.gridRowHeight!==void 0,"A fixed-height grid node must have gridRowHeight defined"),_(r.gridRowHeight);if(r.gridRowHeightType==="fit"){let n=Qo(r,o);if(n.isEmpty())return _(0);let i=n.findCoordinates(t.id);g(i,"Node must be found in the grid layout");let a=i.rowIndex;return Lv(o,n,a)}else if(r.gridRowHeightType==="auto"){let n=ve(r,o),i=M("-",n,qe(r)+Ot(r)),a=Qo(r,o).rowCount,s=Ut(r.gap),l=Ct(s),c=(a-1)*l;return M("/",M("-",i,c),a)}else z(r.gridRowHeightType)},Cd=function(t,r,o){let n=al(r,o),i=Ut(o.gap),a=Ct(i);return M("+",M("*",t,n),a*(n-1))},Fv=function(t,r,o,n){var a,s;let i=t;return go(r)&&(r.maxHeight&&(i=Ze(a=Jt,Qt,vd).call(a,"maxHeight",i,r,o,n)),r.minHeight&&(i=Ze(s=Jt,Qt,vd).call(s,"minHeight",i,r,o,n))),i},vd=function(t,r,o,n,i){let a=t==="minHeight"?"max":"min",[s,l]=gi(o[t]);if(l==="%"){let c=n.tree.getNodeParent(o);if(g(c,"parentNode must exist for a node with percentage min-max heights"),lt(c)&&c.heightType===2)return r;let m=i();return M(a,r,M("*",m,s/100))}else{if(l==="px")return M(a,r,s);if(l==="vh")return M(a,r,Yt*s/100);z(l)}},H(Jt,Qt);var Oe=Jt;function cl(e,t){return t.cache.memo(`autoHeight-${e.id}`,()=>_R(e,t))}function _R(e,t){if(_e(e)){let r=kv(e,t.tree);return Oe.startFromFixedValue(_(r),e,t).getWithConstraints()}if(U(e)){let r=e.getIntrinsicSize(P).height??UR;return Oe.startFromFixedValue(_(r),e,t).getWithConstraints()}if(Wr(e)){if(g(e.stackDirection,"A stack must have a direction defined"),k(e.stackDirection))throw new X;if(e.stackDirection==="horizontal"){if(e.stackWrapEnabled)throw new X;{let r=jR(e,t);return Oe.startFromFixedValue(r,e,t).op((o,n)=>M("+",o,qe(n)+Ot(n))).getWithConstraints()}}else if(e.stackDirection==="vertical"){let r=XR(e,t),o=qR(e,t,r);return Oe.startFromFixedValue(o,e,t).op((n,i)=>M("+",n,qe(i)+Ot(i))).getWithConstraints()}else z(e.stackDirection)}if(Ft(e)){if(g(e.gridColumnCount!==void 0,"A grid node must have gridColumnCount"),e.gridColumnCount==="auto-fill")throw new X;if(G(e.gridColumnCount)){g(e.gridRowHeightType!==void 0,"A grid must have gridRowHeightType defined");let r=Qo(e,t);if(e.gridRowHeightType==="fixed"){g(e.gridRowHeight!==void 0,"A node with gridRowHeightType: fixed must have gridRowHeight defined");let o=r.rowCount,n=Ut(e.gap),i=Ct(n),a=(r.rowCount-1)*i,l=e.gridRowHeight*o+a;return Oe.startFromFixedValue(_(l),e,t).op((c,m)=>M("+",c,qe(m)+Ot(m))).getWithConstraints()}else if(e.gridRowHeightType==="fit"){let o=_(0);for(let l=0;l<r.rowCount;l++){let c=Lv(t,r,l);o=M("+",o,c)}let n=Ut(e.gap),i=Ct(n),a=(r.rowCount-1)*i,s=M("+",o,a);return Oe.startFromFixedValue(s,e,t).op((l,c)=>M("+",l,qe(c)+Ot(c))).getWithConstraints()}else if(e.gridRowHeightType==="auto"){let o=_(0);for(let c=0;c<r.rowCount;c++)for(let m=0;m<r.columnCount;m++){let u=r.getGridItem(c,m);if(!u)continue;let p=t.tree.getNode(u);if(g(p,"Can\u2019t find grid item in the tree"),!je(p)||!lt(p))continue;let f;p.heightType===1||ac(p)?f=cl(p,t)??_(0):f=ve(p,t);let h=al(p,e);if(h>1){let y=Ut(e.gap),S=Ct(y)*(h-1);f=M("/",M("-",f,S),h)}o=M("max",o,f)}let n=M("*",o,r.rowCount),i=Ut(e.gap),a=Ct(i),s=(r.rowCount-1)*a,l=M("+",n,s);return Oe.startFromFixedValue(l,e,t).op((c,m)=>M("+",c,qe(m)+Ot(m))).getWithConstraints()}else z(e.gridRowHeightType)}z(e.gridColumnCount)}return null}function jR(e,t){let r=_(0);for(let o of e.children??[])!je(o)||!lt(o)||Kr(o,e,t.tree,!0)&&(o.heightType===1||o.heightType===3||(r=M("max",r,ve(o,t))));return r}function XR(e,t){if(je(e)&&go(e)&&e.maxHeight!==void 0&&e.stackWrapEnabled){let r=ul(e,t),o=M("-",r,qe(e)+Ot(e));return zt(o)}return 1/0}function qR(e,t,r){let o=yd(e),n=Ct(o),i=[];for(let s of Ro(e)){if(!je(s)||!lt(s)||!Kr(s,e,t.tree,!0))continue;let l;switch(s.heightType){case 3:l=dl(s,t);break;case 1:l=_(0);break;case 0:case 2:case 4:case 5:l=ve(s,t);break;default:z(s.heightType)}let c=i[i.length-1]??_(0),m=M("+",c,n,l);Math.ceil(zt(m))>Math.ceil(r)||i.length===0?i.push(l):i[i.length-1]=m}return M("max",...i)??_(0)}function Lv(e,t,r){let o=_(0);for(let n=0;n<t.columnCount;n++){let i=t.getGridItem(r,n);if(!i)continue;let a=e.tree.getNode(i);if(g(a,"Can\u2019t find grid item in the tree"),!je(a)||!lt(a))continue;let s=a.heightType===1?cl(a,e)??_(0):ve(a,e);o=M("max",o,s)}return o}function dl(e,t){let r=_(0);return je(e)?Oe.startFromFixedValue(r,e,t).getWithConstraints():r}function ul(e,t){let r=_(1/0);return je(e)?Oe.startFromFixedValue(r,e,t).getWithConstraints():r}var KR=fe("simulateCSSWidth");function Bv(e,t){try{let r=Bi(e,t);return ol(r)}catch(r){if(r instanceof X)return;KR.reportError(r,{nodeId:e.id});return}}function Bi(e,t){let r=t.cache.getCSSWidth(e.id);if(r)return r;let o=YR(e,t);return t.cache.setCSSWidth(e.id,o),o}function YR(e,t){if(!Dn(e))throw new X;let r=t.tree.getNodeParent(e);if(De(e))return q(100,"vw");if(g(je(e)&&lt(e),`Can\u2019t calculate the width on a node ${e.id} when it doesn\u2019t have size information`),t.tree.isGroundNode(e)){if(Ae(e)&&pe(t.tree.getScopeNodeFor(e)))return q(100,"vw");if(hn(e)||Ae(e)){let n=q(100,"vw");return wo(d`${w.componentViewport}?.width || ${n.expr}`)}else{let n=il(e,t);if(N(n))throw new X;return q(n,"px")}}if(Em(e))return Mt.startFromColumnWidthMultipliedBySpan(e,t).getWithConstraints();if(!Nn(e,r)&&yt(e)&&e.left!==null&&e.right!==null)return Mt.startFromParentOuterWidth(e,t).op((n,i)=>{let a=i.left,s=i.right;return g(a!==null&&s!==null,"Satisfying TypeScript"),ge("-",n,q(a+s,"px"))}).getWithConstraints();if(qm(e)&&yt(e)&&G(e.aspectRatio)&&vf(e)==="width"){let n=ve(e,t),i=ge("*",rl(n),q(e.aspectRatio));return Mt.startFromRawValue(i,e,t).getWithConstraints()}if(e.widthType===0)return Mt.startFromRawValue(q(e.width,"px"),e,t).getWithConstraints();if(e.widthType===1){g(r,"A node can\u2019t have a % width without a parent");let n;return sr(e)?n=Mt.startFromRawValue(q(100,"vw"),e,t):Wo(e)?n=Mt.startFromParentOuterWidth(e,t):Ft(r)?n=Mt.startFromColumnWidthMultipliedBySpan(e,t):n=Mt.startFromParentInnerWidth(e,t),n.op((i,a)=>ge("*",i,q(a.width))).getWithConstraints()}if(e.widthType===3){let n=t.tree.getNodeParent(e);if(g(n,"A node can\u2019t have a fractional width without a parent"),Ft(n))return Mt.startFromColumnWidthMultipliedBySpan(e,t).getWithConstraints();if(g(Wr(n),"A node can have a fractional width only if it\u2019s inside a stack"),g(n.stackDirection,"A stack must have a direction defined"),n.stackDirection==="horizontal")return Ev(e,n.stackWrapEnabled??!1,t);if(n.stackDirection==="vertical")return Av(e,t);if(k(n.stackDirection)){let i=Ev(e,n.stackWrapEnabled??!1,t),a=Av(e,t);if(bt(i,a))return i;let s=t.getVariableBinding(n.stackDirection,n);if(!s)throw new X;let l=d`${s} === "row"`,c=d`${l} ? ${ol(i)} : ${ol(a)}`;return wo(c)}z(n.stackDirection)}if(e.widthType===2){if(go(e)&&e.maxWidth){let[n,i]=gi(e.maxWidth);return q(n,i)}throw new X}if(e.widthType===4){let n=q(e.width*100,"vw");return Mt.startFromRawValue(n,e,t).getWithConstraints()}if(e.widthType===5){if(!wt(e))throw new X;let n=Fi(e),i=ve(e,t),a=N(i)||N(n)?q(e.width,"px"):ge("*",rl(i),q(n));return Mt.startFromRawValue(a,e,t).getWithConstraints()}z(e.widthType)}function Ev(e,t,r){return t?Mt.startFromParentInnerWidth(e,r).getWithConstraints():Mt.startFromParentInnerWidth(e,r).subtractSiblingWidths().getWithConstraints()}function Av(e,t){return Mt.startFromParentInnerWidth(e,t).op((r,o)=>ge("*",r,q(o.width))).getWithConstraints()}var Se,Yn,dr,xo,ur,Ov,zv,bd,Id,Zt=class Zt{constructor(t,r,o,n){H(this,Se);H(this,Yn);H(this,dr);H(this,xo);ie(this,Se,t),ie(this,Yn,r),ie(this,dr,o),ie(this,xo,n)}static startFromRawValue(t,r,o){return new Zt(t,()=>{let n=o.tree.getNodeParent(r);return g(n,"Can\u2019t calculate the parent width if the node doesn\u2019t have a parent"),Bi(n,o)},r,o)}static startFromParentOuterWidth(t,r){let o=r.tree.getNodeParent(t);g(o,"Can\u2019t call createFromParentWidth() if the node doesn\u2019t have a parent");let n=Bi(o,r);return new Zt(n,()=>n,t,r)}static startFromParentInnerWidth(t,r){var i;let o=r.tree.getNodeParent(t);g(o,"Can\u2019t call createFromParentWidthMinusPaddings() if the node doesn\u2019t have a parent");let n=Bi(o,r);return n=Ze(i=Zt,ur,bd).call(i,n,o,r),new Zt(n,()=>n,t,r)}static startFromColumnWidthMultipliedBySpan(t,r){var a,s;let o=r.tree.getNodeParent(t);g(o&&Ft(o),"Can\u2019t call createFromColumnWidthMultipliedBySpan() if the node isn\u2019t inside a grid"),g(Eo(t),"Can\u2019t call createFromColumnWidthMultipliedBySpan() if the node doesn\u2019t have grid item layout");let n=Ze(a=Zt,ur,Ov).call(a,o,r),i=Ze(s=Zt,ur,zv).call(s,n,o,t.gridItemColumnSpan??1,r);return new Zt(i,()=>i,t,r)}subtractSiblingWidths(){let t=C(this,xo).tree.getNodeParent(C(this,dr));g(t&&Wr(t),"Can\u2019t call subtractSiblingWidths() if the node isn\u2019t inside a stack");let r=[],o=[],n=[],i=[],a=[],s=0;for(let u of Ro(t)){let p=Kr(u,t,C(this,xo).tree,!1);if(p!==!1&&!nl(p))switch(g(je(u)&&lt(u),"It\u2019s impossible to have a regular visible node without width/height/widthType/heightType fields"),s++,u.widthType){case 0:{r.push(u);break}case 1:{o.push(u);break}case 3:{n.push(u);break}case 4:{i.push(u);break}case 2:throw new X;case 5:{if(!wt(u)||!u.fillImagePixelWidth||!u.fillImagePixelHeight)throw new X;a.push(u);break}default:z(u.widthType)}}let c=1-o.reduce((u,p)=>u+p.width,0);if(c!==1&&ie(this,Se,ge("*",C(this,Se),q(c))),r.length){let u=r.reduce((p,f)=>ge("+",p,q(f.width,"px")),q(0,"px"));ie(this,Se,ge("-",C(this,Se),u))}if(a.length){let u=a.reduce((p,f)=>{let h=Fi(f);if(!h)throw new X;let y=ve(f,C(this,xo));if(!y)throw new X;return ge("+",p,ge("*",rl(y),q(h,"px")))},q(0,"px"));ie(this,Se,ge("-",C(this,Se),u))}if(i.length){let u=i.reduce((p,f)=>ge("+",p,q(f.width*100,"vw")),q(0,"vw"));ie(this,Se,ge("-",C(this,Se),u))}if(k(t.gap)){let u=C(this,xo).getVariableBinding(t.gap,t);if(u){let p=wo(he`${d`${u} * ${s-1}`}px`);ie(this,Se,ge("-",C(this,Se),p))}}else{let p=Ln(t.gap)*(s-1);p!==0&&ie(this,Se,ge("-",C(this,Se),q(p,"px")))}let m=n.reduce((u,p)=>u+p.width,0);return ie(this,Se,ge("/",C(this,Se),q(m))),ie(this,Se,ge("*",C(this,Se),q(C(this,dr).width))),ie(this,Se,ge("max",C(this,Se),q(1,"px"))),this}op(t){return ie(this,Se,t(C(this,Se),C(this,dr))),this}getWithConstraints(){var t,r;return go(C(this,dr))?(C(this,dr).maxWidth&&ie(this,Se,Ze(t=Zt,ur,Id).call(t,"maxWidth",C(this,Se),C(this,Yn),C(this,dr))),C(this,dr).minWidth&&ie(this,Se,Ze(r=Zt,ur,Id).call(r,"minWidth",C(this,Se),C(this,Yn),C(this,dr))),C(this,Se)):C(this,Se)}};Se=new WeakMap,Yn=new WeakMap,dr=new WeakMap,xo=new WeakMap,ur=new WeakSet,Ov=function(t,r){var o;if(g(t.gridColumnWidthType!==void 0,"A grid node must have a gridColumnWidthType defined"),t.gridColumnWidthType==="fixed")return g(t.gridColumnWidth!==void 0,"A grid node with fixed width columns must have a gridColumnWidth defined"),q(t.gridColumnWidth,"px");if(t.gridColumnWidthType==="minmax"){if(t.gridColumnCount==="auto-fill")throw new X;let n=Bi(t,r);if(n=Ze(o=Zt,ur,bd).call(o,n,t,r),g(t.gridColumnCount!==void 0,"A grid node must have a gridColumnCount defined"),k(t.gap)){let i=r.getVariableBinding(t.gap,t);if(i){let a=wo(he`${d`${i} * ${t.gridColumnCount-1}`}px`);n=ge("-",n,a)}}else{let a=Ln(t.gap)*(t.gridColumnCount-1);a!==0&&(n=ge("-",n,q(a,"px")))}return t.gridColumnCount>1&&(n=ge("/",n,q(t.gridColumnCount))),t.gridColumnMinWidth&&(n=ge("max",n,q(t.gridColumnMinWidth,"px"))),n}else z(t.gridColumnWidthType)},zv=function(t,r,o,n){if(o===1)return t;let i;if(G(o)){if(r.gridColumnCount==="auto-fill")throw new X;g(r.gridColumnCount!==void 0,"A grid must have gridColumnCount defined"),i=Math.min(o,r.gridColumnCount)}else if(o==="all"){if(r.gridColumnCount==="auto-fill")throw new X;g(r.gridColumnCount!==void 0,"A grid must have gridColumnCount defined"),i=r.gridColumnCount}else{if(k(o))throw new X;z(o)}if(i>1&&(t=ge("*",t,q(i))),k(r.gap)){let a=n.getVariableBinding(r.gap,r);if(a){let s=wo(he`${d`${a} * ${i-1}`}px`);t=ge("+",t,s)}}else{let s=Ln(r.gap)*(i-1);s!==0&&(t=ge("+",t,q(s,"px")))}return t},bd=function(t,r,o){if(!mi(r))return t;let n;if(k(r.padding)){let i=o.getVariableBinding(r.padding,r);i&&(n=wo(he`${d`${i} * 2`}px`))}else r.paddingPerSide?n=q((r.paddingLeft??0)+(r.paddingRight??0),"px"):n=q((r.padding??0)*2,"px");return n?ge("-",t,n):t},Id=function(t,r,o,n){let i=t==="minWidth"?"max":"min",[a,s]=gi(n[t]);if(s==="%"){let l=o();return ge(i,r,ge("*",l,q(a/100)))}else return ge(i,r,q(a,s))},H(Zt,ur);var Mt=Zt;var QR=fe("simulateYPosition");function $v(e,t){try{let r=Mo(e,t);return r.type==="number-const"?r.value:r.expr}catch(r){if(r instanceof X)return;QR.reportError(r,{nodeId:e.id});return}}function Mo(e,t){let r=t.cache.getYPosition(e.id);if(r)return r;let o=ZR(e,t);return t.cache.setYPosition(e.id,o),o}function ZR(e,t){if(!Dn(e))throw new X;let r=t.tree.getNodeParent(e);if(!(yt(e)&&Ba(e))){if(De(e))return _(0);g(!1,"Can\u2019t calculate the y position on a node when it doesn\u2019t have position information")}if(t.tree.isGroundNode(e)){if(Ae(e)&&pe(t.tree.getScopeNodeFor(e)))return _(0);if(hn(e)||Ae(e))return Li(d`${w.componentViewport}?.y || 0`,0);throw new X}let o=ox(e,r,t);if(o==="fixed"){if(e.top!==null)return _(e.top);if(e.bottom!==null){let n=ve(e,t);return M("-",Yt-e.bottom,n)}else{let n=ve(e,t);return M("-",M("*",Yt,e.centerAnchorY),M("/",n,2))}}if(o==="absolute"){g(r&&yt(r)&&Ba(r),"absolute position: parentNode for the node must exist, be pinnable, and have position type");let n=Mo(r,t);if(e.top!==null)return M("+",n,_(e.top));if(e.bottom!==null){let i=ve(r,t),a=ve(e,t);return M("-",M("+",n,i),M("+",e.bottom,a))}else{let i=ve(r,t),a=ve(e,t);return M("+",n,M("-",M("*",i,e.centerAnchorY),M("/",a,2)))}}if(o==="sticky"||o===void 0){if(g(r&&yt(r)&&Ba(r),"relative position: parentNode for the node must exist, be pinnable, and have position type"),Wr(r)){if(g(r.stackDirection,"parentNode for the node must have stackDirection"),r.stackDirection==="horizontal"){if(r.stackWrapEnabled)throw new X;if(k(r.stackAlignment))throw new X;let n=ve(r,t),i=M("-",n,qe(r)+Ot(r));if(g(r.stackAlignment,"parentNode for node must have stackAlignment"),r.stackAlignment==="start")return M("+",Mo(r,t),_(qe(r)));if(r.stackAlignment==="center"){let a=ve(e,t),s=M("-",i,a);return M("+",Mo(r,t),M("+",qe(r),M("/",s,2)))}else if(r.stackAlignment==="end"){let a=ve(e,t),s=M("-",i,a);return M("+",Mo(r,t),qe(r),s)}else z(r.stackAlignment)}if(r.stackDirection==="vertical"){let n=ll(r,t,c=>ve(c,t),c=>dl(c,t),c=>ul(c,t)),i=n.findCoordinates(e.id);g(i,"Node must be found in stack layout info");let a=ex(i.columnIndex,n,t),s=tx(i.columnItemIndex,a,r,t),l=[Mo(r,t),qe(r),s];return nx(r,e,t)&&l.unshift(Yt),M("+",...l)}if(k(r.stackDirection))throw new X;z(r.stackDirection)}if(Ft(r)){if(g(r.gridColumnCount!==void 0,"parentNode for node must have gridColumnCount"),r.gridColumnCount==="auto-fill")throw new X;if(G(r.gridColumnCount)){let n=Qo(r,t);if(n.isEmpty())return M("+",Mo(r,t),qe(r));let i=n.findCoordinates(e.id);g(i,"Node must be found in the grid layout info");let a=rx(i.rowIndex,n,r,t);return M("+",Mo(r,t),qe(r),a)}z(r.gridColumnCount)}g(!1,"Relative and sticky nodes can only exist in stacks or grids")}z(o)}function ex(e,t,r){let o=[];return t.walkColumn(e,n=>{let i=r.tree.get(n);g(i&&je(i)&&lt(i),"column item must exist, have size, and have size dimension type");let a;if(i.heightType===3){let s=t.getFrToPxForColumn(e);g(s,"frToPx must be available for the column"),a=M("*",s,i.height)}else a=ve(i,r);o.push(a)}),o}function Wv(e,t,r){return r.cache.memo(`sumAllStackChildrenHeights-${e.id}`,()=>M("+",...t)??_(0))}function tx(e,t,r,o){let n=r.stackDistribution;if(g(n,"parentNode for node must have stackDistribution"),k(n))throw new X;let i=ve(r,o),a=M("-",i,qe(r)+Ot(r));if(n==="start"||n==="center"||n==="end"){let s=Ut(r.gap),l=Ct(s),c;if(n==="start")c=_(0);else{let p=Wv(r,t,o),f=l*(t.length-1),h=M("-",a,M("+",p,f));c=n==="center"?M("/",h,2):h}let m=sl("+",0,e,t)??_(0),u=l*e;return M("+",c,m,u)}if(n==="space-between"||n==="space-around"||n==="space-evenly"){g(!fa(r),"gap is not expected with stackDistribution:",r.stackDistribution);let s=Wv(r,t,o),l=M("-",a,s),c=t.length,m;switch(n){case"space-between":m=M("/",l,Math.max(1,c-1));break;case"space-around":m=M("/",l,c);break;case"space-evenly":m=M("/",l,c+1);break;default:z(n)}let u;switch(n){case"space-between":u=_(0);break;case"space-around":u=M("/",m,2);break;case"space-evenly":u=m;break;default:z(n)}let p=sl("+",0,e,t)??_(0),f=M("*",m,e);return M("+",u,p,f)}z(n)}function rx(e,t,r,o){if(g(r.gridRowHeightType!==void 0,"parentNode for node must have gridRowHeightType defined"),r.gridRowHeightType==="fixed"){g(r.gridRowHeight!==void 0,"A grid parent node with gridRowHeightType === 'fixed' (for node) must have gridRowHeight defined");let n=e*r.gridRowHeight,i=Ut(r.gap),a=Ct(i),s=e*a;return _(n+s)}if(r.gridRowHeightType==="fit"){let n=[];for(let c=0;c<e;c++)for(let m=0;m<t.columnCount;m++){let u=o.tree.get(t.getGridItem(c,m));if(!u)continue;g(je(u)&&lt(u),"grid child must have size and size-dimension type");let p=ve(u,o);n[c]=M("max",n[c]??_(0),p)}let i=M("+",...n)??_(0),a=Ut(r.gap),s=Ct(a),l=e*s;return M("+",i,l)}if(r.gridRowHeightType==="auto"){let n=ve(r,o),i=M("-",n,qe(r)+Ot(r)),a=Qo(r,o),s=a.rowCount,l=Ut(r.gap),c=Ct(l),m=(a.rowCount-1)*c,u=M("/",M("-",i,m),s),p=M("*",e,u),f=e*c;return M("+",p,f)}z(r.gridRowHeightType)}function ox(e,t,r){if(Oa(r.tree,e)&&e.position==="fixed")return"fixed";if(za(e,t)&&e.position==="absolute")return"absolute";if(np(e,t)&&e.position==="sticky")return"sticky";if(t&&De(t))return"fixed";if(!(t&&io(t)))return"absolute"}function nx(e,t,r){if(Ae(e)&&pe(r.tree.getScopeNodeFor(e))){let o=e.children?.findIndex(lo);if(N(o))return!1;let n=r.tree.getIndex(t);return o<n}return!1}var ml=class{constructor(t,r,o){this.treeStore=t;this.variables=r;this.valueTransforms=o;R(this,"simulationContext");this.simulationContext=Tv(this.treeStore.tree,this.variables,this.valueTransforms)}getCSSWidth(t){return Bv(t,this.simulationContext)}getHeight(t){return Pv(t,this.simulationContext)}getYPosition(t){return $v(t,this.simulationContext)}getComponentViewportContext(t){let r=this.getCSSWidth(t),o,n;return vn(t)||(o=this.getHeight(t),n=this.getYPosition(t)),{width:r,height:o,y:n}}};var pl=class{constructor(t,r){this.tree=t;this.bindings=r;R(this,"ids",new Map)}create(t){let r=this.composeBaseId(t),o=this.tree.get(t);Fo(o,"AppearIdCollector: Node not found");let n=_a(o,this.tree);return n.length>0?this.composeRepeaterId(r,n):r}composeBaseId(t){let r=be(t),o=this.ids.get(r);if(N(o))return this.ids.set(r,0),r;let n=o+1;return this.ids.set(r,n),`${r}-${n}`}composeRepeaterId(t,r){let o=[t];for(let n of r){let i=this.tree.get(n);i&&o.push(this.bindings.createWithNode("index",i))}return he.join(o,"-")}};var fl=class{constructor(t,r,o){this.declarations=t;this.scope=r;this.primaryVariantId=o}create(t,r){if(t===!0&&N(r))return{condition:!0};if(!N(t)&&N(r))return{condition:t};if(r){if(Array.from(r.values()).every(({value:f})=>f===t))return{condition:t};let o=new Set,n=new v.Set;wr(this.scope)&&this.primaryVariantId&&Gv(this.primaryVariantId,t,o,n);let i=new Map,a=new Map,s=new Map,l=ax(s),c=l(t);for(let[f,h]of r){if(wr(this.scope)&&Gv(f,h.value,o,n),!h.isGesture&&h.value===t)continue;let y=h.isGesture?i:a;ix(f,l(h.value),y)}let m=[],u=[];for(let f of s.keys()){let h=s.get(f);h&&(u.push(new v(f)),m.push(Q(h)))}let p=this.declarations.dedupe("isDisplayed",new v(re.lines(d`(${new v(m.join(", "))}) => {`,wr(this.scope)&&d`if (!${v.fn(w.isBrowser)}) return true`,...this.createConditionStatementsForGroup(i,"gestureVariant"),...this.createConditionStatementsForGroup(a,"baseVariant"),d`return ${c}`,d`}`)));return{condition:v.fn(p,...u),classNames:o,classNameExpressions:n}}return{condition:!0}}createConditionStatementsForGroup(t,r){if(t.size===0)return[];let o=[],n=new v(r);for(let[i,a]of t){let s=new v(i);if(a.size===1){let l=Array.from(a)[0];if(N(l))continue;o.push(d`if (${n} === ${l}) return ${s}`)}else o.push(d`if (${Array.from(a)}.includes(${n})) return ${s};`)}return o}};function ix(e,t,r){let o=Q(t),n=r.get(o)??new Set;r.set(o,n.add(e))}function ax(e){let t=new Set;return r=>{if(!Nt(r))return r;let o=Q(r),n=e.get(o)??new v(Vp("value",t));return e.set(o,n),n}}function Hv(e){return`hidden-${be(e)}`}function Gv(e,t,r,o){if(t===!1){let n=Hv(e);r.add(n)}else if(Nt(t)){let n=Hv(e);o.add(d`!(${t}) && ${n}`)}}var Oi,Zo,zi,hl=class{constructor(t,r,o,n,i,a){this.scope=t;this.bindings=r;this.declarations=o;this.imports=n;this.variables=i;this.treeStore=a;H(this,Oi,new Map);H(this,Zo,null);H(this,zi,new Map)}isLayoutTemplateRef(t){if(rt(C(this,Zo))){if(ie(this,Zo,new Set),!Oo(this.scope)||!Bm(this.scope))return!1;let r=P.componentForIdentifier(this.scope.layoutTemplateIdentifier)?.properties;if(!r)return!1;let o=this.scope.getControlProps(r);for(let n in o){let i=o[n];if(N(i?.value)||k(i.value)||i.type!=="scrollsectionref")continue;let a=i.value.target;N(a)||k(a)||C(this,Zo).add(a)}}return C(this,Zo).has(t)}getNodeInPrimary(t){if(!t)return;let r=t.originalid?this.treeStore.tree.get(t.originalid):t;if(r)return r}scrollTargetInfo({target:t,collectionItem:r}){if(!t)return;if(me(t))return{ref:this.variables.create(t)};let o=this.treeStore.tree.get(t);if(!o||!zo(o)||this.treeStore.treeIndex.getScopeIdFor(o.id)!==this.scope.id)return;let n=this.getNodeInPrimary(o);if(!n)return;let i=this.ref(n,r);if(i)return{ref:i,offset:o.scrollMarginTop}}ref(t,r){let o=this.getNodeInPrimary(t);if(!o)return;let n=C(this,Oi).get(o.id);if(n)return n;let i=_a(o,this.treeStore.tree),a=this.isLayoutTemplateRef(o.id);if(a||r||i&&i.length>0){let m=this.id(o,r);if(!m)return;let u=this.imports.addImport("framer",{exportSpecifier:a?"useSiteRefs":"useDynamicRefs"});return v.fn(this.declarations.component.dedupe("dynamicRef",v.fn(d`${u}<HTMLElement>`)),m)}let s=this.bindings.create("ref"),l=this.imports.addImport("react",{exportSpecifier:"*",importBinding:"React"}),c=d`const ${s} = ${v.fn(d`${l}.useRef<HTMLElement>`,d`null`)}`;return this.declarations.component.create(c),C(this,Oi).set(o.id,s),s}getBaseId(t,r){if(W(r)){if(zo(t)){let o=[t.id];return r&&r.id!==this.scope.id&&o.push(r.id),this.declarations.component.dedupe("elementId",v.fn(this.imports.addImport("framer",{exportSpecifier:"useRouteElementId"}),...o))}return be(t.id)}if($e(r))return he`${w.layoutId}-${be(t.id)}`}getPortalAncestor(t){let r=this.treeStore.tree.getParent(t.id);if(r){if(Tt(t))return this.treeStore.tree.get(r.originalid??r.id);if(De(r)){let o=this.treeStore.tree.getParent(r.id);return this.treeStore.tree.get(o?.originalid??o?.id)}}}portalId(t){let r=this.getPortalAncestor(t);return r?this.id(r):void 0}id(t,r){let o=this.getNodeInPrimary(t);if(!o)return;let n=this.treeStore.treeIndex.getScopeIdFor(o.id),i=this.treeStore.tree.get(n);if(!W(i)&&!$e(i))return;if(W(i)&&zo(o)){let s=Lp(o,this.treeStore.tree);s&&C(this,zi).set(o.id,s)}let a=this.getBaseId(o,i);if(a)return Ep(o,this.treeStore.tree,s=>{if(s.id===o.id)return a;if(me(r)&&r.id===s.id)return this.variables.create(r);if(ka(r)&&r.key===s.id)return r.value;if(s.type==="slug")return this.variables.create(dn(s.id,s.providerId))})}annotation(){let t=Object.fromEntries(C(this,zi));return xe(t)?"":JSON.stringify(t)}};Oi=new WeakMap,Zo=new WeakMap,zi=new WeakMap;function lx(e){return e instanceof Error?!!Dc(e):!1}function cx(e){return A(e)?e:e instanceof Error?e.message:tt(e)?JSON.stringify(e):"Unknown error"}var Wi,gl=class{constructor(t,r,o){this.scopeId=t;this.sourceNodeId=r;this.type=o;H(this,Wi,[])}record(t,r,o){if(lx(r)){this.recordKnownError(t,r);return}C(this,Wi).push({nodeId:t.id,reason:cx(r),moduleIdentifier:Ce(o)?o:void 0})}get errors(){return C(this,Wi).map(t=>new ls({...t,sourceNodeId:this.sourceNodeId,sourceNodeModuleType:this.type,scopeId:this.scopeId,type:"CodeGeneration"}))}recordKnownError(t,r){if(Dc(r)){let o=new Set;r.error.forEach(n=>{o.add(n),this.record(t,"CodeError",n)}),r.missing.forEach(n=>{o.has(n)||this.record(t,"MissingModule",n)})}}};Wi=new WeakMap;function dx(e){return e==="string"||e==="vectorsetitem"}var en,yl=class{constructor(t,r){this.modulesStore=t;this.tree=r;H(this,en,new Map)}get structure(){return Array.from(C(this,en).values())}addSection(t){if(!yc(t)||!t.customizationsSectionId)return;let r={_id:t.customizationsSectionId,_layerId:t.id,content:[]};return C(this,en).set(r._id,r),r._id}addCustomizations(t,r){if(!yc(t)||!r)return;let o=C(this,en).get(r);if(o&&(U(t)&&ux(t,o,this.tree,this.modulesStore),!!Hp(t))){for(let n of t.customizations)if(_e(t))o.content.push({field:n.fieldPath,text:t.getTextContent()});else if(U(t)&&t.isVectorInstance){if(!Ce(t.codeComponentIdentifier))return;let i=vi(Z(t.codeComponentIdentifier),this.tree,this.modulesStore)?.name;if(!A(i))return;o.content.push({field:n.fieldPath,text:i})}C(this,en).set(r,o)}}};en=new WeakMap;function ux(e,t,r,o){let n=P.componentForIdentifier(e.codeComponentIdentifier)?.properties;if(!n)return;let i=e.getControlProps(n);for(let a in i){let s=i[a];if(!s)continue;let{type:l,value:c}=s;if(!A(l)||!dx(l))continue;let m=n[a]?.title??a;if(A(c))switch(l){case"string":t.content.push({field:m,text:c});break;case"vectorsetitem":{if(!Ce(c))continue;let u=vi(Z(c),r,o)?.name;if(!A(u))continue;t.content.push({field:m,text:c});break}default:z(l,"Unknown control type")}}}var tn,Sl=class{constructor(t){this.scopeNode=t;H(this,tn,new Map)}recordClassName(t,r,o){if(!pe(this.scopeNode)||t.parentid!==r||t.visible===!1||nf(t)&&t.locked)return;let n=r,i=C(this,tn).get(n)??new Set;i.add("."+o),C(this,tn).set(n,i)}annotation(){if(!pe(this.scopeNode)||C(this,tn).size===0)return"{}";let t={};for(let[r,o]of C(this,tn))t[r]=Array.from(o);return JSON.stringify(t)}};tn=new WeakMap;var rn,on,Qn,Cl=class{constructor(t){H(this,rn);H(this,on,new Set);H(this,Qn,new Map);ie(this,rn,{...t})}count(t,r=1){C(this,rn)[t]+=r}measureLength(t,r){return(typeof r=="string"||r instanceof v)&&(C(this,rn)[t]+=r.length),r}get(){if(C(this,on).size>0){let r=Array.from(C(this,on),o=>o.metric).join(", ");throw Error(`Attempted to get metrics before completing timer(s): ${r}`)}let t={...C(this,rn)};for(let[r,o]of C(this,Qn)){let n=Yg(o);t[r]+=Math.round(n.reduce((i,[a,s])=>i+(s-a),0))}return t}time(t){let r=performance.now(),o=!1,n={get metric(){return t},cancel:()=>{o||(C(this,on).delete(n),o=!0)},done:()=>{g(!o,"Attempted to complete a cancelled timer");let i=C(this,Qn).get(t);i||(i=[],C(this,Qn).set(t,i)),i.push([r,performance.now()]),n.cancel()}};return C(this,on).add(n),n}async timed(t,r){let o=this.time(t);try{return await r()}finally{o.done()}}};rn=new WeakMap,on=new WeakMap,Qn=new WeakMap;var ei,vl=class{constructor(){H(this,ei,[])}add(t){let r=fx(t);r.length!==0&&C(this,ei).push(...r)}annotation(){if(C(this,ei).length===0)return;let t=new Set;for(let r of C(this,ei))t.add(JSON.stringify(r));return`[${Array.from(t).join(",")}]`}};ei=new WeakMap;function Zn(e){return A(e)&&e.length>0}function mx(e){return tt(e)?"id"in e&&Zn(e.id)&&(e.type===void 0||e.type==="click"||e.type==="form_submit"):!1}function E6(e){return nr(e)?e.every(mx):!1}function px(e,t,r){if(e.includes(Fa))try{let n=vo(e).querySelectorAll(`[${Fa}]`);for(let i of n){let a=i.getAttribute(Fa);Zn(a)&&r.push({id:a,nodeId:t,type:"click"})}}catch{}}function fx(e){let t=[],r=e.originalid??e.id;if(bo(e)&&Zn(e.linkClickTrackingId)&&t.push({id:e.linkClickTrackingId,nodeId:r,type:"click"}),_e(e)){for(let o of e.getLinkClickTrackingId(!1))Zn(o)&&t.push({id:o,nodeId:r,type:"click"});if(e.htmlLocalized)for(let o in e.htmlLocalized){let n=e.htmlLocalized[o]?.value;n&&px(n,r,t)}}if(U(e)){let o=P.reactComponentForIdentifier(e.codeComponentIdentifier);if(o?.properties){let n=e.getControlProps(o.properties);for(let i in n){if(!n[i])continue;let a=n[i];a.type==="trackingid"&&Zn(a.value)&&t.push({id:a.value,nodeId:void 0,type:void 0})}}}return Mr(e)&&Zn(e.formSubmitTrackingId)&&t.push({id:e.formSubmitTrackingId,nodeId:r,type:"form_submit"}),t}var bl=class{constructor(t,r,o,n){this.imports=t;this.treeStore=r;this.modulesStore=o;this.createBinding=n;R(this,"sets",new Set)}resolveVariableInstance(t){g(me(t.dynamicVectorSetIdentifier),"Vector set identifier must be a variable reference"),g(Ce(t.codeComponentIdentifier),"Code component identifier must be a module");let r=Z(t.codeComponentIdentifier),o=vi(r,this.treeStore.tree,this.modulesStore)?.set.moduleId;return o&&this.sets.add(o),this.createBinding(t.dynamicVectorSetIdentifier,t,"Icon")}resolveControl(t,r,o){if(me(t))return this.sets.add(r.setModuleId),this.createBinding(t,o,"Icon");g(Ce(t),"Vector set item must be a module export identifier");let n=Wp(this.treeStore.tree,r,t);if(n)return this.imports.addModuleImport(n)}annotation(){if(this.sets.size!==0)return JSON.stringify(Array.from(this.sets))}};var $i,Hi,Td,Il=class{constructor(){H(this,Hi);H(this,$i,new Map)}set(t,r){C(this,$i).set(Ze(this,Hi,Td).call(this,t),r)}get(t){return C(this,$i).get(Ze(this,Hi,Td).call(this,t))}};$i=new WeakMap,Hi=new WeakSet,Td=function(t){return t.originalid??t.id};var Nd=class{constructor(t,r){this.imports=t;this.declarations=r;R(this,"links",new Map);R(this,"scrollSectionRefs",new Map)}collect(t,r,o,n){if(!Vu(n))return;let i=t==="link"?this.links:this.scrollSectionRefs,a=i.get(r)??new Set;a.add(o),i.set(r,a)}collectLink(t,r,o){return this.collect("link",t,r,o),o}collectScrollSectionRef(t,r,o){return this.collect("scrollSectionRef",t,r,o),o}values(t){let r=[],o={},n=d`resolvedLinks`,i=this.links.get(t);if(i?.size)for(let s of i)o[s]=d`${n}[${r.length}]`,r.push(d`props[${s}]`);let a=this.scrollSectionRefs.get(t);if(a?.size){let s=this.declarations.component.dedupe("siteRef",v.fn(this.imports.addImport("framer",{exportSpecifier:"useSiteRefs"})));for(let l of a)o[l]=v.fn(s,d`${n}[${r.length}]`),r.push(d`props[${l}]`)}if(!xe(o))return{ResolveLinks:this.imports.addImport("framer",{exportSpecifier:"ResolveLinks"}),binding:n,links:r,props:o}}};function Jv(e,t,r,o,n){let i=new ts(n);return{bindings:n,imports:o,declarations:i,tree:e.tree,modulesStore:t,assets:new Io(r.assetMap),unresolvedLinks:new Nd(o,i),wideGamutColors:new kn}}function gx(e,t){let r={};for(let o in e)r[o]=t(o);return r}function yx(e){return(t,r,o)=>{if(N(r))return t;let n=gx(r,o);if(!n||!tt(n)||xe(n))return t;let i=e.declarations.file.dedupe("getLocalizedValue",d`(values, locale) => {${d.joinLines(d`while (locale) {${d.joinLines(d`const value = values[locale.id]`,d`if (value) return value`,d`locale = locale.fallback`)}}`)}}`),a=e.imports.addImport("framer",{exportSpecifier:"useLocaleInfo"}),{activeLocale:s}=e.declarations.component.dedupe({activeLocale:void 0},v.fn(a)),l=e.declarations.file.dedupe("localizedValues",n);return d`${v.fn(i,l,s)} ?? ${t}`}}function _v(e,t,r,o,{declarations:n,tree:i,modulesStore:a,assets:s,imports:l,unresolvedLinks:c,wideGamutColors:m}){let u=yx({declarations:n,imports:l});return Xa(t,r,{resolveAsset:(p,f,h,y)=>{let b,S=cn(f)?f.__defaultAssetReference:void 0;return p!==S&&(b=(y?s.resolveResponsiveImage(p,void 0):s.resolve(p))?.src),!Ta(h)||N(b)?b:u(b,h.valueLocalized,I=>{let T=h.valueLocalized?.[I]?.value;return ua(T)?void 0:T===S?d`undefined`:(y?s.resolveResponsiveImage(p,void 0):s.resolve(p))?.src})},resolveResponsiveImage:(p,f,h)=>{let y,b,S;if(pa(f)&&ma(f.__vekterDefault)?(y=f.__vekterDefault.assetReference,b=f.__vekterDefault.positionX,S=f.__vekterDefault.positionY):cn(f)&&(y=f.__defaultAssetReference),p===y&&h.positionX===b&&h.positionY===S)return;let I=v.fromValue(s.resolveResponsiveImage(p,void 0,h)),T=u(I,h.valueLocalized,x=>{let V=h.valueLocalized?.[x];if(!Ia(V))return;if(V.value===y&&V.imageFocalPoint?.positionX===b&&V.imageFocalPoint?.positionY===S)return d`undefined`;let L=s.resolveResponsiveImage(V.value,void 0,V.imageFocalPoint);return v.fromValue(L)});return v.fn(n.file.dedupe("wrapInAddImageAlt",Ag),T,u(h.alt??ja,h.altLocalized,x=>h.altLocalized?.[x]?.value))},resolveDynamicValue:(p,f)=>{},resolveLink:(p,f)=>{if(Pt(f.value))return;let h=Bo(f.value);if(!N(h)){if(fr(h)){let y=f.valueLocalized;return y?u(h.url,y,b=>y[b]?.value):h.url}return c.collectLink(o,p,{href:gc(h,i,a)})}},resolvePageScope:p=>{},resolveLocalizedValue:(p,f)=>u(p,f,h=>f?.[h]?.value),compileRichText:(p,f)=>{let y={collectors:{imports:l,assets:s,links:{create:S=>{if(!(N(S)||me(S)))return fr(S)?S.url||void 0:gc(S,i,a)}}},nodeId:e.originalid??e.id,useCreateElement:!0},b=n.file.dedupe("text",jr(p,y));return u(b,f,S=>{if(!f)return;let I=f[S];if(!I)return;let T=I.value;if(A(T))return jr(T,y)})},resolveFont:p=>Ma(p)?Va(p):{},resolveScrollSectionRef:(p,f)=>{if(N(f)||me(f)||!A(f.target))return;let{target:h,collectionItem:y}=f;if(!h||me(h))return;let b={type:"webPage",webPageId:e.id,hash:h,hashVariables:ka(y)?{[y.key]:y}:void 0};return c.collectScrollSectionRef(o,p,{href:{...Ap(b,i,a),webPageId:e.id},refKey:!0})},resolveCustomCursor:(p,f)=>{if(!(N(f)||me(f)))return kp(f,i)},resolveVectorSetItem:p=>{if(!(N(p)||me(p)))return l.addModuleImport(p,{absolute:!0})},resolveColor:p=>m.resolveColor(p)})}function jv(e,t,r,o=void 0){if(!r&&!o)return;let n=o??Ig(r??[]);n.length&&Vg.resetPropertiesToMasterValues(e,t,n)}function Sx(e){let t=[];for(let r in e){let o=e[r];o&&t.push({hash:be(r),mediaQuery:xh(o)})}return t}function Cx(e,t,r,o){let n=new B({routeId:d`routeId`,style:d`style`,key:Q(e)});B.addSpreadAtStart(n,d`props`);let i=d`${o.addImport("react",{exportSpecifier:"*",importBinding:"React"})}.createElement`;if(!r)return Rd(t,d`return ${v.fn(i,e,n,d`children(true)`)};`);B.assign(n,r.props);let{ResolveLinks:a,binding:s,links:l}=r;return Rd(t,d`return ${v.fn(i,a,new B({links:l},1),d`(${s}) => ${v.fn(i,e,n,d`children(true)`)}`)};`)}function H4(e,t){let r=[];for(let o of t){if(!W(o)||!Oo(o))continue;let n=Z(o.layoutTemplateIdentifier);if(!Dt(n)||n.type!=="layoutTemplate")continue;let i=e.getNodeWithTrait(n.localIdName,pe);i&&r.push(i)}return r}function G4(e,t,r,o,n,i){let a={},s={},l={},c=new Map,m={},u=Jv(e,t,r,n,i),p=u.bindings.create("props"),f={},h=new Set,y=u.bindings.create("Template"),b=e.tree.getNodeWithTrait(e.tree.root.homePageNodeId,W);if(!W(b))return;for(let V of[b,...o]){if(!W(V,!0)||!Oo(V)||h.has(V.id))continue;let L=Z(V.layoutTemplateIdentifier);if(!Dt(L)||L.type!=="layoutTemplate")continue;let F=e.tree.getNodeWithTrait(L.localIdName,pe);if(!F)continue;h.add(V.id);let $=t.getPersistedModuleByLocalId(L.localId)?.moduleURL;g($,"An applied Layout Template must have a module URL.");let K=t.forType("layoutTemplate").getByLocalId(L.localId).annotations(P.componentForIdentifier(V.layoutTemplateIdentifier),L.exportSpecifier)?.framerBreakpoints;um(K)&&c.set(L.localIdName,K);let ce=P.componentForIdentifier(V.layoutTemplateIdentifier)?.properties;g(ce,"An applied Layout Template must have controls.");let D=_v(V,ce,V.getControlProps(ce),F.id,u),ye=f[F.id],ne=qr(D,ye?.value,"js");if(ye?.value&&!xe(D)&&(!ne||xe(ne)))m[V.id]=ye.binding;else if(Vr(ne)&&!xe(ne)){let de=u.declarations.component.dedupe("props",vx(ne,ye));m[V.id]=de,f[F.id]??={binding:de,value:ne}}a[V.id]=L.localIdName;let Y=s[L.localIdName]??[];Y.push(V.id),s[L.localIdName]=Y,!(L.localIdName in l)&&(l[L.localIdName]=u.imports.addImport($,{exportSpecifier:"default",importBinding:$u(F.name??"Template")}))}if(xe(s))return;let S=[],I=[];for(let V in s){let L=s[V],F=l[V];if(!F||!L)continue;S.push(Cx(F,L,u.unresolvedLinks.values(V),u.imports));let J=c.get(V);J&&I.push(Rd(L,d`return ${Sx(J)}`))}let T=u.declarations.component.dedupe("templateProps",m),x=u.wideGamutColors.getWideGamutColorRules("body");return{binding:y,css:x.length?`@supports (color: color(display-p3 1 1 1)) { ${x.join(" ")} }`:"",declarations:d.joinLines(...u.declarations.file.list(),d`function ${y}({routeId, children, style, ...rest}) {${d.joinLines(...u.declarations.component.list(),d`const ${p} = ${T}[routeId] ?? {}`,d`switch (routeId) {${d.joinLines(...S,d`default: { return children(false) }`)}}`)}}`,d`export function getLayoutTemplateBreakpoints(routeId) {${d.joinLines(d`switch (routeId) {${d.joinLines(...I,d`default: { return undefined }`)}}}`)}`)}}function vx(e,t){if(!t)return e;let r=new B(e);return B.addSpreadAtStart(r,t.binding),r}function bx(e){let t=e.getPrimaryVariant();if(!(!t||!Tn(t)))return t.children.findIndex(r=>lo(r))}function Rd(e,t){return d.joinLines(...e.map(r=>d`case ${r}:`),t)}function Xv(e){return ci(e)&&e.layout==="stack"&&e.stackDirection==="vertical"}function Ix(e,t){if(!wr(t))return;t.getPrimaryVariant().set(rp),jv(e,t.getReplicaVariants(),["layout","padding"])}function Tl(e){return Xv(e.getPrimaryVariant())&&e.getReplicaVariants().every(Xv)}function Tx(e){let t=new Set,r=new Set;for(let o of e.tree.root.children){if(o.id===e.tree.root.homePageNodeId||!W(o)||!N(o.layoutTemplateIdentifierOverride))continue;let n=e.stores.modulesStore.forType("screen").getByStableName(o.id)?.annotations(P.componentForIdentifier(o.instanceIdentifier),"default")?.framerAcceptsLayoutTemplate;if(Lu(n)){n===!1&&t.add(o.id);continue}if(o.isLoaded()){Tl(o)===!1&&t.add(o.id);continue}r.add(o.id)}return{incompatible:t,shallow:r}}async function Nx(e,t){let r=new Set,o=Array.from(t).map(i=>e.tree.getNodeWithTrait(i,W)),n=await e.tree.loadScopes(o);for(let i of n)rt(i)||Tl(i)||r.add(i.id);return r}function wd(e,t,r,o=void 0,n=new Set){let i=mu(r),a=i?r():r,s=t.id===e.tree.root.homePageNodeId?e.tree.root:e.tree.current(t);if(!s)return;for(let p of n)e.tree.getNodeWithTrait(p,W)?.set({layoutTemplateIdentifierOverride:null});if(s.set({layoutTemplateIdentifier:a.instanceIdentifier}),Ix(e.tree,t),i&&e.stores.scopeStore.select(a.id,{keepHistory:!1}),!o)return;g(a.isLoaded(),"Layout Templates: template must be loaded to add a child.");let l=bx(a),c=P.activeBundleHash;if(!c)return;let m=Fh(e.tree,e.stores.treeStore.sandboxCollectionData,c,P,o.id),u=e.tree.current(o);if(u){for(let p of u.walk()){let f=Ph(e.tree,t.id,p,m);f&&p.set(f)}e.tree.moveNode(o,a.baseVariantId,l),e.stores.selectionStore.set(o.id)}}async function U4(e,t,r,o){if(t.id===e.tree.root.homePageNodeId){let{incompatible:n,shallow:i}=Tx(e);if(i.size===0)wd(e,t,r,o,n);else{let a=await Nx(e,i),s=new Set([...n,...a]);e.scheduler.process(()=>{wd(e,t,r,o,s)})}Ht("layout_template_apply",{onHomePage:!0})}else wd(e,t,r,o),Ht("layout_template_apply",{onHomePage:!1})}function wx(e,t,r){if(!Array.from(t).some(a=>{let s=r.get(a);return Ee(s)}))return;let n=r.get(e.parentid),i=e;for(;n;){if(t.has(n.originalid??n.id)){let a=r.get(n.originalid??n.id),s=Pp(r,a),l=i.originalid??i.id;if(Ee(a)&&l===s?.id)return a}i=n,n=r.get(n.parentid)}}function Rx(e){return e}function xx(e){let t=new Set;return Vh(e,r=>{r.providerId&&t.add(r.providerId)}),t}var Nl=(e,t,r,o)=>(n,i,a,s=Rx,l=void 0)=>{if(me(n))return s(r.create(n));if(Pt(n)){let c=s(o.createComputedValue(n,i,l));return Su(n)?c:t.component.dedupe(a,c,wx(i,xx(n),e.tree))}z(n)};function xd(e){if(Ne(e))return"screen";if(Me(e))return"vector";if(Ve(e))return"design";let{type:t}=Z(e.instanceIdentifier);return t}function qv(e,t,{treeStore:r,modulesStore:o,engineChanges:n,assetMap:i},a=new Set,s=`framer-${On(5)}`){let l=xd(t),c=new Ur(...a),m=new yo(l,o,c);m.addImport("react",{exportSpecifier:"*",importBinding:"React"});let u=new gl(t.id,Ne(t)?e.id:t.id,l),p=bs(t);Fo(p!=="ContentManagement"&&p!=="Analytics"&&p!=="LocalizationGlossary","Content management, Analytics & Localization glossary nodes cannot be code-generated");let f=new ts(c),h=new Qa(t),y=new Io(i),b=new Vn(t,m,c,h,r,o,()=>{let Te=m.addImport("framer",{exportSpecifier:"useRouter"});return f.component.dedupe("router",v.fn(Te))}),S=new Ts(t,r,h,f.file,c,m,y),I=new Is(c,h,S,y,b),T=new zg(t,h,r,m,f,I,o,l),x=new Og(f.file,f.component,m,h,T,b,I,o,l),V=new hl(t,c,f,m,h,r),L=new vl,F=new fl(f.component,t,e.id),J=Nl(r,f,h,x),$=new hf(t,h,r,x,J),K=new _s(t,e,s,$),ce=new Set,D=new Gs(e,h,r,c,m,{type:l}),ye=new No(f.font),ne=new Cl(pp()),Y=new Set,de={dependencies:Y,addDependency:Te=>Y.add(Te)},ae=$t(t)?t.getReplicaVariants():[],Ie={};if($e(t))for(let Te of ae)!Nr(Te)||wg(Te.gesture)||(Ie[Te.replicaInfo.inheritsFrom??Te.replicaInfo.master]=!0);let Je=new pl(r.tree,c),ee=new Dp(t,ye,m,f.file,h,o,r),E=new yl(o,r.tree),ue=new Sl(t),we=new bl(m,r,o,J),Ye=new ml(r,h,x),Vt=pe(t)?h.create({id:"children",providerId:t.id}):void 0;return{type:"jsxContext",treeStore:r,modulesStore:o,engineChanges:n,assetMap:i,simulatedDOM:Ye,variants:ae,topLevelVariantsWithGestures:Ie,imports:m,errors:u,variables:h,fetches:I,assets:y,valueTransforms:x,elementIds:V,css:K,renderFunctions:F,events:D,links:b,fonts:ye,metrics:ne,packages:de,appearIds:Je,bindings:c,declarations:f,preload:S,localizedValues:T,componentPresetIds:ce,renderAsListNodes:new Map,repeaterInfo:new Map,renderConditions:new Map,nodesWithAnyGradientFill:new Map,customCursors:ee,cssVariableDefinitions:$,formIds:new Set,hitTargets:ue,createDeduplicatedDynamicValueBinding:J,trackingIds:L,vectorSets:we,kitSectionsStructure:E,scopeId:t.id,scopeType:p,moduleType:l,rootId:e.id,linkClassName:K.addRule({display:"block"},t),layoutTemplateSlotBinding:Vt,nodeRendersWithMotion:new Il,serializationId:s,acceptsLayoutTemplate:W(t)&&t.isLoaded()&&t.baseVariantId?Tl(t):void 0}}function Kv({ctx:e,ancestorInfo:t,jsxAttributes:r,usedVariableIds:o,dataRepeater:n,primaryVariantControlMap:i,shouldInlineQuery:a,variantId:s}){let l=[],c=r.subqueries,m=t.subqueries,u=vy(n,i,o,y=>{if(a){let b=m;for(;b;){if(y.providerId===b.repeaterNode.id){let S=Vs(b.repeaterNode),[I,T]=by(y.id,S);return{type:"Identifier",name:T,collection:I}}b=b.parent}}return g(e.variables,"VariableCollector is required"),l.push(y),{type:"LiteralValue",value:e.variables.create(y)}},y=>{let b=e.imports.addModuleImport(y);return g(b,"Can't import collection"),b});g(c,"Subqueries must exist");let p=c.getSubqueries(s);for(let[y,b]of p)u.select.push({type:"FunctionCall",functionName:"ARRAY",alias:y,arguments:[{type:"Select",...b}]});let f=c.getVariableDependencies(s);l.push(...f);let h=u;return a?(g(m,"Parent subqueries must exist"),m.addSubquery(s,n.originalid??n.id,u),m.addVariableDependencies(s,l)):e.preload.addQuery(n,h,l),new B({query:h,pageSize:n.collectionPaginationPageSize})}function Mx(e,t){return N(e.subqueries)||t.isAnyVariantPaginated?!1:e.inRepeatedItem??!1}function Yv(e,t,r,o,n){let i=o.inheritedControlMap?.get(e.id);g(i,"Primary variant control map must be defined.");let a=Mx(r,o),s=Kv({ctx:t,ancestorInfo:r,jsxAttributes:o,usedVariableIds:n,dataRepeater:e,primaryVariantControlMap:i,shouldInlineQuery:a,variantId:"primary"}),l={};for(let c of t.variants){let m=Ko(c,e.id,t.treeStore.tree)??e;g(Ee(m),"Node must be a data repeater");let u=Kv({ctx:t,ancestorInfo:r,jsxAttributes:o,usedVariableIds:n,dataRepeater:m,primaryVariantControlMap:i,shouldInlineQuery:a,variantId:c.id});mr(s,u)||(l[c.id]=u)}return a?null:{props:s,overrides:xe(l)?void 0:l}}function Vx(e,t){let r=t.imports.addImport("framer",{exportSpecifier:"useQueryData"});if(yr(e)){let o=t.imports.addImport("framer",{exportSpecifier:"useLoadMorePaginatedQuery"}),n=d`paginatedQuery`;return d.joinLines(d`const { ${n}, paginationInfo, loadMore } = ${o}(query, pageSize, ${e.id})`,d`const data = ${v.fn(r,n)}`,d`return children(data, paginationInfo, loadMore)`)}return d.joinLines(d`const data = ${v.fn(r,d`query`)}`,d`return children(data)`)}function Qv(e,t){return d`({ query, pageSize, children }) => {
        ${Vx(e,t)}
    }`}function Zv({renderAsListNodes:e},t){return t.parentid?e.has(t.parentid):!1}function eb(e,t,{isAnyVariantALink:r},o){let n=o?"motion.":"";return bo(t)&&(it(t)||r)?`${n}a`:Zv(e,t)?`${n}li`:So(t)&&t.htmlTag&&An(e.scopeType)?`${n}${t.htmlTag}`:`${n}${Ka}`}function tb(e,t,{isAnyVariantAnEffect:r,isAnyVariantOptimizedAppearEffect:o},n){let i=[];r&&i.push(t.imports.addImport("framer",{exportSpecifier:"withFX"})),o&&i.push(t.imports.addImport("framer",{exportSpecifier:"withOptimizedAppearEffect"}));let a=t.treeStore.tree.get(n.lastRepeaterId);return $r(a)&&yr(a)&&Ho(e,a)&&i.push(t.imports.addImport("framer",{exportSpecifier:"withInfiniteScroll"})),t.scopeType==="SmartComponent"?t.imports.addImport("framer",{exportSpecifier:"SmartComponentScopedContainer",composeWithImports:i}):t.imports.addImport("framer",{exportSpecifier:"Container",composeWithImports:i})}function Dx(e,t){if(!op(t.treeStore.tree,e)||!!!P.reactComponentForIdentifier(e.codeComponentIdentifier)?.annotations?.framerImmutableVariables)return;let o=Z(e.codeComponentIdentifier);if(!Ce(o))return;let{importSpecifier:n,importBinding:i}=Jr(o,t.moduleType,t.modulesStore);if(!n)return;let a=t.imports.addImport(n,{exportSpecifier:"*",importBinding:`${i}Info`});return[t.imports.addImport("framer",{exportSpecifier:"withMappedReactProps"}),a]}function kx(e,t,r,o){let n=[];ar(e)&&t.scopeType==="CanvasPage"&&n.push(t.imports.addImport("framer",{exportSpecifier:"withGeneratedLayoutId"}));let i=Px(e,t,r);i&&n.push(i);let a=qs(e,t);if(n.push(...a),i||a.length>0){let s=Dx(e,t);s&&n.push(s)}return o.isAnyVariantAVariantAppearEffect&&n.push(t.imports.addImport("framer",{exportSpecifier:"withVariantAppearEffect"})),U(e)&&!e.isVectorInstance||(o.isAnyVariantAnEffect&&n.push(t.imports.addImport("framer",{exportSpecifier:"withFX"})),o.isAnyVariantOptimizedAppearEffect&&n.push(t.imports.addImport("framer",{exportSpecifier:"withOptimizedAppearEffect"}))),n}function Px(e,t,r){let o=Xs(e,t);if(!o)return;let{importSpecifier:n,exportSpecifier:i}=o,a={scopeId:t.scopeId,nodeId:e.originalid??e.id,override:t.imports.addImport(n,{exportSpecifier:i}),inComponentSlot:r.inComponentSlot?!0:void 0};return[t.imports.addImport("framer",{exportSpecifier:"withCodeBoundaryForOverrides"}),a]}function Fx(e,t){if(e.kind!=="localModuleExport")return;let{localId:r}=e,n=t.modulesStore.getPersistedModuleByLocalId(r)?.metadata.packageDependencies;Array.isArray(n)&&n.forEach(i=>{A(i)&&t.packages.addDependency(i)})}function rb(e,t){let r=ys(e,P);if(!r)return;let o=Fe("prototype",r);return t.imports.addImport(`../${o}`,{exportSpecifier:"default",importBinding:"Prototype"})}function Lx(e){switch(e){case"BooleanShapeNode":case"CodeComponentNode":case"FormBooleanInputNode":case"FormPlainTextInputNode":case"FormSelectNode":case"FrameNode":case"OvalShapeNode":case"OverlayNode":case"PathNode":case"PolygonShapeNode":case"RectangleShapeNode":case"RichTextNode":case"ShapeContainerNode":case"ShapeGroupNode":case"StarShapeNode":case"SVGNode":case"TextNode":{let t=e;return!0}case"AnalyticsScopeNode":case"BlockquoteEntityTypeRootNode":case"BlockquoteStylePresetNode":case"BoxShadow":case"CanvasNode":case"CanvasPageNode":case"CanvasScopeNode":case"ChatTool":case"CMSEntityTypeRootNode":case"CodeFileEntityTypeRootNode":case"CollectionReferenceVariableEditTool":case"CollectionItemNode":case"CollectionNode":case"Color":case"ColorEntityTypeRootNode":case"ColorStyleTokenListNode":case"ColorStyleTokenNode":case"ComponentEntityTypeRootNode":case"ComponentPresetNode":case"ConicGradient":case"ContentManagementNode":case"CreateCodeComponentBaseTool":case"CreateFrameBaseTool":case"CreateShapeBaseTool":case"CreateTextTool":case"DateVariableEditTool":case"DesignPageNode":case"EntityFolderNode":case"EntityReferenceNode":case"EntityRootNode":case"ErrorListNode":case"ErrorNode":case"ExportOptions":case"EnumVariableEditTool":case"ExternalModuleNode":case"ExternalModulesListNode":case"FeedbackTool":case"FunnelNode":case"FunnelStepActionNode":case"FunnelStepNode":case"GapTool":case"GradientColorStop":case"GradientToolManagerTool":case"GuideMoveTool":case"HeaderRouteNode":case"HighlightStackItemTool":case"HighlightTool":case"ImageStylePresetNode":case"InitialTool":case"InlineCodeEntityTypeRootNode":case"InlineCodeStylePresetNode":case"LayoutTemplateEntityTypeRootNode":case"LayoutTemplateNode":case"LineAnchorMoveTool":case"LinearGradient":case"LinkEntityTypeRootNode":case"LinkStylePresetNode":case"LinkTool":case"LoadingShieldTool":case"LocalizationGlossaryItemNode":case"LocalizationGlossaryNode":case"LocalModuleNode":case"LocalModulesListNode":case"Menu":case"MoveTool":case"MutableNode":case"PaddingTool":case"PageLinkTool":case"PanTool":case"PathCurveBendTool":case"PathDefaultTool":case"PathSegment":case"PathSegmentAdditionTool":case"PathSegmentHandleMoveTool":case"PathSegmentMoveTool":case"PathSegmentSelectTool":case"PresetsListNode":case"PreviewSettings":case"ProxyRouteNode":case"RadialGradient":case"RadiusTool":case"RecoveryTool":case"RedirectRouteNode":case"ResizeTool":case"RewriteRouteNode":case"RichTextEditTool":case"RichTextVariableEditTool":case"RootNode":case"RotateTool":case"RouteNode":case"RouteSegmentNode":case"RouteSegmentRootNode":case"RoutesNode":case"SampleColorTool":case"ScaleTool":case"ScopeNode":case"SelectTool":case"Shadow":case"SlotConnectTool":case"SlotNode":case"SlotPropertyNode":case"SmartComponentNode":case"StringVariableEditTool":case"StyledTextDraft":case"TableStylePresetNode":case"TestTool":case"TextEditTool":case"TextEntityTypeRootNode":case"TextStylePresetNode":case"VectorSetEntityTypeRootNode":case"VectorSetNode":case"VekterGradientTool":case"VekterPathEngine":case"VekterTool":case"ViewportResizeTool":case"WebPageNode":case"ZoomSelectTool":case"ZoomTool":{let t=e;return!1}default:z(e)}}function ob(e,t,r,o){if(!Lx(e.__class))throw Error(`jsxTagNameForNode: ${e.__class} does not support serialization to JSX.`);let n=kx(e,t,r,o);switch(e.__class){case"SVGNode":case"ShapeContainerNode":case"BooleanShapeNode":case"OvalShapeNode":case"PathNode":case"PolygonShapeNode":case"RectangleShapeNode":case"ShapeGroupNode":case"StarShapeNode":return t.imports.addImport("framer",{exportSpecifier:"SVG",composeWithImports:n});case"TextNode":return t.imports.addImport("framer",{exportSpecifier:"Text",composeWithImports:n});case"RichTextNode":return t.imports.addImport("framer",{exportSpecifier:"RichText",composeWithImports:n});case"FrameNode":{if(Mr(e))return t.imports.addImport("framer",{exportSpecifier:"FormContainer",composeWithImports:n});if(wt(e)||o.isAnyVariantAnImage)return t.imports.addImport("framer",{exportSpecifier:"Image",composeWithImports:n});let i=t.nodeRendersWithMotion.get(e);g(!N(i),"Node must have had `rendersWithMotion` computed for it.");let a=eb(t,e,o,i);return i?t.imports.addImport("framer-motion",{exportSpecifier:a,composeWithImports:n}):new v(a)}case"CodeComponentNode":{if(g(po(e),"Nodes with a ClassDiscriminator of CodeComponentNode must be a Code Component"),pC(e))return t.imports.addImport("framer",{exportSpecifier:fC(e)});if(mn(e)||o.identifiers&&o.identifiers.size>1)return t.imports.addImport("framer",{exportSpecifier:"Instance",composeWithImports:n});let i=Z(e.codeComponentIdentifier);if(!Ce(i)){let c=Kd(e.codeComponentIdentifier);return g(c,"A package must have module information to be included in code-generation."),t.packages.addDependency(c.packageName),t.imports.addImport(c.moduleURL,{exportSpecifier:c.exportIdentifier,composeWithImports:[t.imports.addImport("framer",{exportSpecifier:"withMeasuredSize"})]})}g(Ce(i),"A code component that is not a package must be a module.");let{importSpecifier:a,exportSpecifier:s,importBinding:l}=Jr(i,t.moduleType,t.modulesStore);return g(a,"A module must have an import specifier."),Fx(i,t),t.fonts.addFontReference({componentIdentifier:e.codeComponentIdentifier,fontReference:t.imports.addImport(a,{exportSpecifier:s,importBinding:l,composeWithImports:[t.imports.addImport("framer",{exportSpecifier:"getFonts"})]})}),t.imports.addImport(a,{exportSpecifier:s,importBinding:l,composeWithImports:n})}case"OverlayNode":return t.imports.addImport("framer",{exportSpecifier:"ResetOuterLinkContext"});case"FormBooleanInputNode":return t.imports.addImport("framer",{exportSpecifier:"FormBooleanInput",composeWithImports:n});case"FormPlainTextInputNode":return t.imports.addImport("framer",{exportSpecifier:"FormPlainTextInput",composeWithImports:n});case"FormSelectNode":return t.imports.addImport("framer",{exportSpecifier:"FormSelect",composeWithImports:n});default:z(e.__class)}}function nb(e,t){if(ut(t)){let r=e.dataForIdentifier(t.dataIdentifier);return g(r,"A Data Repeater must have an evaluated data entity in the sandbox."),{id:t.id,annotations:r.annotations}}if(Jo(t))return{id:t.id,annotations:void 0};z(t,"A data repeater must have either an identifier or array variable")}function Ex(e,t,r){let o=[];for(let n of t){if(mc(n))continue;let i=r?.get(n);if(!i)continue;let a=Go(n,e.id,!1),s=tm(i.type);Vr(s)&&o.push(d`${a} ??= ${s}`)}return o}function Ax(e,t,r,o){if(ut(e)){let n=r?.framerRecordIdKey;return n?t.variables.create(dn(n,e.id)):o}return t.bindings.create("id")}function Bx(e,t){if(ut(e))return t.bindings.createWithNode("collection",e);if(Jo(e))return t.variables.create(e.dataRepeaterArray);z(e,"parent should be a collection or array repeater")}function Ox(e,t,r,o,n){let i=ut(e)?{}:{[Bg]:t};for(let a of r)mc(a)||(i[a]=Go(a,e.id,!1));if(ut(e)){g(o,"Subqueries must exist");for(let a of o.childRepeaterIds){let s=n.treeStore.tree.get(a);g(s,"Repeater node must exist");let l=n.bindings.createWithNode("collection",s);i[a]=l}}return i}function ib(e,t,r,o,n){let i=Ax(e,o,t,n),a=Bx(e,o),s=o.variables.variableIdsByProviderId.get(e.id)??new Set,l=Ox(e,i,s,r.subqueries,o),c=r.inheritedControlMap?.get(e.id),m=ha(e);return{args:d`${l}, ${n}`,variableFallbackList:Ex(e,s,c),data:a,key:m?d`${i} ?? ${n}`:i}}var zx=fe("jsxForNode");async function Wx(e,t,r,o){let n=Cs(t.treeStore.tree,e,P);for(let i in n){if(i==="children")continue;let a=[],s=n[i];if(s){for(let l=0;l<s.length;l++){let c=s[l];if(!c)continue;let m=await Rl(c.node,e,t,{...o,inComponentSlot:!0,layoutId:`${c.key}-${o.layoutId??c.node.originalid??c.node.id}-${l}`});m&&m.length>0&&a.push(m)}r.props[i]=a}}}function $x(e,t,r){if(De(e))return Q(Er(t.imports.addImport("framer-motion",{exportSpecifier:"motion.div"}),t,r));if(U(e)&&e.codeComponentIdentifier==="framer/Prototype"){let o=rb(e,t);if(o)return Q(le.tag(o,void 0))}return""}function Hx(e,t,r){if(Ee(t)){let o=nb(P,t);return r.repeaterInfo.set(t.id,o),t.id}return e.lastRepeaterId}function Gx(e,t,r){return Ee(t)?!1:!!(Mn(r.treeStore.tree,t)||e.inRepeatedItem)}function Ux(e,t,r,{itemsOrderOverrides:o,hiddenInVariants:n,inheritedControlMap:i,inCodeOverride:a,subqueries:s,kitSectionId:l}){return{...e,lastRepeaterId:Hx(e,t,r),inRepeatedItem:Gx(e,t,r),subqueries:s,itemsOrderOverrides:o,hiddenInVariants:n,inheritedControlMap:i,inCodeOverride:a,kitSectionId:e.kitSectionId??l,inComponentSlot:e.inComponentSlot||U(t)&&t.codeComponentIdentifier!=="framer/Prototype"}}function Jx(e,t,r,o,n){let i=[],s=o.treeStore.tree.getPresetsListNode()?.getComponentPresets();if(_e(e)&&me(e.htmlContent)&&s&&s.length>0){let p=o.imports.addImport(`../${zn}`,{exportSpecifier:"*",importBinding:"componentPresets"}),f={},h=e.getComponentPresets();for(let[y,b]of h)o.componentPresetIds.add(b),f[y]=d`${p}.props[${b}]`;i.push(y=>le.tag(o.imports.addImport("framer",{exportSpecifier:"ComponentPresetsProvider"}),new B({presets:f}),y))}U(e)&&Cr(e)&&i.push(p=>Er(tb(e,o,r,n),o,r.propsForContainer,p)),U(e)&&!e.isVectorInstance&&i.push(p=>Er(o.imports.addImport("framer",{exportSpecifier:"ComponentViewportProvider"}),o,r.propsForComponentViewport,p));let l=o.links.getUnresolvedLinksForNode(e);if(l){let{unresolvedLinks:p,binding:f}=l;if(Vr(p)||du(p)){let h=o.imports.addImport("framer",{exportSpecifier:"ResolveLinks"}),y=new B({links:p});i.push(b=>Er(h,o,{props:y},d`(${f}) => (${b})`))}}if(r.isAnyVariantALink&&i.push(p=>Er(o.imports.addImport("framer",{exportSpecifier:"Link"}),o,r.propsForLink,p)),r.isAnyVariantATransitionOverride){let p=o.imports.addImport("framer-motion",{exportSpecifier:"MotionConfigContext"}),f=o.imports.addImport("react",{exportSpecifier:"*",importBinding:"React"}),h=o.declarations.file.dedupe("Transition",new v(re.lines(d`({value, children}) => {`,d`const config = ${f}.useContext(${p})`,d`const transition = value ?? config.transition`,d`const contextValue = ${f}.useMemo(() => ({ ...config, transition }), [JSON.stringify(transition)])`,d`return <${p}.Provider value={contextValue}>{children}</${p}.Provider>`,d`}`)));i.push(y=>Er(h,o,r.propsForTransition,y))}let c=o.events.overlayTriggerOverlayBindings.get(e.id);if(c&&c.size>0){i.push(b=>le`<>${b}</>`);let p=d`visible`,f=d`setVisible`,h={visible:d`enabled && ${p}`,[Us.show]:d`() => ${v.fn(f,d`true`)}`,[Us.hide]:d`() => ${v.fn(f,d`false`)}`,[Us.toggle]:d`() => ${v.fn(f,d`!${p}`)}`},y=o.declarations.file.dedupe("Overlay",new v(re.lines(d`({ children, blockDocumentScrolling, enabled = true, }) => {`,d`const ${[p,f]} = ${v.fn(o.imports.addImport("framer",{exportSpecifier:"useOverlayState"}),d`{ blockDocumentScrolling }`)}`,d`return children(${h})`,d`}`)));for(let[b,S]of c){let I=o.treeStore.tree.get(b);if(!I)continue;let T=new B({blockDocumentScrolling:De(I)?I.blockDocumentScrolling:!1}),x=o.renderConditions.get(b);Nt(x)&&(T.enabled=x),i.push(V=>le.tag(y,T,d`${S} => (${V})`))}}let m=o.events.overlayState.get(e.id);if(m&&De(e)){let p=t?o.elementIds.id(t):d`undefined`;i.push(S=>le.tag(o.imports.addImport("framer",{exportSpecifier:"InjectSelectionStyle"}),new B({triggerId:p}),S));let f=o.imports.addImport("react-dom",{exportSpecifier:"*",importBinding:"ReactDOM"}),h=`#${Ca}`,y=`#${Sa}`,b=o.declarations.file.dedupe("getContainer",d`() => {${d.joinLines(d`return document.querySelector(${h}) ?? document.querySelector(${y}) ?? document.body`)}}`);i.push(S=>le`<>{${f}.createPortal(${S}, ${v.fn(b)})}</>`)}t&&m&&Et(e)&&r.isAnyVariantFloating&&i.push(p=>Er(o.imports.addImport("framer",{exportSpecifier:"Floating"}),o,r.propsForFloating,p)),m&&Tt(e)&&i.push(p=>le.tag(o.imports.addImport("framer-motion",{exportSpecifier:"AnimatePresence"}),void 0,d`${m}.visible && (${p})`)),r.renderCondition!==!0&&i.push(p=>d`${r.renderCondition} && (${p})`);let u=o.fetches.getResultBinding(e);if(r.propsForFetcher&&u&&i.push(p=>Er(o.imports.addImport("framer",{exportSpecifier:"Fetcher"}),o,r.propsForFetcher,d`${u} => (${p})`)),Ee(t)&&Mn(o.treeStore.tree,e)){let p=o.repeaterInfo.get(t.id);if(g(p,"jsxForNode: `repeaterInfo` must exist when transforming the child of a repeater."),ut(t)){let T=o.links.getPathVariablesForRepeaterInfo(p);T&&i.push(x=>le.tag(o.imports.addImport("framer",{exportSpecifier:"PathVariablesContext.Provider"}),new B({value:T}),x))}let f=o.bindings.createWithNode("index",t),{data:h,args:y,variableFallbackList:b,key:S}=ib(t,p.annotations,r,o,f),I=o.variables.variableIdsByProviderId.get(t.id)?.has(uc)?new v(Go(uc,t.id,!1)):void 0;i.push(T=>d`${h}?.map((${y}) => {${d.joinLines(...b,I&&d`const ${I} = ${f} + 1`,...o.declarations.component.list(t),d`return (${le.tag(o.imports.addImport("framer-motion",{exportSpecifier:"LayoutGroup"}),new B({key:S,id:he`${t.id}-${S}`}),T)})`)}})`)}return i}function _x(e,t,r){let n=Cr(e)?t.propsForContainer:t.propsForElement,i=r.events.overlayTriggerOverlayBindings.get(e.id);if(i&&i.size>0){let l=n.props;l||(l=new B),l.id=l.id??r.elementIds.id(e)}let s=r.cssVariableDefinitions.getDefinitionsForNode(e)??{};if(!xe(s)){let l=n.props;l||(l=new B),l.style?Object.assign(l.style,s):l.style=s}}async function Rl(e,t,r,o){try{if(lo(e)){g(t&&r.layoutTemplateSlotBinding,"A SlotNode must be in a Layout Template and have a parent.");let l=Iv(e,t,r);return le`${d.joinLines(le.children(r.layoutTemplateSlotBinding),le.tag(d`div`,new B({className:l})))}`}await qx(e,r),r.metrics.count("nodes");let n=bv(e,t,r,o);if(!n)return le``;U(e)&&await Wx(e,r,n.propsForElement,o);let i=$x(e,r,n.propsForElement),a=Ux(o,e,r,n);for(let l of Kx(e,r)){if(Tt(l)&&!r.events.overlayState.has(l.id))continue;let c=await Rl(l,e,r,a);c&&(i+=Q(le.children(c)))}_x(e,n,r);let s=await Zx(e,r,o,a,n,le.fromTrustedString(i));return le.applyTransforms(s,Jx(e,t,n,r,o))}catch(n){return zx.reportError(n,{node:e.id,primaryVariant:r.rootId}),r.errors.record(e,n),le``}}async function xl(e,t,r,o,n=`framer-${On(5)}`){let{combinedVariableControlMap:i}=t.combineVariableControlMap(r.treeStore.tree,void 0,P,P.activeBundleHash),a={inheritedControlMap:i},s=qv(e,t,r,o,n);return{ctx:s,jsx:await Rl(e,null,s,a)}}async function wl(e,t,{modulesStore:r,errors:o,treeStore:n,rootId:i}){let a=n.tree.get(i),s=n.tree.getScopeNodeFor(a);if(Wm(n.tree,s,e))return;for(let c of t)if(Dt(c)&&c.type==="codeFile"){let u=P.componentForIdentifier(c.value),p=P.errorForIdentifier(c.value);u?p&&o.record(e,"CodeError",c.value):o.record(e,"MissingModule",c.value);return}let l=jx(t);l.length>0&&await r.preloadExternalModules(l),await Bn(P,t.map(c=>c.value),r)}function jx(e){let t=[];for(let r of e)br(r)&&t.push(r);return t}function Xx(e,t){if(!Ce(e.codeComponentIdentifier))return;let r=new Set([e.codeComponentIdentifier]);for(let o of t.variants){let n=Ko(o,e.id,t.treeStore.tree);n&&(g(U(n),"Expected a CodeComponentNode in the variant",n?.id),Ce(n.codeComponentIdentifier)&&r.add(n.codeComponentIdentifier))}return r}async function qx(e,t){if(U(e)){if(e.codeComponentIdentifier==="framer/Prototype"){let n=ys(e,P);if(!n)return;await wl(e,[dt("prototype",n,"default")],t)}let r=Xx(e,t);if(!r)return;let o=[];for(let n of r)o.push(Z(n));await wl(e,o,t)}if(Lm(e)){if(!Ce(e.codeOverrideIdentifier))return;await wl(e,[Z(e.codeOverrideIdentifier)],t)}ut(e)&&await wl(e,[Z(e.dataIdentifier)],t)}function Kx(e,t){return!Tn(e)||un(e)||_e(e)?Gd():U(e)&&e.codeComponentIdentifier!=="framer/Prototype"?mg(t.treeStore.tree,e,P).map(r=>r.node):e.children}function Yx(e,t,r,o,n){if(!ha(e)){if(ut(e)){let i=t.variables.variableIdsByProviderId.get(e.id)??new Set,a=Yv(e,t,r,o,i);if(a){let s=t.declarations.file.dedupe("QueryData",Qv(e,t)),l=t.bindings.createWithNode("collection",e),c=t.bindings.createWithNode("paginationInfo",e),m=t.bindings.createWithNode("loadMore",e);n.push(u=>le.tag(t.imports.addImport("framer",{exportSpecifier:"ChildrenCanSuspend"}),void 0,Er(s,t,a,d`(${l}, ${c}, ${m}) => (<>${u}</>)`)))}return}z(e,"All data repeater types should be handled")}}function Qx(e,t,r,o){let n=[];return Mr(e)&&n.push(i=>d`(${ld}) => (<>${i}</>)`),Ee(e)&&Yx(e,t,r,o,n),n}async function Zx(e,t,r,o,n,i){let a=Er(ob(e,t,r,n),t,De(e)?void 0:n.propsForElement,le.applyTransforms(i,Qx(e,t,r,n)));if((U(e)||_e(e))&&Qm(e,"framer/useShowRelativeOverlay")){let s=Q(a);for(let l of e.children){if(!Tt(l)||!t.events.overlayState.has(l.id))continue;let c=await Rl(l,e,t,o);c&&(s+=Q(le.children(c)))}return le.fromTrustedString(s)}return a}function Er(e,t,r,o){if(!r)return le.tag(e,void 0,o);let{props:n=new B,overrides:i}=r,a=[];if(i)switch(t.scopeType){case"SmartComponent":B.addSpreadAtEnd(n,v.fn(d`addPropertyOverrides`,i,d`baseVariant`,d`gestureVariant`));break;case"WebPage":case"LayoutTemplate":a.push(s=>le.tag(t.imports.addImport("framer",{exportSpecifier:"PropertyOverrides"}),new B({breakpoint:d`baseVariant`,overrides:i}),s));break;default:break}return le.applyTransforms(le.tag(e,n,o),a)}async function Ml(e,t,r,o,n,i){return fo(t)&&t.usesDOMRectCached()&&!t.getDOMRect()&&(await eM(t,o,r,n),!t.cache.getRawDOMRect(t.id)&&i)?et.atOrigin(i):e.getRect(t)}async function eM(e,t,r,o){if(t){let a=(await t({ids:[e.id]}))?.measurements?.[0];if(a){let{layoutMetrics:s}=a,l=et.from(s);e.cache.setRawDOMRect(e.id,l);return}}if(!r)return;let n=tM(r,o);if(n){let i=et.atOrigin(n);e.cache.setRawDOMRect(e.id,i)}}function tM(e,t){if(!Dt(e))return;let r=t.getPersistedModuleByLocalIdentifier(e);if(!r)return;let{intrinsicWidth:o,intrinsicHeight:n}=r.metadata;if(G(o)&&G(n))return{width:o,height:n}}var er={Screen:d`Screen`,activeVariantCallback:w.activeVariantCallback,css:w.css,delay:w.delay,ref:w.ref,serializationHash:w.serializationHash,sharedStyleClassNames:w.sharedStyleClassNames,restProps:w.restProps,refBinding:w.refBinding},rM=new Set(Object.values(er).map(e=>Q(e))),ab=xt(async(e,t,{serializationId:r,initialIntrinsicSize:o})=>{let n=t.treeStore.tree.getScopeNodeFor(e);if(!Ne(n))return[];let i=t.treeStore.tree.get(e.id);g(i,"Must have a source node to serialize. This should be a primary variant."),g(Ne(n),"Must have a scope node to serialize. This should be a CanvasPage Node.");let{assetMap:a,engineChanges:s,modulesStore:l,treeStore:c}=t,m={assetMap:a,engineChanges:s,modulesStore:l,treeStore:c},u=`FramerScreen${be(e.id)}`,p=dt("screen",e.id,"default").value,{jsx:f,ctx:h}=await xl(i,n,m,new Set(rM).add(u),r);g(f,"There must be JSX to serialize.");let y=h.imports,b=await Ml(m.treeStore.tree,i,p,t.measureNodes,m.modulesStore,o),S=h.events.navigationTargets.size>0,I=h.events.handlers.size>0,T=h.events.variantOnAppearId.get(e.id),x=h.events.keyBindHooks.size>0,V=[];for(let ae of h.events.navigationTargets)ae!==rd&&V.push(ae);let L=h.fonts.fontObjects,F=new Map(h.fonts.fontReferences),{variables:J}=h.variables,$=[],K=new Set(h.css.sharedStyleIds),ce=[];for(let ae of K){let Ie=Fe("css",ae),Je=y.addImport(`../${Ie}`,{exportSpecifier:"*",importBinding:"sharedStyle"});ce.push(Je),$.push(v.fn(y.addImport("framer",{exportSpecifier:"getFontsFromSharedStyle"}),d`${Je}.fonts`))}let D;for(let ae of h.componentPresetIds){D??=y.addImport(`../${zn}`,{exportSpecifier:"*",importBinding:"componentPresets"});let Ie=d`${D}.fonts?.[${ae}]`;$.push(d`(${Ie} ? ${v.fn(h.imports.addImport("framer",{exportSpecifier:"getFontsFromComponentPreset"}),Ie)} : [])`)}let ye=new Map;Pn(h.css.get(),ye);let ne=new v(u),Y=y.addImport("react",{exportSpecifier:"useRef"}),de=re.lines(S&&`const preload = ${Q(V)};`,...h.declarations.file.list(),d`const ${er.serializationHash} = ${r}`,d`const ${er.Screen} = ${oM({props:d`style, className`},d`const fallbackRef = ${v.fn(d`${Y}<HTMLElement>`,d`null`)}`,d`const ${er.refBinding} = ${er.ref} ?? fallbackRef`,S?d`const navigate = ${v.fn(y.addImport("framer",{exportSpecifier:"usePrototypeNavigate"}),{preload:d`preload`})}`:void 0,I&&d`const { ${er.activeVariantCallback}, ${er.delay} } = ${v.fn(y.addImport("framer",{exportSpecifier:"useActiveVariantCallback"}))}`,...h.events.handlers.values(),d`const ${er.sharedStyleClassNames} = ${ce.map(ae=>d`${ae}.className`)}`,...h.declarations.component.list(),x&&re.linesFrom(h.events.keyBindHooks),T&&v.fn(y.addImport("framer",{exportSpecifier:"useOnAppear"}),T),J.size>0&&d`const { ${d.listFrom(J)} } = {}`,d`return ${f}`)}`,d`const ${er.css} = ${[...h.css.conditionalRules(r),rs,...Fn(ye),...ce.map(ae=>d`...${ae}.css`)]}`,os(ne,r,er.Screen,er.css,{framerIntrinsicHeight:b.height,framerIntrinsicWidth:b.width,framerSupportedLayoutWidth:"fixed",framerSupportedLayoutHeight:"fixed",framerScreen:void 0,framerDisplayContentsDiv:!1},y),d`${ne}.displayName = ${`Screens/${n.name?.trim()||"Generated Component"}`};`,d`${ne}.defaultProps = ${{width:b.width,height:b.height}};`,Ws({componentName:ne,fontObjects:L,fontReferences:F,imports:y,declarations:h.declarations.font,sharedFontArrays:$}));return[{type:"screen",revision:void 0,source:new v(re.sections(re.linesFrom(y.statements),de)),artifacts:{assets:h.assets.keys,packageDependencies:h.packages.dependencies,metrics:h.metrics.get()}}]});function oM({props:e},...t){return new v(re.lines(d`React.forwardRef(function({ ${e}, ...${er.restProps} }, ${er.ref}) {`,...t,d`});`))}var lb="{serializationId}";function sb(e){return`.${lb} ${e}`}var cb=xt(async(e,{treeStore:t},{serializationId:r})=>{let o=new Ur,n=new es(o),i=new No(n),a=e.getFontsForCodeGeneration(),s=e.moduleSourceRevision,l=pn(e);for(let S of a)i.addFontObjectBySelector(S,l);let c=[],m=new kn,u={colors:m};for(let{selectors:S,declarations:I}of e.getCSS(u)){let T=S.map(sb);c.push(`${T.join(", ")} { ${I} }`)}let p=t.tree.getNodesWithTrait(e.cache.replicaInstances??[],lh).filter(mp).sort((S,I)=>(I.breakpointWidth??0)-(S.breakpointWidth??0));for(let S=0;S<p.length;S++){let I=p[S];if(I===void 0)continue;let T=p[S+1],x=I.breakpointWidth-1,V=T?.breakpointWidth??0;for(let{selectors:L,declarations:F}of I.getCSS(u)){let $=`${L.map(sb).join(", ")} { ${F} }`;c.push(`@media (max-width: ${x}px) and (min-width: ${V}px) { ${$} }`)}}let f=m.getWideGamutColorRules(`.${r}`);f.length&&c.push(`@supports (color: color(display-p3 1 1 1)) { ${f.join(" ")} }`);let h=c.map(S=>S.replaceAll(lb,r)),y=Vi({fontObjects:i.fontObjects,fontReferences:i.fontReferences}),b=d.joinLines(d`import { fontStore } from "framer";`,d`fontStore.loadFonts(${a});`,...n.list(),d`export const fonts = ${y};`,d`export const css = ${h};`,d`export const className = ${r};`);return[{revision:s,type:"css",source:b,artifacts:{metrics:{nodes:c.length}}}]});function Vd(e){if(yt(e))return{widthType:e.widthType,heightType:e.heightType,...go(e)?{minHeight:e.minHeight,maxHeight:e.maxHeight,minWidth:e.minWidth,maxWidth:e.maxWidth}:Km}}function Dd(e,t){if(Ae(t))return{min:e.getRect(t).width}}var nM=new Set(Object.values(w).map(e=>Q(e)));function iM(e,t){if(ar(e)){let r=t.get(e.parentid);return!Ve(r)||!r.isLoaded()?null:r}return t.current(e)}var kd=xt(async(e,t,{serializationId:r,initialIntrinsicSize:o})=>{let{assetMap:n,engineChanges:i,modulesStore:a,treeStore:s,aiGenerationStore:l,measureNodes:c}=t,m=At(e,s.tree)?e.moduleSourceRevision:void 0,u=iM(e,s.tree);g(u?.isLoaded(),"The scope node must be valid.");let p=xd(u),f=$t(u)?u.baseVariantId:e.id,h=s.tree.get(f);g(h,"Must have a source node to serialize. This should be a primary variant.");let y={assetMap:n,engineChanges:i,modulesStore:a,treeStore:s},b=`Framer${e.id}`,S=new v(b),{jsx:I,ctx:T}=await xl(h,u,y,new Set(nM).add(b),r);g(I,"There must be JSX to serialize.");let x=T.imports,V=Ve(u),L=V?void 0:u.instanceIdentifier,F=await Ml(y.treeStore.tree,h,L,c,y.modulesStore,o),J=$t(u)?u.getReplicaVariants():[],{variants:$,hook:K}=T.preload.getHook(),{gestures:ce,breakpoints:D,classNames:ye,sizes:ne,appearEventMap:Y}=SM(h,J,T,y,$),de=$e(u)?[u.baseVariantId,...u.getTopLevelReplicaVariants().map(xs)]:[],ae=de.length>1,Ie=!xe(ce),Je=!xe(Y),ee=!xe(D),E=d`${x.addImport("react",{exportSpecifier:"*",importBinding:"React"})}.useId`,{mediaQueries:ue,sharedStyleImports:we,sharedFontArrays:Ye,css:Vt}=hM(r,T,J,D,u),Te=le.applyTransforms(I,CM(u,T,fM(u,h,J,ue,y.treeStore,T))),_t=cM(u,t),Wt=W(u)?Ug(u,_t?.controlMap):new Set,rr={};for(let jt of Wt){let Xt=dn(jt,u.id);rr[jt]=T.variables.create(Xt)}let{props:ro,types:ft,propertyControls:at,variableMap:te}=Ms(u,y,T,bs(u),p,F),se=!ee&&d`const ${w.layoutDependency} = ${v.fn(T.declarations.file.dedupe("createLayoutDependency",d`(props, variants) => {${d.joinLines(d`if (props.layoutDependency) return variants.join('-') + props.layoutDependency`,d`return variants.join('-')`)}}`),d`props`,w.variants)}`,{cursors:ze}=T.customCursors,or=x.addImport("react",{exportSpecifier:"useRef"}),vr=re.sections(Ie&&d`const ${w.enabledGestures} = ${ce};`,ae&&`const ${w.cycleOrder} = ${Q(de)};`,ee&&`const ${w.breakpoints} = ${Q(ue)}`,ee&&`const ${w.isBrowser} = () => typeof document !== "undefined";`,V&&d`const ${w.variant} = undefined;`,V&&d`const ${w.breakpoints} = undefined;`,V&&d`const ${w.layoutId} = undefined;`,V&&d`const ${w.className} = undefined;`,V&&d`const ${w.style} = undefined;`,d`const ${w.serializationHash} = ${r}`,`const ${w.variantClassNames} = ${Q(ye)};`,!ee&&dM,...T.declarations.file.list(),`export interface Props extends React.HTMLAttributes<HTMLDivElement> { ${ft} }`,`const ${w.Component} = ${sM(d`const fallbackRef = ${v.fn(d`${or}<HTMLElement>`,d`null`)}`,d`const ${w.refBinding} = ${w.ref} ?? fallbackRef`,d`const ${w.defaultLayoutId} = ${v.fn(E)}`,`const { ${w.activeLocale}, ${w.setLocale} } = ${v.fn(x.addImport("framer",{exportSpecifier:"useLocaleInfo"}))}`,T.variables.shouldProvideLayoutDirection?d`const ${w.layoutDirection} = ${v.fn(x.addImport("framer",{exportSpecifier:"useLayoutDirection"}))}`:void 0,$e(u)||W(u)?d`const ${w.componentViewport} = ${v.fn(T.imports.addImport("framer",{exportSpecifier:"useComponentViewport"}))}`:void 0,pM({data:_t,imports:x,variables:T.variables.variables}),ro,W(u)&&uM({webPageNodeId:e.id,metadataDependencies:rr,imports:x,bindings:T.bindings}),ee?d.joinLines(d`const [${w.baseVariant}, ${w.hydratedBaseVariant}] = ${v.fn(x.addImport("framer",{exportSpecifier:"useHydratedBreakpointVariants"}),w.variant,w.breakpoints,d`false`)};`,d`const ${w.gestureVariant} = undefined;`):aM(h.id,Ie,ae,x),se,yM(T),...T.events.routeHandlers.values(),T.events.handlers.size>0&&d`const { ${w.activeVariantCallback}, ${w.delay} } = ${v.fn(x.addImport("framer",{exportSpecifier:"useActiveVariantCallback"}),ee?d`undefined`:w.baseVariant)}`,...T.events.handlers.values(),Je&&v.fn(x.addImport("framer",{exportSpecifier:"useOnVariantChange"}),ee?w.hydratedBaseVariant:w.baseVariant,Y),d`const ${w.sharedStyleClassNames} = ${we.map(jt=>d`${jt}.className`)}`,...T.declarations.component.list(),ze,K?.(Ie?w.enabledGestures:d`undefined`),d`return (${Te})`)}`,Vt,os(S,r,w.Component,w.css,lM(u,T,F,ne,te),x),`${b}.displayName = ${Q(u.name?.trim()||"Generated Component")};`,`${b}.defaultProps = ${Q({width:F.width,height:F.height})};`,at&&v.fn(x.addImport("framer",{exportSpecifier:"addPropertyControls"}),S,new v(`${Q(at)} as any`)),Ws({componentName:S,fontObjects:T.fonts.fontObjects,fontReferences:T.fonts.fontReferences,imports:x,declarations:T.declarations.font,sharedFontArrays:Ye})),[oo]=W(u)?await Gg(u,t,{serializationId:r}):[];return Ns([{type:p,revision:m,source:new v(re.sections(re.linesFrom(x.statements),vr)),artifacts:{packageDependencies:T.packages.dependencies,errors:T.errors.errors,assets:T.assets.keys,metrics:T.metrics.get(),kitSectionsStructure:l.cacheKitSectionsStructure(e.id,T.kitSectionsStructure.structure)}},oo,T.localizedValues.module(m)])});function aM(e,t,r,o){let n=B.fromEntries([[w.defaultVariant,e],[w.variant,w.variant],[w.variantClassNames,w.variantClassNames],[w.enabledGestures,t?w.enabledGestures:void 0],[w.cycleOrder,r?w.cycleOrder:void 0],[w.ref,w.refBinding]]),i=v.fn(o.addImport("framer",{exportSpecifier:"useVariantState"}),n),a=w.variants,s=w.baseVariant,l=d`setVariant`,c=w.gestureVariant,m=w.classNames,u=w.setGestureState,p=w.gestureHandlers,f=w.clearLoadingGesture,h=w.isLoading;return re.lines(d`const ${{variants:a,baseVariant:s,setVariant:l,gestureVariant:c,classNames:m,setGestureState:u,gestureHandlers:p,clearLoadingGesture:f,isLoading:h}} = ${i}`)}function sM(...e){return re.sections(d`React.forwardRef<HTMLDivElement, Props>(function(props, ${w.ref}) {`,...e,d`});`)}function lM(e,t,r,o,n){let{height:i,width:a}=r,s={propertyName:"variant",data:Object.fromEntries(Object.entries(o).map(([c,m])=>[c,Rp(m)]))},l={framerIntrinsicHeight:i,framerIntrinsicWidth:a,framerRootFontSize:wr(e)?e.getPrimaryVariant()?.rootFontSize:void 0,framerCanvasComponentVariantDetails:JSON.stringify(s),framerVariables:n&&JSON.stringify(n),framerImmutableVariables:!0,framerDisplayContentsDiv:!1,framerAutoSizeImages:!0,framerComponentViewportWidth:!0,framerColorSyntax:!0,framerVectorSets:t.vectorSets.annotation()};if(pe(e)){let c={},m=e.getBreakpointValues();for(let u in m){let p=t.treeStore.tree.get(u);c[u]={...m[u],canvasClassName:pb(u),minHeight:p?.height,viewportHeight:p?.viewportHeight,name:p?.name??void 0,width:p?.widthType===0?p?.width:void 0,rootFontSize:p?.rootFontSize??va}}l.framerHitTargets=t.hitTargets.annotation(),l.framerBreakpoints=JSON.stringify(c),l.framerDefaultVariant=e.baseVariantId,l.framerTrackingIds=t.trackingIds.annotation(),l.framerLayoutTemplate=""}else W(e)?(l.framerAcceptsLayoutTemplate=t.acceptsLayoutTemplate,l.framerTrackingIds=t.trackingIds.annotation(),l.framerScrollSections=t.elementIds.annotation(),l.framerResponsiveScreen=""):$e(e)?l.framerTrackingIds=t.trackingIds.annotation():Ve(e)?l.framerDesign="":$e(e)||(l.framerScreen="");return l}function cM(e,t){if(!W(e)||!ut(e)||!Ja(t.treeStore.tree,e))return;let o=e.getVariableControlMap(t.treeStore.tree,P,P.activeBundleHash)??new Map;return{defaultCollectionAlias:Vs(e),identifier:e.dataIdentifier,controlMap:o}}var dM=re.lines("function addPropertyOverrides(overrides, ...variants) {","const nextOverrides = {}","variants?.forEach(variant => variant && Object.assign(nextOverrides, overrides[variant]))","return nextOverrides","}");function uM({webPageNodeId:e,metadataDependencies:t,imports:r,bindings:o}){let n=r.addImport(`../${$g(e).localId}`,{exportSpecifier:"default",importBinding:"metadataProvider"}),i=o.create("metadata"),a=r.addImport("framer",{exportSpecifier:"useMetadata"}),s=v.fn(n,t,w.activeLocale),l=Object.values(t).concat(w.activeLocale);return re.lines(d`const ${i} = React.useMemo(() => ${s}, ${l})`,v.fn(a,i))}function mM(e){if(Nr(e))return{type:e.gesture,topLevel:e.replicaInfo.inheritsFrom}}function pM({data:e,imports:t,variables:r}){if(!e)return;let o=t.addImport("framer",{exportSpecifier:"useCurrentPathVariables"}),n=t.addImport("framer",{exportSpecifier:"NotFoundError"}),i=t.addImport("framer",{exportSpecifier:"useQueryData"}),a=t.addImport("framer",{exportSpecifier:"getWhereExpressionFromPathVariables"}),s=new Set;for(let[h]of e.controlMap){let y=Go(h,void 0,!0);r.has(y)&&s.add(h)}function l(h){let y=t.addModuleImport(h);return g(y,"Can't import collection"),y}let c=new Set,m=Cy(e.controlMap,s,c,e.defaultCollectionAlias,l),u=Sy(e.identifier,e.controlMap,c,e.defaultCollectionAlias,l),p=d`const [${w.currentRouteData}] = ${v.fn(i,{from:u,select:m,where:v.fn(a,w.currentPathVariables,e.defaultCollectionAlias)})};`;return d.joinLines(d`const ${w.currentPathVariables} = ${v.fn(o)};`,p,d`const ${w.getFromCurrentRouteData} = (key) => {
            if (!${w.currentRouteData}) throw new ${n}(\`No data matches path variables: \${JSON.stringify(${w.currentPathVariables})}\`);
            return ${w.currentRouteData}[key];
        };`)}function pb(e){return`framer-${be(e)}-override`}function db(e,t){if(!(!bn(e)||In(e)&&!e.fillEnabled))return e.fillType==="color"&&k(e.fillColor)?t(e.fillColor,e,"fill"):gp(e)}function ub(e){if(!ku(e))return;let t=e.rootFontSize/16*100;return Pu(t,"%")}function mb(e,t){return A(e)?e:v.fn(t.imports.addImport("framer",{exportSpecifier:"safeCSSValue"}),e)}function fM(e,t,r,o,n,i){if(!pe(e)&&!W(e))return;let a=Nl(n,i.declarations,i.variables,i.valueTransforms),s=pe(e)?":root":"html",l=`${s} body`,c=ub(t),m=db(t,a)??"none",u=[he`${l} { background: ${mb(m,i)}; }`];A(c)&&u.push(`${s} { font-size: ${c}; }`);for(let p of r){let f=o[p.id];if(f){let h=db(p,a)??"none",y=ub(p),b=[];if(bt(m,h)||b.push(he`${l} { background: ${mb(h,i)}; }`),bt(c,y)||b.push(`${s} { font-size: ${y}; }`),b.length===0)continue;u.push(he`@media ${f} { ${he.join(b," ")} }`)}}return he.join(u," ")}function hM(e,t,r,o,n){let i=Rh(wh(o)),a=[],s=new Map;if(pe(n)){let y=n.getPrimaryVariant(),b={marginBottom:En(y,t)};t.css.createRule(`[${ki}="true"] > #overlay`,wn(b));for(let S of r){let I={marginBottom:En(S,t)},T=qr(I,b);!T||xe(T)||t.css.createRule(`[${ki}="true"] > #overlay`,wn(T),S.id)}}Pn(t.css.get(),s);let l={},c={};for(let y of r){let b=i[y.id];if(b){let S=new Map;if(Pn(t.css.get(y.id),S),!S.size)continue;pe(n)?(l[y.id]=Fn(S),c[y.id]=`.${pb(y.id)}`):a.push(he`@media ${b} { ${he.join(Fn(S)," ")}}`)}else Pn(t.css.get(y.id),s)}let m=[],u=[];for(let y of t.css.sharedStyleIds){let b=Fe("css",y),S=t.imports.addImport(`../${b}`,{exportSpecifier:"*",importBinding:"sharedStyle"});u.push(S),m.push(v.fn(t.imports.addImport("framer",{exportSpecifier:"getFontsFromSharedStyle"}),d`${S}.fonts`))}let p;for(let y of t.componentPresetIds){p??=t.imports.addImport(`../${zn}`,{exportSpecifier:"*",importBinding:"componentPresets"});let b=d`${p}.fonts?.[${y}]`;m.push(d`(${b} ? ${v.fn(t.imports.addImport("framer",{exportSpecifier:"getFontsFromComponentPreset"}),b)} : [])`)}let f=[rs,...Fn(s),...u.map(y=>d`...${y}.css`),...t.css.conditionalRules(e)],h=gM(n,t,f,a,l,c,i);return{sharedStyleImports:u,sharedFontArrays:m,mediaQueries:i,css:d`const ${w.css} = ${h}`}}function gM(e,t,r,o,n,i,a){if($e(e)||Ve(e))return r;if(W(e))return[...r,...o];if(pe(e)){let s=t.declarations.file.dedupe("breakpointRules",n),l=t.declarations.file.dedupe("breakpointKeys",d`Object.keys(${s})`),c=t.declarations.file.dedupe("selectors",i),m=t.declarations.file.dedupe("rules",r),u=t.declarations.file.dedupe("mediaQueries",a),p=t.bindings.create("target"),f=t.bindings.create("query"),h=t.bindings.create("selector"),y=t.bindings.create("rule"),b=t.imports.addImport("framer",{exportSpecifier:"RenderTarget"});return d`(target) => {${d.joinLines(d`const isStaticRenderer = ${p} === ${b}.canvas || ${p} === ${b}.export`,d`if (!isStaticRenderer) {${d.joinLines(d`return [...${m}, ...${l}.map(key => {${d.joinLines(d`const ${f} = ${u}[key]`,d`return ${he`@media ${f} { ${d`${s}[key].join(" ")`} }`}`)}})]`)}}`,d`return [...${m}, ...${l}.flatMap(key => {${d.joinLines(d`const ${h} = ${c}[key]`,d`return ${s}[key].map(${y} => ${he`${h} {${y}}`})`)}})]`)}}`}z(e)}function yM(e){if(e.events.needsPathVariables)return`const ${uC} = React.useContext(${e.imports.addImport("framer",{exportSpecifier:"PathVariablesContext"})});`}function SM(e,t,r,o,n){let i=Vd(e);g(i,"The primary variant should have a default size as it must be a FrameNode.");let a={default:i},s={[e.id]:`framer-v-${be(e.id)}`},l={},c={},m={},u=Dd(o.treeStore.tree,e);u&&(m[e.id]=u);let p=r.events.variantOnAppearId.get(e.id),f={};!N(p)&&!v.isUndefined(p)&&(f.default=p);for(let h of t){r.metrics.count("variants");let y=mM(h);if(y){let x=l[y.topLevel]??{};x[y.type]=y.type==="loading"?n?.has(y.topLevel):!0,l[y.topLevel]=x,c[y.topLevel]=[...c[y.topLevel]??[],h.id]}else s[h.id]=`framer-v-${be(h.id)}`;let b=Vd(h);b&&(a[h.id]=b);let S=Dd(o.treeStore.tree,h);S&&(m[h.id]=S);let I=r.events.variantOnAppearId.get(h.id),T=Q(f[h.replicaInfo.inheritsFrom??""]??p);!N(I)&&Q(I)!==T&&(f[h.id]=I)}return{gestures:l,breakpoints:m,classNames:s,sizes:a,appearEventMap:f}}function CM(e,t,r){let o=[];if((pe(e)||W(e))&&r){let i=t.declarations.file.dedupe("HTMLStyle",d`({value}) => {${d.joinLines(d`const onCanvas = ${v.fn(t.imports.addImport("framer",{exportSpecifier:"useIsOnFramerCanvas"}))}`,d`if (onCanvas) return null`,d`return ${le.tag(d`style`,new B({"data-framer-html-style":"",dangerouslySetInnerHTML:{__html:d`value`}}))}`)}}`);o.push(a=>le`${d.joinLines(le.tag(i,new B({value:r})),a)}`)}if($e(e)){let i=t.imports.addImport("react",{exportSpecifier:"*",importBinding:"React"}),a=t.imports.addImport("framer-motion",{exportSpecifier:"motion.create"}),s=t.declarations.file.dedupe("Variants",v.fn(a,d`${i}.Fragment`));o.push(l=>le.tag(s,new B({initial:!1,animate:w.variants}),l))}if(W(e)||pe(e)||Ve(e)){let i=new B({id:pe(e)?Ca:Sa});o.push(a=>le`${d.joinLines(a,le.tag(d`div`,i))}`)}let n=t.imports.addImport("framer-motion",{exportSpecifier:"LayoutGroup"});if(o.push(i=>le.tag(n,new B({id:d`layoutId ?? ${w.defaultLayoutId}`}),i)),W(e)||pe(e)){let i=t.imports.addImport("framer",{exportSpecifier:"GeneratedComponentContext"});o.push(a=>le.tag(d`${i}.Provider`,new B({value:{primaryVariantId:e.baseVariantId,variantClassNames:w.variantClassNames,isLayoutTemplate:pe(e)?!0:void 0}}),a))}return o}function fb(){let e=new v("c2a8602");return d`// Generated by Framer (${e})`}var hb={ref:w.ref,restProps:w.restProps,style:w.style,className:w.className,layoutId:w.layoutId},Pd=d`css`,Gi=d`Icon`,Vl=d`Component`,Ui=d`Props`,vM=[...Object.values(hb),Pd,Gi,Vl,Ui].map(e=>Q(e)),gb=xt(async(e,t,r)=>{let{serializationId:o}=r,{assetMap:n,engineChanges:i,modulesStore:a,treeStore:s,vectorsStore:l}=t,c=s.tree.getScopeNodeFor(e);g(Me(c),"Vector set item must be in a VectorSetNode.");let m=s.tree.get(e.id);g(m,"Must have a source node to serialize");let u={assetMap:n,engineChanges:i,modulesStore:a,treeStore:s},{ctx:p,jsx:f,svg:h,type:y}=Sf(m,c,u,o,vM),b=dt("vectorSet",c.id,"default").localId,S=a.getPersistedModuleByLocalId(b);g(S,"VectorSet must be persisted.");let I=s.tree.getRect(e),{propertyControls:T,variableMap:x,types:V,props:L}=Ms(c,u,p,"VectorSet","vector",I),F=bM(p),J={name:m.name??"Vector",empty:IM(m)?!0:void 0,color:F,set:{localId:b,id:c.id,moduleId:S.id}},$=p.imports.addImport("react",{exportSpecifier:"*",importBinding:"React"}),K=p.imports.addImport("framer",{exportSpecifier:"withCSS"}),ce=TM[y],D=re.lines(...p.declarations.file.list(),d`interface ${Ui} extends ${$}.HTMLAttributes<${$}.${ce}> { ${V??d``} }`,d`const ${Vl}: ${$}.ComponentType<${Ui}> = ${$}.forwardRef<${$}.${ce}, ${Ui}>(function(props, ${hb.ref}) {${d.joinLines(L,...p.declarations.component.list(),d`return (${f})`)}})`,d`const ${Pd} = ${p.css.rules}`,Co("This is a generated Framer component.",{framerIntrinsicWidth:I.width,framerIntrinsicHeight:I.height,framerSupportedLayoutWidth:"any-prefer-fixed",framerSupportedLayoutHeight:"any-prefer-fixed",framerVariables:x&&JSON.stringify(x),framerImmutableVariables:!0,framerVector:JSON.stringify(J),framerDisableUnlink:Iy.has(J.set.moduleId)?!0:void 0}),d`const ${Gi}: ${$}.ComponentType<${Ui}> = ${v.fn(K,Vl,Pd,o)} as typeof ${Vl};`,d`${Gi}.displayName = ${m.name??"Vector"};`,d`export default ${Gi}`,T&&v.fn(p.imports.addImport("framer",{exportSpecifier:"addPropertyControls"}),Gi,new v(`${Q(T)} as any`)));return l.cache(e.id,{svg:Q(h),color:F}),Ns([{revision:m.moduleSourceRevision,type:"vector",source:new v(re.sections(re.linesFrom(p.imports.statements),D)),artifacts:{files:[{name:"icon.svg",type:"svgIcon",content:Q(h)}]}}])});function bM(e){if(e.colors.uniqueColorCount!==1)return;let t=e.colors.singleColor;if(t)return{type:"static",value:t};let r=e.colors.singleVariableColor;if(r)return{type:"variable",value:be(r)}}function IM(e){return!e.children||e.children.length===0?!0:e.children.every(t=>t.visible===!1)}var TM={0:d`HTMLImageElement`,1:d`HTMLDivElement`,3:d`HTMLSVGElement`,2:d`HTMLSVGElement`};var yb=xt(async(e,{modulesStore:t},r)=>{let o=[];for(let a of e.getVectorSetItems()){let s=dt("vector",a.id,"default").localId,l=t.getPersistedModuleByLocalId(s);l&&o.push({id:a.id,name:a.name??"Vector",moduleId:l.id,saveId:r.includeVectorSetSaveIds?l.saveId:void 0})}let n={framerVectorSet:JSON.stringify({name:e.name??"Set",items:o})},i=new v(re.lines(Co("This is a generated Framer component.",n),d`const VectorSet: React.ComponentType<unknown> = function VectorSet() { return null; };`,d`export default VectorSet;`));return[{revision:e.moduleSourceRevision,type:"vectorSet",source:i}]});function nn(e,t){if($e(e,!0))return["canvasComponent"];if(W(e,!0))return["screen","webPageMetadata"];if(pe(e,!0))return["layoutTemplate"];if(Ne(t.get(e.parentid)))return["screen"];if(Me(e,!0))return["vectorSet"];if(Ne(e,!0))return["prototype"];if(St(e,!0))throw new Error("Unhandled scope node type");if(ot(e))return["collection","draftCollection"];if(Uo(e))return["css"];if(Ir(e))return["componentPresets"];if(un(e)&&Me(t.getScopeNodeFor(e)))return["vector"];if(ir(e))return["siteMetadata"];if(Rt(e))return["vector"];if(Ve(t.get(e.parentid)))return["design"];throw new Error(`Unsupported component node: ${e.__class} ${e.id}`)}function vb(e){return Math.ceil(e/Math.ceil(e/100))}var Sb=class{constructor(t,r){R(this,"status",null);R(this,"results");R(this,"reportProgress");R(this,"onDone");this.reportProgress=t,this.onDone=r}async import(t,r,o){this.status="importing",this.results={scopeId:r,vectors:[],targetLayout:o};let n=o?{left:o.x+o.width*2,top:o.y}:{left:0,top:0};for(let i=0;i<t.length;i++){let a=t[i];if(!a)continue;let s=await wM(a,r,n);if(this.status!=="importing")return;s&&this.results.vectors.push(s),this.reportProgress?.({status:this.status,finishedCount:i+1})}await this.done()}cancel(){this.status="canceled"}async done(){this.results&&await this.onDone?.(this.results),this.status="done"}},Cb="run-svgo",NM=1e6;async function wM(e,t,r){if(e.size>NM){Sr({type:"add",variant:"error",key:Cb,text:"Your SVG is too large to upload. You may need to convert to a different format, such as PNG.",icon:"error",duration:5e3});return}try{let o=await e.text(),n=Pg(o),i=xM(e.name),a=Ng(o,pg.createEmpty,n);return a?(a.parentid=t,a.set({name:i,isVectorSetItem:!0,...r}),{node:a,size:n}):void 0}catch(o){console.error("Failed to insert SVG:",o),Sr({type:"add",variant:"error",key:Cb,text:"Failed to insert SVG",icon:"error"});return}}var RM=/[_-]/gu;function xM(e){let[t]=eu(e);return gu(t.replace(RM," "))}var MM=2;function Fd(e){if(W(e))return MM}function Q9(e,t,r){if(t.type==="siteMetadata"||t.type==="webPageMetadata")return!0;let o=nn(e,r).includes(t.type);if(g(e.id===t.name&&o,"sourceNode and module must match"),Rs(t))return!1;let n=Fd(e);if(n===void 0)return!0;let i=t.metadata.codeGenVersion;return G(i)&&i>=n}var Ld=1;function VM(e){let t=e.metadata.compatibleTextStyleVersion;return G(t)?t:0}function r7(e){return VM(e)<Ld}var Vo=no(ln());function bb(e,t){if($e(e))return"Smart Component";if(W(e))return"web page";if(Ne(t.get(e.parentid)))return"prototype screen";if(Ne(e))return"prototype";if(ot(e))return"CMS collection"}function Ib(e,t){return W(t)?Jg(e,t):t.name??void 0}function Tb(e,t="module",r){let o="is too large and will not update";Sr({type:"add",variant:"warning",text:r?(0,Vo.jsxs)(Vo.Fragment,{children:[(0,Vo.jsxs)(vs,{children:["The ",t]})," \u201C",r,"\u201D ",(0,Vo.jsx)(vs,{children:o})]}):(0,Vo.jsxs)(vs,{children:["A ",t," ",o]}),key:`module-too-large-${e}`,duration:1/0,extraAction:{title:"Learn more",onClick(){Ht("ui_interaction",{page:"module-too-large-toast",id:"learn_more"}),hg("https://www.framer.com/help/articles/how-to-fix-module-too-large-warning/")}}});let i=`module-too-large-toast-${t.split(" ").join("-")}`;Ht("ui_impression",{page:i})}var Dl=class{constructor(){R(this,"queue",[]);R(this,"synchronize",async()=>{for(let t of this.snapshot())await t.task()})}snapshot(t){return this.queue=this.queue.filter(t??(r=>!r.promise.isResolved())),Array.from(this.queue)}get size(){return this.snapshot().length}async request(t,r){let o=new Jd;this.queue.push({id:r?.id,promise:o,task:()=>(o.state!=="initial"||(o.pending(),(t()??Promise.resolve()).finally(()=>o.resolve())),o)}),r?.synchronize!==!1&&await this.synchronize()}};function kl(e,t){if(!Xu(e)||!t.isGroundNode(e))return!1;let r=t.get(e.parentid);return!!(r&&Ne(r))}function Qr(e){if(ir(e))return Wg.localIdName;switch(e.id){case Ah:return"componentPresets";default:return e.id}}function an(e,t){return nn(e,t).map(o=>Fe(o,Qr(e)))}function Ji(e,t,r){return e?an(e,t).every(o=>!N(r.getModuleEntryByLocalId(o))):!1}function Nb(e,t){if(!Do(e,t)||Ve(e))return!1;if(!St(e)){let r=t.getScopeNodeFor(e);if(Ve(r))return!1}return!0}function Do(e,t){if(ir(e))return!0;if(!t.has(e.id))return!1;if($t(e))return!0;if(li(e))return!1;if(ot(e)||Uo(e)||Ir(e)||Me(e))return!0;if(Rt(e)){let r=t.get(e.parentid);return Me(r)}if(Ve(e))return!1;if(t.isGroundNode(e)&&ar(e)){let r=t.getScopeNodeFor(e);if(Ve(r))return!0}return!!(Ne(e)||kl(e,t))}var DM=1e4,kM=1e3,_i=fe("CodeGenerationStore");function PM(e){return!(ot(e)||Ne(e)||ir(e)||ar(e)||Ir(e)||Me(e))}function FM(e,t){if(!Rt(t))return;let r=e.getScopeNodeFor(t);return g(Me(r),"Vector set item must be in a VectorSetNode."),r.variables}function LM(e){let t=e.name?.trim();return t||(nt(e)?"Text":Nh(e,e.__class))}function wb(e,t,r,o,n){let i={},a=LM(t);i.metadata||(i.metadata={});let s=[...n?.files??[]];PM(t)&&s.push({name:"tree.json",type:"nodeTree",content:JSON.stringify(Object.assign(t.toJS(),{__treeSerializationVersion:e.serializationVersion,__vectorSetVariables:FM(e,t)}))});let l=Fd(t);l&&(i.metadata.codeGenVersion=l);let c=n?.packageDependencies;return c&&(i.metadata.packageDependencies=Array.from(c)),Zg(r)&&(i.metadata.compatibleCmsVersion=Qg),so(t)&&(i.metadata.compatibleTextStyleVersion=Ld),i.assets=n?.assets?Array.from(n.assets):[],{...i,title:a,files:s,errors:n?.errors??[],type:r,name:o}}async function EM(e,t,r,o){if(e&&t instanceof _d&&t.code===1001){let n=ch(e,a=>r.treeIndex.getScopeIdFor(a))??void 0,i=new ls({type:"CodeGeneration",nodeId:$t(e)?e.baseVariantId:e.id,reason:"FileTooLarge",sourceNodeId:e.id,scopeId:n});Tb(e.id,bb(e,r.tree),Ib(r.tree,e)),await o(a=>{if(a.isViewOnly)return;a.lineage.setEditReason("codegeneration");let s=a.ensureErrorListNode();_i.debug("Writing ClientFileTooLarge error to tree for",e.id),a.insertNode(i,s.id)})}else _i.reportError(t)}var tr,ji,Pl=class{constructor(t,r,o,n){this.treeStore=t;this.modulesStore=r;this.runWhenIdle=o;this.scheduleDocumentUpdateIgnoringUndo=n;H(this,tr,new Dl);H(this,ji,new aa({delay:DM,task:()=>this.runWhenIdle(()=>void C(this,tr).synchronize())}));R(this,"process",C(this,tr).synchronize);R(this,"changeScope",()=>C(this,ji).debounce(kM));R(this,"isIdle",()=>C(this,tr).size===0);R(this,"isBlocking",()=>C(this,tr).snapshot().some(t=>t.promise.state==="pending"))}enqueue(t,r){C(this,tr).snapshot(a=>a.promise.isResolved()?!1:a.id===t?a.promise.state!=="initial":!0);let o=this.treeStore.tree.get(t);if(!o||!Nb(o,this.treeStore.tree))return;let n=Qr(o),i={};for(let{type:a,artifacts:s}of r){let l=wb(this.treeStore.tree,o,a,n,s);i[Fe(a,n)]=l}C(this,tr).request(async()=>{try{_i.debug("Persisting transient modules for",t),await this.modulesStore.upsertBatch(i)}catch(a){await EM(o,a,this.treeStore,this.scheduleDocumentUpdateIgnoringUndo)}},{id:t,synchronize:!1})}async persist(t,r,o){let n=this.treeStore.tree.get(t);if(n)return this.enqueue(t,r),o?C(this,ji).debounce():(await C(this,tr).synchronize(),an(n,this.treeStore.tree).map(i=>this.modulesStore.getPersistedModuleByLocalId(i)))}async persistBatch(t){let r={},o="batch";for(let n in t){let i=this.treeStore.tree.get(n),a=t[n];if(!i||!a)continue;let s=Qr(i),l=new Set;for(let{type:c,artifacts:m}of a){let u=Fe(c,s);g(!l.has(u),"Duplicate local module id",u),l.add(u),r[u]=wb(this.treeStore.tree,i,c,s,m),o+=`-${u}`}}C(this,tr).snapshot(n=>n.promise.isResolved()?!1:n.id===o?n.promise.state!=="initial":!0),await C(this,tr).request(async()=>{_i.debug("Persisting transient modules for batch: ",o);try{await this.modulesStore.upsertBatch(r)}catch(n){_i.reportError(n)}},{id:o,synchronize:!0})}get size(){return C(this,tr).size}};tr=new WeakMap,ji=new WeakMap;var AM=()=>({stylePresets:[],componentPresets:[],collections:[],smartComponents:[],screens:[],prototypes:[],webpages:[],metadata:[],layoutTemplates:[]}),Le=fe("CodeGenerationStore");var BM=500,xb=1500,OM=6e4;function zM(e){for(let t in e.to)if(t in Gh||t in Hh||t in Mh)return!0;return!1}function WM(e){return Me(e)?BM:xb}var ko,Ke,Zr,ti,Xi,ri,oi,It,Fl,Mb,Rb=class extends xn{constructor(r,o,n,i,a,s,l,c,m,u,p,f=new Map){super();this.scheduler=r;this.treeStore=o;this.modulesStore=n;this.vectorsStore=i;this.aiGenerationStore=a;this.assetMap=s;this.timeline=l;this.engineChanges=c;this.scheduleDocumentUpdateIgnoringUndo=m;this.updateTreeCache=u;this.measureNodes=p;H(this,Fl);H(this,ko,new Set);H(this,Ke);H(this,Zr,new Map);H(this,ti);H(this,Xi,new aa({delay:xb,maxDelay:OM,task:()=>this.scheduler.runWhenIdle(()=>{this.generateAndUpdateQueuedComponents()})}));H(this,ri,new Map);H(this,oi);R(this,"testing",{setComponentGenerationQueue:r=>{ie(this,Ke,r)},flushQueuedCallbacks:()=>{C(this,Zr).forEach(r=>r.forEach(o=>o()))},generateAndUpdateQueuedComponents:r=>this.generateAndUpdateQueuedComponents(r),setSerializationId:r=>{ie(this,oi,r)},setModulesStore:r=>{Object.assign(this,{modulesStore:r}),Object.assign(this.persistence,{modulesStore:r})},waitForProcessing:async r=>{await this.serialization.promise(r)}});R(this,"persistence");R(this,"moduleTypeOrder",{localization:0,webPageMetadata:1,siteMetadata:2,collection:3,draftCollection:4,css:5,componentPresets:6,vector:7,vectorSet:8,canvasComponent:9,screen:10,["prototype"]:11,codeFile:12,config:13,layoutTemplate:14,design:15,kit:16});H(this,It,new Map);R(this,"serialization",{idle:async()=>{let r=[];for(let o of C(this,It).keys())r.push(this.serialization.promise(o)?.then(()=>this.untilCompiled(o)));await Promise.all(r)},isIdle:()=>C(this,It).size===0,prepare:r=>{C(this,Ke).delete(r);let o=C(this,It).get(r)??ia();C(this,It).set(r,o)},cancel:r=>{C(this,Ke).delete(r),C(this,It).get(r)?.resolve(),C(this,It).delete(r)},preparing:r=>C(this,It).has(r),promise:r=>C(this,It).get(r),commit:async(r,o,n)=>{let i=()=>{C(this,It).get(r.id)?.reject(),C(this,It).delete(r.id)};try{let a=await Ze(this,Fl,Mb).call(this,r,o,n);return a||i(),a}catch(a){throw Le.reportError(a),i(),a}}});ie(this,Ke,f),ie(this,ti,this.timeline.openNodeChangesReader()),this.persistence=new Pl(this.treeStore,this.modulesStore,h=>this.scheduler.runWhenIdle(h),h=>this.scheduleDocumentUpdateIgnoringUndo(h)),US(()=>{if(sa.isTest||this.treeStore.tree.isViewOnly)return!1;if(this.hasBlockingUpdates()){if(Le.debug("Showing Unsaved Changes dialog (generation queue #: ",C(this,Ke).size,", component ids to generate: ",[...C(this,Ke).keys()],")"),!sa.isTest){let h=this.getMetrics();h.paused>1?Le.reportError("Tab closed with paused code generations",h):(h.persisting>5||h.serializing>5||h.queue>5)&&Le.reportError("Tab closed with multiple code generations in progress",h)}return C(this,ko).clear(),this.generateAndUpdateQueuedComponents().then(()=>{this.persistence.process()}).catch(h=>Le.reportError(h)),!0}return!1}),window.addEventListener("blur",async()=>{try{await this.generateAndPersistAllQueuedComponents()}catch(h){Le.reportError(h)}})}isIdle(){return C(this,Ke).size===0&&this.serialization.isIdle()&&this.persistence.isIdle()}getMetrics(){return{queue:C(this,Ke).size,paused:C(this,ko).size,serializing:C(this,It).size,persisting:this.persistence.size}}documentDidLoad(){C(this,Ke).clear(),C(this,Zr).clear(),C(this,ri).clear()}telemetrySession(r){let o=C(this,ri).get(r);if(o)return o;let n=this.treeStore.tree.get(r);g(n,"TelemetrySession: source node must exist");let i=new Fs(n);return C(this,ri).set(r,i),i}getSerializationId(){return C(this,oi)?`framer-${C(this,oi)}`:`framer-${On(5)}`}async generateAndPersistAllQueuedComponents(){await this.ensureSiteMetadataModule(),await this.generateAndUpdateQueuedComponents(),await this.serialization.idle(),await this.persistence.process()}debugGetComponentSourceNodes(){let r=AM();g(!1,"This method should only be used in tests.");for(let{node:o,skipChildren:n}of this.treeStore.tree.root.walkWithSkipChildren())W(o)?(r.webpages.push(o),r.metadata.push(o),n()):$e(o)?(r.smartComponents.push(o),n()):ot(o)?(r.collections.push(o),n()):Uo(o)?(r.stylePresets.push(o),n()):Ir(o)?r.componentPresets.push(o):kl(o,this.treeStore.tree)?(r.screens.push(o),n()):Ne(o)?r.prototypes.push(o):ir(o)?r.metadata.push(o):pe(o)&&r.layoutTemplates.push(o);return r}postProcess(r,o,n){if(!this.treeStore.tree.isViewOnly){if(n){C(this,ti).clear();return}this.ingestChanges(r),C(this,Xi).debounce(WM(o))}}ingestChanges(r){for(let[o,n]of C(this,ti).read()){if(n.length===0||n.every(a=>a.ignoreInCodeGeneration))continue;let i=r.get(o);if(i){if(At(i,this.treeStore.tree)){dp(i,n)&&this.addChangeToQueue(i);continue}if(ir(i)){if(!n.some(zM))continue;this.addChangeToQueue(i)}else if(Ne(i))this.addChangeToQueue(i);else{let a=this.treeStore.treeIndex.getGroundNodeIdFor(o),s=r.get(a);if(!s||U(s))continue;let l=r.getScopeNodeFor(s);if(!Ne(l))continue;this.queueCanvasPageNodesFollowingLinks(r,s)}}}}queueCanvasPageNodesFollowingLinks(r,o){if(this.addChangeToQueue(o),!(!o.cache.links||o.cache.links.size===0))for(let n of o.cache.links){let i=this.treeStore.treeIndex.getGroundNodeIdFor(n),a=r.get(i);!a||U(a)||this.queueCanvasPageNodesFollowingLinks(r,a)}}changeScope(){this.treeStore.tree.isViewOnly||sa.isTest||this.isIdle()||this.serialization.idle().then(()=>this.generateAndUpdateQueuedComponents()).then(()=>{if(!st.isOn("prioritizedModuleEvaluation")){this.persistence.process();return}this.persistence.isIdle()||this.persistence.changeScope()}).catch(r=>Le.reportError(r))}async createVectorSet(r,o){let n=r[0];if(!n)return;let i=this.treeStore.tree.getScopeNodeFor(n);g(Me(i),"VectorSet: VectorSetNode must exist.");let a=performance.now(),s=await this.batchSerializeVectors(r,o);if(!s)return;let l={},c=0,m=Object.keys(s).length,u=vb(m),p=[];for(let f in s){let h=s[f];h&&(l[f]=h,c++,!(c%u!==0&&c!==m)&&(p.push(l),l={}))}for(let f=0;f<p.length;f++){let h=p[f];h&&(await this.persistence.persistBatch(h),o?.("persisting",f))}await this.forceComponentUpdate(i.id),Le.debug("createVectorSet: Spent ",performance.now()-a,"ms creating a new vector set.")}async createModuleFromComponentSource(r,o){if(g(!this.treeStore.tree.isViewOnly,"CodeGenerationStore: viewers cannot create smart components or web pages."),g(Do(r,this.treeStore.tree),"CodeGenerationStore: componentSourceNode must be a valid component source."),Ji(r,this.treeStore.tree,this.modulesStore))return;Le.debug("createModuleFromComponentSource",r.id),this.serialization.prepare(r.id);let i=await this.generateComponent(r.id,1,void 0,{intrinsicSize:o});if(!i)throw new Error("Code not generated");return await this.compileOutput(r,i),an(r,this.treeStore.tree).map(a=>this.modulesStore.getPersistedModuleByLocalId(a))}revisionNodes(){let r=[];for(let o of this.treeStore.tree.root.children)At(o,this.treeStore.tree)&&r.push(o),(Ir(o)||Cu(o))&&o.children.forEach(n=>{At(n,this.treeStore.tree)&&r.push(n),ot(n)&&n.getUnsortedChildren().forEach(i=>{At(i,this.treeStore.tree)&&r.push(i)})});return r}nodesWithStaleModules(r,o){let n=[],i=o?.ignoreHint??!1;for(let a of this.revisionNodes())ao(a)||r&&!r(a)||(!i&&a.moduleSourceRevisionHint!==a.moduleSourceRevisionCommittedHint||!this.allModulesAreAtRevision(a.id))&&n.push(a);return n}async updateComponent(r,o=0){g(!this.treeStore.tree.isViewOnly,"CodeGenerationStore: viewers cannot generate smart component or web page updates.");let n=this.treeStore.tree.get(r);if(!n||!Do(n,this.treeStore.tree))return!1;if(this.serialization.preparing(r))return await this.serialization.promise(r),await this.untilCompiled(r),!0;Le.debug("Update component: ",r,", Condition: ",o);let i=C(this,Ke).get(r);this.serialization.prepare(r);let a=await this.generateComponent(r,o,i);return a?this.compileOutput(n,a):!1}async forceComponentUpdate(r){return g(!this.treeStore.tree.isViewOnly,"CodeGenerationStore: viewers cannot generate smart component or web page updates."),await this.updateComponent(r,2)?(await this.persistence.process(),!0):!1}queueCallbackAfterComponentCompilation(r,o){let n=C(this,Zr).get(r);n?n.push(o):C(this,Zr).set(r,[o])}untilCompiled(r){return new Promise(o=>{this.queueCallbackAfterComponentCompilation(r,o)})}calculateNewModuleRevision(r){let o=this.treeStore.tree.get(r);if(!o||!At(o,this.treeStore.tree))return 1;if(!(!jc(this.treeStore.tree,r)||!this.treeStore.tree.has(r)))return HS(r,this.scheduleDocumentUpdateIgnoringUndo)}allModulesAreAtRevision(r,o){let n=this.treeStore.tree.get(r);if(!n||!At(n,this.treeStore.tree))return!1;let i=o??n.moduleSourceRevision;return nn(n,this.treeStore.tree).every(a=>this.modulesStore.forType(a).getByStableName(Qr(n)).sourceRevision()===i)}async ensureDependencyModulesExist(){for(let r of this.revisionNodes()){if(!Do(r,this.treeStore.tree))return;if(!Ji(r,this.treeStore.tree,this.modulesStore))try{await this.updateComponent(r.id)}catch(o){Le.error("Error updating dependency module",r.id,o)}}}async ensureSourceNode(r){let o=this.treeStore.tree.get(r),n=St(o)&&!o.isLoaded()?await o.load():o;if(n){if(W(n)&&await this.ensureSiteMetadataModule(),ot(n)&&await this.ensureDependentModulesAreCompatibleWithCollection(n),Rt(n)){let i=this.treeStore.tree.getScopeNodeFor(n);if(!Me(i))return;let a=Fe("vectorSet",i.id);if(this.modulesStore.getModuleEntryByLocalId(a))return;await this.createModuleFromComponentSource(i)}await this.ensureAllNodesWithLinksHaveLinkedScopesLoaded(n)}}async ensureSiteMetadataModule(){if(this.treeStore.tree.isViewOnly)return;let r=this.treeStore.tree.root;if(!Ji(r,this.treeStore.tree,this.modulesStore))return this.updateComponent(r.id)}hasBlockingUpdates(){if(C(this,Ke).size>0){for(let[r,o]of C(this,Ke))if(this.treeStore.tree.has(r)&&o)return!0}return!this.persistence.isIdle()||!this.serialization.isIdle()}async updateModules(r,o){let n=this.treeStore.tree.get(r),i=this.timeline.remoteTreeVersion;if(!n||!Do(n,this.treeStore.tree))return!1;let a=[];for(let{revision:l,source:c,type:m,artifacts:u}of o){let p={assets:u?.assets,submodules:u?.submodules,binaryAssets:u?.binaryAssets,preventCircularImports:m==="canvasComponent",telemetrySession:this.telemetrySession(r),treeVersion:i,sourceRevision:l,kitSectionsStructure:u?.kitSectionsStructure,svgIcon:u?.files?.find(y=>y.type==="svgIcon")?.content,stableName:!0},f=this.modulesStore.forType(m).getByStableName(Qr(n)),h=re.sections(fb(),c);f.currentSourceEquals(h,p)||a.push({localId:f.localId,source:h,options:p})}if(a.length===0)return!1;let s=await this.modulesStore.updateSources(a);return Rt(n)&&this.vectorsStore.delete(r),W(n)&&this.aiGenerationStore.deleteKitSectionsStructure(r),s}allModulesExistForSources(r,o){let n=Qr(r);for(let i of o)if(!this.modulesStore.getPersistedModuleByLocalId(Fe(i.type,n)))return!1;return!0}async compileOutput(r,o){if(this.treeStore.tree.isViewOnly)return!1;let n=o.slice().sort((a,s)=>this.moduleTypeOrder[a.type]-this.moduleTypeOrder[s.type]);if(this.allModulesExistForSources(r,n))await this.updateModules(r.id,n);else for(let a of n){let s=await this.updateModules(r.id,[a]),l=Qr(r);!this.modulesStore.getPersistedModuleByLocalId(Fe(a.type,l))&&s&&await this.persistence.persist(r.id,[a])}return ot(r)&&await this.ensureDependentModulesCanRenderCollectionColors(r),C(this,Zr).get(r.id)?.forEach(a=>a()),C(this,Zr).delete(r.id),this.persistence.persist(r.id,o,!0),!0}pauseCodeGeneration(r){return Le.debug("Pausing code generation for",r),C(this,ko).add(r),()=>{Le.debug("Resuming code generation for",r),C(this,ko).delete(r),C(this,Xi).debounce()}}async generateAndUpdateQueuedComponents(r){if(this.treeStore.tree.isViewOnly)return[];await this.ensureDependencyModulesExist();let o=[],n=new Map;for(let[a]of C(this,Ke)){if(C(this,ko).has(a)||this.serialization.preparing(a))continue;let s=this.treeStore.tree.get(a);if(!s||!Do(s,this.treeStore.tree)||r&&!nn(s,this.treeStore.tree).includes(r)){C(this,Ke).delete(a);continue}if(this.serialization.prepare(a),Rt(s)){let l=this.treeStore.tree.getScopeNodeFor(s);if(!l)continue;let c=n.get(l.id)??[];c.push(s),n.set(l.id,c)}else o.push(s)}let i=new Set;Le.debug("Batch generating queued vector nodes");for(let a of n.values())try{let s=await this.batchSerializeVectors(a,void 0,i);for(let l in s)this.persistence.persist(l,s[l],!0)}catch{}Le.debug("Generating queued components",{ids:o.map(xs)});for(let a of o)try{Le.debug("Flushing queue of ",a.id);let s=await this.generateComponent(a.id,1);s&&(await this.compileOutput(a,s),i.add(a.id))}catch{}return Array.from(i)}async batchSerializeVectors(r,o,n){let i=r[0];if(!i)return;await this.ensureSourceNode(i.id),await this.ensureSourceCache(i.id),r.forEach(u=>this.serialization.prepare(u.id));let a=await GS(r,this.scheduleDocumentUpdateIgnoringUndo);g(a,"VectorSet: newModuleRevisions must exist");let s={assetMap:this.assetMap,modulesStore:this.modulesStore,treeStore:this.treeStore,vectorsStore:this.vectorsStore,aiGenerationStore:this.aiGenerationStore,engineChanges:this.engineChanges,measureNodes:this.measureNodes},l=await Promise.all(r.map(async u=>{if(!a[u.id])return;let y=(await this.serializerForSourceNode(u)(u,s,{serializationId:this.getSerializationId()}))?.[0];return g(y,"VectorSet: source must exist.",u.id),this.serialization.promise(u.id)?.resolve(),C(this,It).delete(u.id),[u.id,y]})),c=0,m={};for(let u of l){if(!u)continue;let[p,f]=u;await this.updateModules(p,[f])&&(m[p]=[f],o?.("serializing",c),c++,n?.add(p))}return m}async createVersionedVectorSet(r){await this.generateAndPersistAllQueuedComponents();let o=await this.generateComponent(r.id,2,void 0,{includeVectorSetSaveIds:!0});return!o||!await this.compileOutput(r,o)?!1:(await this.persistence.process(),!0)}async generateComponent(r,o,n,i){Le.debug("Ensure source node",r),await this.ensureSourceNode(r),Le.debug("Ensure source cache",r),await this.ensureSourceCache(r);let a=await this.calculateNewModuleRevision(r),s=this.treeStore.tree.get(r);if(!s||!Do(s,this.treeStore.tree)||!this.shouldGenerateUnderCondition(o,s,a,n)){Le.debug("Cancel serialization",r),this.serialization.cancel(r);return}let l=$t(s)?s.getPrimaryVariant():s;return Le.debug("Serialize",r),this.serialization.commit(s,l,i)}shouldGenerateUnderCondition(r,o,n,i){let a=i??C(this,Ke).get(o.id);if(C(this,Ke).delete(o.id),!Ji(o,this.treeStore.tree,this.modulesStore))return!0;switch(r){case 2:return!0;case 1:return!N(n)||!this.allModulesAreAtRevision(o.id,n);case 0:return!N(n)&&!!a&&!this.allModulesAreAtRevision(o.id,n);default:z(r)}}addChangeToQueue(r){if(!this.shouldSkipChange(r)){if(Rt(r)&&this.vectorsStore.queue(r.id),ao(r)){let o=r.parentid;g(o,"Collection node has no parent"),C(this,Ke).set(o,!0);return}C(this,Ke).set(r.id,!0)}}serializerForSourceNode(r){return ot(r)?eC:$t(r)?kd:Uo(r)?cb:Ne(r)?iC:ir(r)?Hg:Ir(r)?oC:Me(r)?yb:Rt(r)?gb:Ve(this.treeStore.tree.get(r.parentid))?kd:ab}shouldSkipChange(r){if(U(r)){let o=Z(r.codeComponentIdentifier);if(Dt(o)&&o.type==="screen")return!0}return!1}async ensureSourceCache(r){let o=this.treeStore.tree.get(r);!o||o.update===o.cache.lastUpdate||await new Promise(n=>{this.scheduler.runBeforeNextFrame(()=>{St(o)&&o.update!==o.cache.lastUpdate&&this.updateTreeCache(o.id),n()})})}async ensureDependentModulesAreCompatibleWithCollection(r){let o=Fe("collection",r.id),n=this.modulesStore.getDependentsOfModule(o);!n||n.size===0||await Promise.all(Array.from(n).map(async i=>{let a=i,s=this.modulesStore.getPersistedModuleByLocalId(a);if(!(!s||!Rs(s)))return this.forceComponentUpdate(s.name)}))}async ensureDependentModulesCanRenderCollectionColors(r){let o=Fe("collection",r.id),n=this.modulesStore.getDependentsOfModule(o);if(!n||n.size===0)return;let i=this.modulesStore.forType("collection").getByStableName(r.id);i&&i.annotations(null,"default")?.framerColorSyntax&&await Promise.all(Array.from(n).map(async a=>{let[s,l]=Ua(a);s==="draftCollection"||this.modulesStore.forType(s).getByStableName(l)?.annotations(null,"default")?.framerColorSyntax||await this.forceComponentUpdate(l)}))}async ensureAllNodesWithLinksHaveLinkedScopesLoaded(r){let o=new Set;this.treeStore.tree.beginAllowPartialScopeAccess();for(let n of r.walkWithSkipChildren()){if(!it(n.node))continue;let i=n.node.getLink();if(!Na(i))continue;let a=this.treeStore.tree.get(i.webPageId);!a||a.loaded||this.modulesStore.forType("screen").getByStableName(i.webPageId)?.annotations(null,"default")?.framerScrollSections||(o.add(a),n.skipChildren())}this.treeStore.tree.endAllowPartialScopeAccess(),await this.treeStore.tree.loadScopes(Array.from(o))}};ko=new WeakMap,Ke=new WeakMap,Zr=new WeakMap,ti=new WeakMap,Xi=new WeakMap,ri=new WeakMap,oi=new WeakMap,It=new WeakMap,Fl=new WeakSet,Mb=async function(r,o,n){if(!ir(r)&&!this.treeStore.tree.has(o.id))return;let i=this.telemetrySession(r.id),a=i.start("synchronize"),s=performance.now();Le.debug("Waiting for ModulesStore to be idle",{id:r.id}),await this.modulesStore.whenIdle();let l=performance.now()-s;Le.debug("Waited",Math.round(l/1e3*100)/100,"seconds for ModulesStore to be idle",{id:r.id}),a.end();let c=r.draftOrCurrent();if(St(c)&&(!c.isLoaded()||c.loaded.children?.length===0))return;let m=i.start("serialize");ot(r)&&$M(r,this.treeStore,this);let u=this.serializerForSourceNode(r);C(this,It).get(r.id)?.resolve(),C(this,It).delete(r.id);let p=await u(r,{assetMap:this.assetMap,modulesStore:this.modulesStore,treeStore:this.treeStore,vectorsStore:this.vectorsStore,aiGenerationStore:this.aiGenerationStore,engineChanges:this.engineChanges,measureNodes:this.measureNodes},{serializationId:this.getSerializationId(),initialIntrinsicSize:n?.intrinsicSize,includeVectorSetSaveIds:n?.includeVectorSetSaveIds});return p.forEach(({source:f,artifacts:h})=>{if(Le.trace("serializeComponent",`
>>>> >>>>
`,Q(f),`
<<<< <<<<`),h?.submodules)for(let[y,b]of h.submodules)Le.trace("serializeComponent",`
>>>>`,y,`>>>>
`,b,`
<<<<`,y,"<<<<")}),m.end(p),p};function $M(e,t,r){let o=e.instanceIdentifier,n=P.dataForIdentifier(o);if(!n||!Object.values(n.properties).some(s=>s?.type==="image"))return;let a=new Set;for(let s of t.tree.root.children){if(!St(s))continue;if(W(s)&&s.dataIdentifier===o){a.add(s);continue}s.loaded?.some(c=>Ee(c)&&c.dataIdentifier===o)&&a.add(s)}a.forEach(s=>{r.forceComponentUpdate(s.id).catch(Re)})}var HM=fe("exportToHTML");function ni(e,t,r,o=new Set([t]),n=new Set){for(let{node:i,skipChildren:a}of t.walkWithSkipChildren()){if(n.has(i)){a();continue}n.add(i);for(let s of Jp(i,r)){let l=Up(s);if(!l)continue;let c=e.getNode(l);if(c){if(!e.isGroundNode(c)){HM.reportError("Navigation target node must be ground node",{sourceId:i.id,targetId:c.id});continue}o.add(c),ni(e,c,r,o,n)}}U(i)&&Object.values(Cs(e,i,r)).flat().forEach(s=>ni(e,s.node,r,o,n))}return o}async function Vb(e,t){await t.updateComponent(e.id,1)}async function Db(e,{codeGenerationStore:t,modulesStore:r,treeStore:o},n,i={}){let{waitForAll:a=!0,persist:s=!0}=i,l=ni(o.tree,e,n),c=[],m=[];for(let p of l)m.push(dt("screen",p.id,"default").value),p!==e&&c.push(Vb(p,t));let u=Vb(e,t);return c.push(u),await Promise.all(a?c:[u]),s&&await t.persistence.process(),Bn(n,m,r)}function kb(e,t){let r=t.getPrimaryVariant();Nc(r)&&(e.routes[t.id]=r.pageEffects)}function eY(e,t,r){let o=t.getPrimaryVariant();if(Nc(o)){let n={};for(let i in o.pageEffects)n[i]=r.dedupe("effect",o.pageEffects[i]);e.routes[t.id]=n}}function Pb(e,t){if(U(e)&&Cg(t,e)){let r=vg(t,e);return g(W(r),"PreviewRenderer: WebPage Scope node must exist and be a WebPageNode"),g(r.isLoaded(),"PreviewRenderer: WebPage Scope node must fully loaded"),{entryNode:r.getPrimaryVariant(),entryScopeNode:r}}if(W(e)&&e.isLoaded())return{entryNode:e.getPrimaryVariant(),entryScopeNode:e};if(ar(e)){let r=t.getGroundNodeFor(e),o=t.getScopeNodeFor(r);if(Ve(o))return{entryNode:r,entryScopeNode:o}}if(Ae(e)){let r=t.getScopeNodeFor(e);return g(wr(r),"PreviewRenderer: Scope node must exist and be a node supports breakpoint variants"),g(r.isLoaded(),"PreviewRenderer: Scope node with breakpoint variants must be fully loaded"),{entryNode:r.getPrimaryVariant(),entryScopeNode:r}}if(Lt(e)&&!Ae(e)){let r=t.getScopeNodeFor(e);return g($e(r),"PreviewRenderer: Smart Component Scope node must exist and be a SmartComponentNode"),{entryNode:e,entryScopeNode:r}}if(cp(e)&&e.isVectorSetItem){let r=t.getScopeNodeFor(e);return g(Me(r),"PreviewRenderer: Scope node must exist and be a VectorSetNode"),{entryNode:e,entryScopeNode:r}}return{entryNode:e}}function Fb(e,t){let r=e.getGroundNodeFor(t),o=e.getScopeNodeFor(r);return Ne(o)&&!U(r)}var Lb="utils";function Eb(e,t){if(!W(t)||!t.dataIdentifier)return;let r=Z(t.dataIdentifier);if(!Ce(r)||r.kind!=="localModuleExport")return;let o=e.getPersistedModuleByLocalId(r.localId);if(o&&o.exports.includes(Lb))return{exportIdentifier:Lb,moduleURL:o.moduleURL,collectionId:r.localIdName}}var Ab=fe("renderInfoForPreviewItem");function ii(e){let t=e.root.getDefaultLocale(),r=e.root.locales,o=[t];return r&&o.push(...r),o}function Bb(e,t,r,o,n,i){let a=[],s=[],l={global:i.root.globalPageEffect,routes:{}},c=new Set,m=ii(i),p=wm(m,{includeDrafts:!0}).find(S=>S.id===n);for(let S of i.root.children){if(!pe(S)&&!W(S))continue;if(pe(S)&&a.push({id:S.id,moduleIdentifier:Ny(),layoutTemplate:{moduleIdentifier:S.instanceIdentifier}}),W(S)){let x=S.isLoaded()?Ec(Nm(S)):[],V=Ja(i,S),L=Eb(e,S);L&&s.push(L),a.push({id:S.id,moduleIdentifier:S.instanceIdentifier,collectionId:L?.collectionId,path:V,elements:x,layoutTemplate:UM(S,p)}),S.isLoaded()&&kb(l,S)}let T=P.componentForIdentifier(S.instanceIdentifier)?.fonts;if(!T){Ab.debug("Did not find fonts for component:",S.instanceIdentifier);continue}for(let x of Ty(T))c.add(x)}let f=o?t.getPathSlugs(r.id,o,p):void 0,h=[],y=f?.unresolvedSlugs;for(let S in y){let I=y[S];g(I),h.push({variableId:S,collectionId:I.collectionId,collectionItemId:I.collectionItemId})}let b=f?.pathVariables?Ec(f.pathVariables):[];return Ab.debug("renderInfoFor",{webPageNode:r,collectionItemNodeId:o,initialUnresolvedPathSlugs:h}),{kind:"webpage",routes:a,collectionUtils:s,locales:m,initialPathVariables:b,pageEffects:l,preloadFonts:Array.from(c),initialRoute:r.id,initialUnresolvedPathSlugs:h,initialLocaleId:n,adaptLayoutToTextDirection:i.root.adaptLayoutToTextDirection}}function UM(e,t){if(!Oo(e))return;let r=e.getResolvedControlPropValues(P,wy(),void 0,t);return{moduleIdentifier:e.layoutTemplateIdentifier,props:xe(r)?void 0:r,richTextControlKeys:e.getRichTextControlKeys(P),vectorSetItemControls:e.getComponentVectorSetChildren(P)}}function Ob({treeStore:e,chromeStore:t,previewStore:r,modulesStore:o},n){if(!n)return{kind:"empty"};switch(n.type){case"component":return g(Ce(n.componentId),"Previewing component should provide module identifier",n.componentId),{kind:"module",layout:"component",moduleIdentifier:n.componentId,locales:ii(e.tree),initialLocaleId:t.canvasLocaleId,adaptLayoutToTextDirection:e.tree.root.adaptLayoutToTextDirection};case"node":{let i=e.tree.get(n.nodeId);g(i,"Previewing node should provide correct node id",n.nodeId);let a=Pb(i,e.tree),s=a.entryScopeNode;if(pe(s))return Bb(o,r,s,n.collectionItemNodeId,t.canvasLocaleId,e.tree);if(Ve(s))return{kind:"module",moduleIdentifier:dt("design",i.id,"default").value,layout:"design-screen",locales:ii(e.tree),initialLocaleId:t.canvasLocaleId,adaptLayoutToTextDirection:e.tree.root.adaptLayoutToTextDirection};if(W(a.entryScopeNode))return Bb(o,r,a.entryScopeNode,n.collectionItemNodeId,t.canvasLocaleId,e.tree);if($e(a.entryScopeNode)){let l={variant:a.entryNode.id};return{kind:"module",moduleIdentifier:a.entryScopeNode.instanceIdentifier,props:l,layout:"component",locales:ii(e.tree),initialLocaleId:t.canvasLocaleId,adaptLayoutToTextDirection:e.tree.root.adaptLayoutToTextDirection}}if(Me(a.entryScopeNode))return{kind:"module",moduleIdentifier:dt("vector",a.entryNode.id,"default").value,layout:"component",locales:ii(e.tree),initialLocaleId:t.canvasLocaleId,adaptLayoutToTextDirection:e.tree.root.adaptLayoutToTextDirection};if(U(a.entryNode)){let l=a.entryNode.getCodeComponentProps(P);return{kind:"module",moduleIdentifier:a.entryNode.codeComponentIdentifier,props:l,layout:"component",locales:ii(e.tree),initialLocaleId:t.canvasLocaleId,adaptLayoutToTextDirection:e.tree.root.adaptLayoutToTextDirection}}if(Fb(e.tree,a.entryNode)){let l=e.tree.getGroundNodeFor(a.entryNode),c=ni(e.tree,a.entryNode,P),m=[];for(let u of c){let p=e.tree.getGroundNodeFor(u),f=dt("screen",p.id,"default").value;m.push({id:p.id,moduleIdentifier:f})}return{kind:"prototype",routeId:l.id,routes:m}}throw new Error(`Unsupported node for preview: ${i.id}`)}default:z(n)}}var JM="getVectorSetItems";function zb(e){return JM in e}function Wb(e,t){return e.getNodesWithTrait(t,o=>At(o,e)).flatMap(o=>{if(o.moduleSourceRevision===void 0)return[];let n=an(o,e).filter(a=>!a.includes("draftCollection")),i=o.moduleSourceRevision;return n.map(a=>({moduleIdentifier:Ud(a,"default").value,moduleRevision:i}))})}function _M(e){return e.mainView===1?e.codeEditorPreviewVisible:e.mainView===3}function KY(e,t,r={}){let{previewStore:o,fullsizePreviewStore:n,loadingStore:i,chromeStore:a,treeStore:s,modulesStore:l}=e;if(!i.hasMinimalEditableData)return;let{visible:c,shownOnLaunch:m,source:u="unknown"}=r,p=_M(a),f=typeof c=="boolean"?c:!p;if(a.setPreviewVisible(f),!p&&f){o.addActiveSession();let h=o.computePreviewItem();if(!jM({treeStore:s,previewStore:o,chromeStore:a,modulesStore:l},h))o.item=h;else if(h?.type==="node"){let y=s.tree.get(h.nodeId);g(y,"Did not find previewNode",h.nodeId),n.updatePreviewSize(y)}XM(t,h).then(y=>{o.targetModuleRevisions=Wb(s.tree,y)}).catch(Re).finally(()=>{o.item=h}),JS({shown_on_launch:m,source:u})}else p&&!f&&(o.removeActiveSession(),o.stickyPreviewItem=!1,o.item=void 0)}function jM(e,t){if(!t||t.type!=="node")return!1;let{modulesStore:r}=e,o=Ob(e,t);switch(o.kind){case"module":{let n=Z(o.moduleIdentifier);return Dt(n)?!r.getModuleEntryByLocalId(n.localId):!1}case"webpage":{let n=Fe("screen",o.initialRoute);return!r.getModuleEntryByLocalId(n)}case"prototype":{let n=Fe("prototype",o.routeId);return!r.getModuleEntryByLocalId(n)}case"empty":return!1;default:z(o)}}async function XM(e,t){if(Mc(e,"canDesign")||!t)return[];let r=await qM(t,e.stores,e),{codeGenerationStore:o}=e.stores,n=await o.generateAndUpdateQueuedComponents();return await o.serialization.idle(),[r,...n]}async function qM(e,t,r){if(Mc(r,"canDesign"))return Promise.resolve(void 0);let{codeGenerationStore:o,treeStore:n,modulesStore:i}=t;if(e.type==="component"){await o.updateComponent(e.componentId,1);return}else if(e.collectionItemNodeId){let a=n.tree.getParent(e.collectionItemNodeId);return a?(await o.updateComponent(a.id,1),a.id):void 0}else{let a=n.tree,s=a.get(e.nodeId);g(s,"Did not find previewNode",e.nodeId);let l=a.getCanvasScopeNodeFor(s);if(g(l,"Tried triggering code generation for non canvas scope node:",s.id),zb(l))return Rt(s)?(await o.updateComponent(s.id,1),s.id):Promise.resolve(void 0);if($t(l))return await o.updateComponent(l.id,1),l.id;if(Ne(l))return await Db(s,{codeGenerationStore:o,treeStore:n,modulesStore:i},P),s.id;if(Ve(l))return await o.updateComponent(s.id,1),s.id;z(l)}}function tQ(e){let{newContentAsDraft:t}=e.stores.persistedUserDefaults;return!(!t||e.stores.publishStore.publishStatus===1)}var qi=class qi extends xn{constructor(r){super();this.scheduler=r;R(this,"menu",null)}show(r,o){if(!st.isOn("improvedMenus")){YM(r,o);return}let n={...o,className:o.options?.className},i=qi.buildItems(r);this.menu={items:i,config:n,startTime:performance.now()}}close(){this.scheduler.processWhenReady(()=>{this.menu&&(this.menu.config.onDone?.(),this.menu.config.onCancel?.(),this.menu=null)})}};R(qi,"buildItems",(r,o=[])=>{let n=[];for(let[i,a]of r.entries()){if(!N(a.submenu)&&!nr(a.submenu))continue;let{submenu:s,...l}=a,c=o?[...o,i]:[i],m={...l,path:c};if(m.type==="separator"){if(i===0||i===r.length-1||n[n.length-1]?.type==="separator")continue;n.push(m);continue}if(a.disabled&&(m.enabled=!1),a.action&&(m.role=a.action),a.role){let{states:p,options:f}=sy(a.role),h=p[a.role],{label:y,checked:b,visible:S}=f[a.role]??{};A(y)&&(m.label=y),N(a.checked)&&pr(b)&&(m.checked=b),N(a.visible)&&pr(S)&&(m.visible=S),N(a.disabled)&&N(a.enabled)&&pr(h)&&(m.enabled=h)}if(a.visible===!1)continue;if(s){let p=qi.buildItems(s,c),f={...m,submenu:p};n.push(f);continue}let u=KM(m);n.push(u)}return n.length>0&&n[n.length-1]?.type==="separator"&&n.pop(),n.length>0&&n[0]?.type==="separator"&&n.shift(),n});var $b=qi;function KM(e){let{role:t}=e;if(!t)return e;let r={...e};return!xp&&!e.acceleratorWindows&&(r.acceleratorWindows=xy[t]),e.accelerator||(r.accelerator=Ry[t]),r}function YM(e,t){let r=My.buildFromTemplate(e),o={...t.options,onCancel:t.onCancel};r.popup(t.location,o).catch(Re).finally(t.onDone)}var ai,Po,Hb=class extends xn{constructor(r){super();this.modulesStore=r;H(this,ai,new Map);H(this,Po,new Map);R(this,"_forceUpdate",0)}rerender(){this._forceUpdate++}queue(r){if(C(this,Po).has(r))return;let o=ia();C(this,Po).set(r,o),this.rerender()}cache(r,o){let n=C(this,Po).get(r);n&&n.resolve(o),C(this,Po).delete(r),C(this,ai).set(r,o),this.rerender()}getByGlobalId(r){let o=this.modulesStore.getPersistedModuleByGlobalId(r);if(!o)return;let n=Ua(o.localId)[1],i=C(this,Po).get(n);if(i)return i;let a=C(this,ai).get(n);if(a)return a;let s=this.modulesStore.forType("vector").getByStableName(n)?.transientSVGIcon;if(s)return{svg:s}}delete(r){C(this,ai).delete(r),this.rerender()}};ai=new WeakMap,Po=new WeakMap;function wQ(e,t){if(!rg(e)){t.onlyNodesWithFormInputFontStyles=!1;return}Tr("formInputFontFamily",t,e),QM(t,e),Tr("formInputFontColor",t,e),Tr("formInputFontWeight",t,e),Tr("formInputFontStyle",t,e),Tr("formInputFontLineHeight",t,e),Tr("formInputFontLineHeightUnit",t,e),Tr("formInputFontTextAlignment",t,e),Tr("formInputFontLetterSpacing",t,e),Tr("formInputFontLetterSpacingUnit",t,e),mt(t.formInputFontSelector)&&(t.formInputFontSelector=new Set),da(e.formInputFontSelector)&&t.formInputFontSelector.add(e.formInputFontSelector),t.formInputOpenTypeFontFeatures=Ed(t.formInputOpenTypeFontFeatures,e.formInputOpenTypeFontFeatures)}function QM(e,t){let r=e.formInputFontSize,o=e.formInputFontSizeUnit;if(ht(r)&&ht(o)||N(t.formInputFontSize))return;let[n,i]=G(t.formInputFontSize)?[t.formInputFontSize,"px"]:co(t.formInputFontSize);if(mt(o))e.formInputFontSizeUnit=i;else if(uo(i,o)){e.formInputFontSizeUnit=oe,e.formInputFontSize=oe;return}mt(r)?e.formInputFontSize=n:uo(n,r)&&(e.formInputFontSize=oe)}function Ed(e,t){let r=new Set(fn(e)?Object.keys(e):void 0),o=t??[],n=fn(e)?e:{};for(let i of o){if(!ui(i))continue;let a=n[i];N(a)&&(n[i]=fn(e)?oe:!0),r.delete(i)}for(let i of r)ui(i)&&(n[i]=oe);return n}var ZM={borderBottom:oe,borderLeft:oe,borderRight:oe,borderTop:oe,borderWidth:oe,borderColor:oe,borderStyle:oe,borderPerSide:oe};function Pe(e,t){return ht(t)?oe:mt(t)?e:uo(e,t)?oe:e}function eV(e,t){return ht(t)?oe:mt(t)||mr(e,t)?e:oe}function tV(e,t,r){return g(fn(e)),ht(e)?oe:e.length!==t.length?oe:(e.forEach((o,n)=>{let i=t[n];g(i);let a=o.type;switch(a){case"boolean":case"color":case"date":case"enum":case"file":case"link":case"number":case"object":case"richtext":case"string":case"transition":case"image":case"responsiveimage":case"scrollsectionref":case"customcursor":case"border":case"cursor":Ki(o,i,r);break;default:z(a)}}),e)}function Ki(e,t,r){switch(e.type){case"array":{if(g(t.type==="array"),g(r.type==="array"),ht(e.value))break;if(mt(e.value)){if(Pt(t.value)){e.value=t.value;break}e.value=t.value.map(o=>aV(r.control,o.id))}if(Pt(t.value)){e.value=Pe(t.value,e.value);break}if(Pt(e.value)){e.value=oe;break}e.value=tV(e.value,t.value,r.control);break}case"slot":{if(g(t.type===e.type),ht(e.value))break;g(r.type==="slot"),g(!k(t.value),"Slots don't support dynamic values"),mt(e.value)?e.value=t.value:e.value=oe;break}case"object":if(g(t.type===e.type),ht(e.value))break;if(g(r.type==="object"),mt(e.value))if(t.value===null)e.value=null;else{e.value={};for(let o in r.controls){let n=r.controls[o];g(n);let i=iV(n);i&&(e.value[o]=i)}}if(e.value===null||t.value===null){e.value!==t.value&&(e.value=oe);break}for(let o in e.value){let n=r.controls[o];g(n);let i=e.value[o];g(i);let a=t.value[o];g(a,"getControlProps(), should have added these if they were missing from the document data"),Ki(i,a,n)}break;case"transition":if(g(t.type===e.type),ht(e.value))break;if(mt(e.value)){e.value=t.value;break}if(k(e.value)||k(t.value)||!e.value||!t.value){e.value=Pe(t.value,e.value);break}mr(e.value,t.value)||(e.value=oe);break;case"responsiveimage":if(g(t.type==="image"),e.value=Pe(t.value,e.value),e.type==="responsiveimage"){let o=A(t.alt)?t.alt:"";e.alt=Pe(o,e.alt);let{positionX:n,positionY:i}=t;e.positionX=Pe(n,e.positionX),e.positionY=Pe(i,e.positionY)}break;case"fusednumber":g(t.type===e.type),e.single=Pe(t.value.single,e.single),e.isFused=Pe(t.isFused,e.isFused),e.fused[0]=Pe(t.value.fused[0],e.fused[0]),e.fused[1]=Pe(t.value.fused[1],e.fused[1]),e.fused[2]=Pe(t.value.fused[2],e.fused[2]),e.fused[3]=Pe(t.value.fused[3],e.fused[3]);break;case"link":{if(g(t.type===e.type),ht(e.value))break;if(mt(e.value)){e.value=t.value;break}if(k(e.value)||k(t.value)||!e.value||!t.value){e.value=Pe(t.value,e.value);break}if(!ec(e.value,t.value)){e.value=oe;break}break}case"linkrelvalues":{if(g(t.type===e.type),ht(e.value))break;if(mt(e.value)){e.value=t.value;break}if(k(e.value)||k(t.value)||!e.value||!t.value){e.value=Pe(t.value,e.value);break}mr(e.value,t.value)||(e.value=oe);break}case"pagescope":if(g(t.type===e.type),ht(e.value))break;if(mt(e.value)){e.value=t.value;break}if(!e.value||!t.value){e.value=Pe(t.value,e.value);break}if(!ec(e.value,t.value)){e.value=oe;break}break;case"font":{if(g(r.type==="font"),g(t.type===e.type),ht(e.value))break;if(mt(e.value)){if(N(t.value)){e.value=t.value;break}let h=new Set([t.value.fontSelector]),y=He,b=new Set,S=new Set,I=He,T=He,x=He,V=new Set,L={};if(r.displayFontSize){let[F,J]=di(t.value.fontSize)?co(t.value.fontSize):[];y=F,J&&b.add(J)}if(r.displayTextAlignment&&(T=t.value.textAlignment),r.controls==="extended"){let[F,J]=t.value.lineHeight??[];I=F,J&&S.add(J);let[$,K]=t.value.letterSpacing??[];x=$,K&&V.add(K)}t.value.openTypeFontFeatures&&(L=(t.value.openTypeFontFeatures??[]).reduce((F,J)=>(ui(J)&&(F[J]=!0),F),{})),e.value={fontSelector:h,lineHeightValue:I,lineHeightUnits:S,fontSizeValue:y,fontSizeUnits:b,textAlignment:T,letterSpacingValue:x,letterSpacingUnits:V,openTypeFontFeatures:L};break}if(N(e.value)){N(t.value)||(e.value=oe);break}if(N(t.value)){e.value=oe;break}let{fontSelector:o,lineHeight:[n,i]=[],fontSize:a,textAlignment:s,letterSpacing:[l,c]=[],openTypeFontFeatures:m}=t.value;e.value.fontSelector.add(o);let[u,p]=di(a)?co(a):[],f=e.value.fontSizeValue!==u||!N(p)&&!e.value.fontSizeUnits.has(p);r.displayFontSize&&f&&(e.value.fontSizeValue=oe,p&&e.value.fontSizeUnits.add(p)),r.displayTextAlignment&&e.value.textAlignment!==s&&(e.value.textAlignment=oe),r.controls==="extended"&&(e.value.lineHeightValue!==n&&(e.value.lineHeightValue=oe),i&&e.value.lineHeightUnits.add(i),e.value.letterSpacingValue!==l&&(e.value.letterSpacingValue=oe),c&&e.value.letterSpacingUnits.add(c)),e.value.openTypeFontFeatures=Ed(e.value.openTypeFontFeatures,m);break}case"customcursor":case"scrollsectionref":{g(t.type===e.type);let o=mr(t.value,e.value)?e.value:t.value;e.value=Pe(o,e.value);break}case"border":{if(g(t.type===e.type),mt(e.value)){k(t.value)?e.value=t.value:rt(t.value)?e.value=null:e.value={...t.value};break}if(k(t.value)||k(e.value)||rt(t.value)||rt(e.value)){uo(t.value,e.value)&&(e.value=ZM);break}let o=e.value;o.borderTop=Pe(t.value.borderTop,o.borderTop),o.borderRight=Pe(t.value.borderRight,o.borderRight),o.borderBottom=Pe(t.value.borderBottom,o.borderBottom),o.borderLeft=Pe(t.value.borderLeft,o.borderLeft),o.borderWidth=Pe(t.value.borderWidth,o.borderWidth),o.borderColor=Pe(t.value.borderColor,o.borderColor),o.borderStyle=Pe(t.value.borderStyle,o.borderStyle);break}case"boxshadow":g(t.type===e.type),e.value=cm(t.value,e.value);break;case"multicollectionreference":g(t.type===e.type),e.value=eV(t.value,e.value);break;case"gap":{if(g(t.type===e.type),e.value=Pe(t.value,e.value),!ht(e.columnGap)){let o=k(t.value)?oe:Ct(t.value);mt(e.columnGap)?e.columnGap=o:uo(o,e.columnGap)&&(e.columnGap=oe)}if(!ht(e.rowGap)){let o=k(t.value)?oe:Ln(t.value);mt(e.rowGap)?e.rowGap=o:uo(o,e.rowGap)&&(e.rowGap=oe)}break}case"boolean":case"color":case"date":case"enum":case"file":case"number":case"richtext":case"string":case"image":case"cursor":case"padding":case"borderradius":case"collectionreference":case"trackingid":case"vectorsetitem":g(t.type===e.type),e.value=Pe(t.value,e.value);break;default:}}function Yi(e){switch(e.type){case"boolean":case"color":case"date":case"enum":case"file":case"link":case"linkrelvalues":case"number":case"richtext":case"string":case"transition":case"boxshadow":case"image":case"object":return{type:e.type,value:He};case"array":case"slot":case"font":case"pagescope":case"scrollsectionref":case"customcursor":case"border":case"cursor":case"padding":case"borderradius":case"collectionreference":case"multicollectionreference":case"vectorsetitem":return{type:e.type,value:He};case"gap":return{type:e.type,value:He,columnGap:He,rowGap:He};case"trackingid":return{type:e.type,value:He,trackingIdAIPrompt:He};case"fusednumber":return{type:"fusednumber",isFused:He,single:He,fused:[He,He,He,He]};case"responsiveimage":return{type:"responsiveimage",value:He,alt:He,positionX:He,positionY:He};case"eventhandler":return null;default:return null}}var rV={number:!0,enum:!0,boolean:!0,string:!0,richtext:!0,color:!0,image:!0,responsiveimage:!0,file:!0,transition:!0,link:!0,date:!0,object:!0,array:!0,fusednumber:!0,font:!0,pagescope:!0,scrollsectionref:!0,customcursor:!0,border:!0,cursor:!0,boxshadow:!0,gap:!0,padding:!0,borderradius:!0,collectionreference:!0,multicollectionreference:!0,trackingid:!0};function oV(e){return Object.hasOwn(rV,e)}function nV(e){return oV(e.type)}function iV(e){let t=Yi(e);return t?(g(nV(t)),t):null}function aV(e,t){let r=Yi(e);g(r);let o=r;return o.id=t,o}function HQ(e,t){let r={};for(let o in e){let n=e[o];if(!n)continue;let i=Yi(n);i&&(r[o]=i)}for(let o of t)for(let n in o){let i=e[n];if(g(i),i.type==="eventhandler")continue;let a=r[n];g(a,"Each control prop should have a corresponding reduced control prop");let s=o[n];g(s),Ki(a,s,i)}return r}function ZQ(e,t,r,o,n){let i=r.id;if(!i)return;let a=e.getNodeWithTrait(r.providerId,ut);if(!a)return;let s=a.dataIdentifier;if(!Dt(s))return;let l=fi(e,s);if(!l)return;n??=Ni(a,t);let c=e.getNodeWithTrait(n,ao);if(!c)return;let m=Aa(e,t,i,c,l);m&&(c=m.collectionItemNode,l=m.collectionNode,i=m.variableId);let p=l.getPropertyControls(e)[i];if(!p)return;let f=l.getVariable(i);if(!f)return;let h=c.getControlProp(i),{controlProp:y,reducedControlProp:b}=sV(p,h);if(qg(y)&&(g(b,"Reduced control prop should not be null when a collection control prop is present"),l.id===c.parentid&&!(l.managedByPlugin&&!f.userEditable)&&f.type===o&&y.type===o))return{collectionNode:l,collectionItemNode:c,variableDefinition:f,controlDescription:p,rawControlProp:h,controlProp:y,reducedControlProp:b,variableId:i}}var Gb=new WeakMap;function sV(e,t){let r=Gb.get(e);if(r&&r.rawControlProp===t){let{controlProp:i,reducedControlProp:a}=r;return{controlProp:i,reducedControlProp:a}}let o=pm(e,t),n=Yi(e);return n&&o&&Ki(n,o,e),Gb.set(e,{rawControlProp:t,controlProp:o,reducedControlProp:n}),{controlProp:o,reducedControlProp:n}}function Ub(e){return e!=null&&typeof e=="object"&&e.nodeType===1}function Jb(e,t){return t&&e==="hidden"?!1:e!=="visible"&&e!=="clip"}function Ad(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){let r=getComputedStyle(e,null);return Jb(r.overflowY,t)||Jb(r.overflowX,t)}return!1}function Ll(e,t,r,o,n,i,a,s){return i<e&&a>t||i>e&&a<t?0:i<=e&&s<=r||a>=t&&s>=r?i-e-o:a>t&&s<r||i<e&&s>r?a-t+n:0}function Bd(e,t){let{scrollMode:r,block:o,inline:n,boundary:i,skipOverflowHiddenElements:a}=t,s=typeof i=="function"?i:$=>$!==i;if(!Ub(e))throw new TypeError("Invalid target");let l=document.scrollingElement||document.documentElement,c=[],m=e;for(;Ub(m)&&s(m);){if(m=m.parentNode,m===l){c.push(m);break}m===document.body&&Ad(m)&&!Ad(document.documentElement)||Ad(m,a)&&c.push(m)}let u=window.visualViewport,p=u?.width??innerWidth,f=u?.height??innerHeight,h=window.scrollX||pageXOffset,y=window.scrollY||pageYOffset,{height:b,width:S,top:I,right:T,bottom:x,left:V}=e.getBoundingClientRect(),L=o==="start"||o==="nearest"?I:o==="end"?x:I+b/2,F=n==="center"?V+S/2:n==="end"?T:V,J=[];for(let $ of c){let{height:K,width:ce,top:D,right:ye,bottom:ne,left:Y}=$.getBoundingClientRect();if(r==="if-needed"&&I>=0&&V>=0&&x<=f&&T<=p&&I>=D&&x<=ne&&V>=Y&&T<=ye)return J;let de=getComputedStyle($),ae=parseInt(de.borderLeftWidth,10),Ie=parseInt(de.borderTopWidth,10),Je=parseInt(de.borderRightWidth,10),ee=parseInt(de.borderBottomWidth,10),E=0,ue=0,we="offsetWidth"in $?$.offsetWidth-$.clientWidth-ae-Je:0,Ye="offsetHeight"in $?$.offsetHeight-$.clientHeight-Ie-ee:0;if(l===$)o==="start"?E=L:o==="end"?E=L-f:o==="nearest"?E=Ll(y,y+f,f,Ie,ee,y+L,y+L+b,b):E=L-f/2,n==="start"?ue=F:n==="center"?ue=F-p/2:n==="end"?ue=F-p:ue=Ll(h,h+p,p,ae,Je,h+F,h+F+S,S),E=Math.max(0,E+y),ue=Math.max(0,ue+h);else{o==="start"?E=L-D-Ie:o==="end"?E=L-ne+ee+Ye:o==="nearest"?E=Ll(D,ne,K,Ie,ee+Ye,L,L+b,b):E=L-(D+K/2)+Ye/2,n==="start"?ue=F-Y-ae:n==="center"?ue=F-(Y+ce/2)+we/2:n==="end"?ue=F-ye+Je+we:ue=Ll(Y,ye,ce,ae,Je+we,F,F+S,S);let{scrollLeft:Vt,scrollTop:Te}=$;E=Math.max(0,Math.min(Te+E,$.scrollHeight-K+Ye)),ue=Math.max(0,Math.min(Vt+ue,$.scrollWidth-ce+we)),L+=Te-E,F+=Vt-ue}J.push({el:$,top:E,left:ue})}return J}function _b(e){return e===Object(e)&&Object.keys(e).length!==0}function lV(e,t="auto"){let r="scrollBehavior"in document.body.style;e.forEach(({el:o,top:n,left:i})=>{o!==document.body&&(o.scroll&&r?o.scroll({top:n,left:i,behavior:t}):(o.scrollTop=n,o.scrollLeft=i))})}function cV(e){return e===!1?{block:"end",inline:"nearest"}:_b(e)?e:{block:"start",inline:"nearest"}}function jb(e,t){let r=!e.ownerDocument.documentElement.contains(e);if(_b(t)&&typeof t.behavior=="function")return t.behavior(r?[]:Bd(e,t));if(r)return;let o=cV(t);return lV(Bd(e,o),o.behavior)}var dV="codemark",Qi=100,Xb=new Im(dV);function Ar(e,t){var r,o;return"schema"in e?(r=t?.markType)!==null&&r!==void 0?r:e.schema.marks.code:(o=t?.markType)!==null&&o!==void 0?o:e.state.schema.marks.code}function eo(e,t){return e.resolve(Math.min(Math.max(1,t),e.nodeSize-2))}function Yb(e,t,r,o){var n;let i=e.isInSet((n=t.state.storedMarks)!==null&&n!==void 0?n:t.state.doc.resolve(r).marks()),a=t.state.doc.rangeHasMark(r,o,e);return!!(i||a)}var qb={match:/`((?:[^`\w]|[\w])+)`$/,handler:(e,t,r,o,n,i,a,s)=>{if(Yb(e,t,n,i))return!1;let l=o[1],c=e.create(s),m=n+l.length,u=t.state.tr.delete(n,i).insertText(l).addMark(n,m,c),p=u.setSelection(Kt.create(u.doc,m)).removeStoredMark(e),f=p.setMeta(a.input,{transform:p,from:n,to:i,text:`\`${l}${r}`});return t.dispatch(f),!0}},Kb={match:/^`((?:[^`\w]|[\w])+)`/,handler:(e,t,r,o,n,i,a,s)=>{if(Yb(e,t,n,i))return!1;let l=e.create(s),c=o[1],m=n,u=t.state.tr.delete(n,i).insertText(c).addMark(n,n+c.length,l),p=u.setSelection(Kt.create(u.doc,m)).addStoredMark(l),f=p.setMeta(a.input,{transform:p,from:n,to:i,text:`\`${c}${r}`});return t.dispatch(f),!0}};function uV(e,t,r,o,n,i,a){if(t.composing)return!1;let{state:s}=t,l=s.doc.resolve(r);if(l.parent.type.spec.code)return!1;let c="\uFFFC",m=l.parent.textBetween(Math.max(0,l.parentOffset-Qi),l.parentOffset,void 0,c)+n,u=n+l.parent.textBetween(l.parentOffset,Math.min(l.parent.nodeSize-2,l.parentOffset+Qi),void 0,c),p=qb.match.exec(m),f=Kb.match.exec(u);if(p){let h=qb.handler(e,t,n,p,r-p[0].length+n.length,o,i,a);if(h)return h}return f?Kb.handler(e,t,n,f,r,o+f[0].length-n.length,i,a):!1}function Qb(e,t){t||(t={});let r=new hr({isInputRules:!0,state:{init:()=>null,apply(o,n){let i=o.getMeta(r);return i||(o.selectionSet||o.docChanged?null:n)}},props:{handleTextInput(o,n,i,a){let s=Ar(o,t);return uV(s,o,n,i,a,{input:r,cursor:e},t.attrs)}}});return r}function Br(e,t,r="next"){let o={action:r};return e.dispatch(e.state.tr.setMeta(t,o)),!1}function Zb(e,t,r,o,n){if(e.state.selection.empty||r.metaKey||r.shiftKey||r.altKey||r.ctrlKey)return!1;let{from:i,to:a}=e.state.selection;if(a-i>=Qi||e.state.doc.rangeHasMark(i,a,o))return!1;let s=e.state.tr.addMark(i,a,o.create(n)),l=s.setSelection(Kt.create(s.doc,a)).removeStoredMark(o);return e.dispatch(l),!0}function mV(e,t,r,o,n){var i;if(r.metaKey)return Br(e,t);if(r.shiftKey||r.altKey||r.ctrlKey)return!1;let{selection:a,doc:s}=e.state;if(!a.empty)return!1;let l=t.getState(e.state),c=a.$from,m=!!o.isInSet(c.marks()),u=!!o.isInSet((i=c.marksAcross(eo(s,a.from+1)))!==null&&i!==void 0?i:[]);return c.pos===e.state.doc.nodeSize-3&&c.parentOffset===c.parent.nodeSize-2&&l?.active?(e.dispatch(e.state.tr.removeStoredMark(o)),!0):m===u&&c.parentOffset!==0?!1:m&&(!l?.active||l.side===-1)&&c.parentOffset!==0?(e.dispatch(e.state.tr.removeStoredMark(o)),!0):u&&l?.side===-1?(e.dispatch(e.state.tr.addStoredMark(o.create(n))),!0):!1}function eI(e,t,r,o,n){if(mV(e,t,r,o,n))return!0;let{selection:a}=e.state,s=a.$from;return a.empty&&s.parentOffset===s.parent.nodeSize-2?Br(e,t):!1}function pV(e,t,r,o,n){var i;if(r.metaKey)return Br(e,t);if(r.shiftKey||r.altKey||r.ctrlKey)return!1;let{selection:a,doc:s}=e.state,l=t.getState(e.state),c=!!o.isInSet(a.$from.marks()),m=!!o.isInSet((i=eo(s,a.empty?a.from-1:a.from+1).marks())!==null&&i!==void 0?i:[]);if(c&&l?.side===-1&&a.$from.parentOffset===0)return!1;if(l?.side===0&&a.$from.parentOffset===0)return e.dispatch(e.state.tr.removeStoredMark(o)),!0;if(c&&m&&l?.side===0)return e.dispatch(e.state.tr.addStoredMark(o.create(n))),!0;if(c&&!m&&l?.active&&a.$from.parentOffset===0||!c&&l?.active&&l?.side===0)return e.dispatch(e.state.tr.removeStoredMark(o)),!0;if(c===m)return!1;if(m||!a.empty&&c){let u=a.empty?a.from-1:a.from,p=e.state.tr.setSelection(Kt.create(s,u));return!a.empty&&m?e.dispatch(p.addStoredMark(o.create(n))):e.dispatch(p.removeStoredMark(o)),!0}if((m||!a.empty&&c)&&!l?.active){let u=a.empty?a.from-1:a.from;return e.dispatch(e.state.tr.setSelection(Kt.create(s,u)).removeStoredMark(o)),!0}if(c&&!l?.active&&a.$from.parentOffset>0)return e.dispatch(e.state.tr.setSelection(Kt.create(s,a.from-1)).addStoredMark(o.create(n))),!0;if(c&&!m&&l?.active&&l.side!==-1)return e.dispatch(e.state.tr.addStoredMark(o.create(n))),!0;if(c&&!m&&l?.active){let u=a.from-1;return e.dispatch(e.state.tr.setSelection(Kt.create(s,u)).addStoredMark(o.create(n))),!0}return!1}function tI(e,t,r,o,n){if(pV(e,t,r,o,n))return!0;let{selection:a}=e.state,s=a.$from,l=t.getState(e.state);return s.pos===1&&s.parentOffset===0&&l?.side===-1?!0:a.empty&&s.parentOffset===0?Br(e,t):!1}function rI(e,t,r,o){if(r.metaKey||r.shiftKey||r.altKey||r.ctrlKey)return!1;let{selection:n,doc:i}=e.state,a=eo(i,n.from-1),s=!!o.isInSet(a.marks()),l=a.parentOffset===0,c=!!o.isInSet(eo(i,n.to+1).marks());if((!s||l)&&!c)return Br(e,t);let m=t.getState(e.state);if(n.empty&&m?.side===-1){let u=e.state.tr.delete(n.from-1,n.from);return e.dispatch(u),!0}return!1}function oI(e,t,r,o){if(r.metaKey||r.shiftKey||r.altKey||r.ctrlKey)return!1;let{selection:n,doc:i}=e.state,a=!!o.isInSet(n.$from.marks()),s=n.$from.parentOffset===0,l=!!o.isInSet(eo(i,n.to+2).marks());return(!a||s)&&!l?Br(e,t):!1}function nI(e,t){var r,o;if(!e)return null;let{selection:n,doc:i}=e;if(!n.empty)return null;let a=!!t.isInSet((r=e.storedMarks)!==null&&r!==void 0?r:[]),s=!!t.isInSet(n.$from.marks()),l=!!t.isInSet((o=eo(i,n.from+1).marks())!==null&&o!==void 0?o:[]),c=n.$from.parentOffset===0;return s!==l||!s&&a!==s||s&&c?e.tr.removeStoredMark(t):null}function fV(){let e=document.createElement("span");return e.classList.add("fake-cursor"),e}function hV(e){e||(e={});let t=new hr({key:Xb,appendTransaction:(r,o,n)=>{var i;let a=t.getState(o),s=(i=r[0])===null||i===void 0?void 0:i.getMeta(t);return a?.next||s?.action==="click"?nI(n,Ar(n,e)):null},state:{init:()=>null,apply(r,o,n,i){var a;let s=r.getMeta(t);if(s?.action==="next")return{next:!0};let l=Ar(i,e),c=l.isInSet((a=i.storedMarks)!==null&&a!==void 0?a:i.doc.resolve(r.selection.from).marks()),m=l.isInSet(i.doc.resolve(r.selection.from).marks()),u=l.isInSet(eo(i.doc,r.selection.from+1).marks()),p=r.selection.$from.parentOffset===0;return r.selection.empty?!c&&u&&(!m||p)?{active:!0,side:-1}:c&&(!m||p)?{active:!0,side:0}:!c&&m&&!u?{active:!0,side:0}:c&&m&&!u?{active:!0,side:-1}:null:null}},props:{attributes:r=>{var o;let{active:n=!1}=(o=t.getState(r))!==null&&o!==void 0?o:{};return Object.assign({},n?{class:"no-cursor"}:{})},decorations:r=>{var o;let{active:n,side:i}=(o=t.getState(r))!==null&&o!==void 0?o:{};if(!n)return rc.empty;let a=Tm.widget(r.selection.from,fV,{side:i});return rc.create(r.doc,[a])},handleKeyDown(r,o){switch(o.key){case"`":return Zb(r,t,o,Ar(r,e),e.attrs);case"ArrowRight":return eI(r,t,o,Ar(r,e),e.attrs);case"ArrowLeft":return tI(r,t,o,Ar(r,e),e.attrs);case"Backspace":return rI(r,t,o,Ar(r,e));case"Delete":return oI(r,t,o,Ar(r,e));case"ArrowUp":case"ArrowDown":case"Home":case"End":return Br(r,t);case"e":case"a":return o.ctrlKey?Br(r,t):!1;default:return!1}},handleClick(r){return Br(r,t,"click")}}});return t}function iI(e){let t=hV(e),r=Qb(t,e);return[t,r]}var CZ=iI;var NZ=e=>(t,r)=>{if(!r)return!1;let o=t.selection,n=o.$from.node(1);if(!pt(n)||!Hr(n)||o.$to.parentOffset===o.$to.parent.content.size)return!1;let a=n.attrs.tag;return a==="p"||a==="div"?!1:aI(e)(t,r)},wZ=e=>(t,r)=>{if(!r)return!1;let n=t.selection.$from.node(1);if(!pt(n)||Hr(n))return!1;let i=n.attrs.tag;return i==="p"||i==="div"?!1:aI(e)(t,r)},aI=e=>(t,r)=>{if(!r)return!1;let o=e.nodes.lineBreak.create(),n=t.tr.replaceSelectionWith(o).scrollIntoView();return r(n),!0},RZ=e=>(t,r)=>{let o=t.selection;if(o.from!==o.to)return!1;let n=o.$from.node(-1);return!Vm(n)||Dm(o.$from.node(-3))||o.$from.parentOffset!==0||o.$from.index(-1)!==0||o.$from.index(-2)!==0?!1:Kg(e.nodes.listItem)(t,r&&(i=>{if(o.$from.depth>3){let a=o.$from.before(-1);i.join(a)}r(i)}))};function VZ(e){return Vc(/^([ai]|\d+)\.\s$/iu,e.nodes.numberedList,t=>{let r=t[1];switch(r){case"a":return{listStyleType:"lower-alpha"};case"A":return{listStyleType:"upper-alpha"};case"i":return{listStyleType:"lower-roman"};case"I":return{listStyleType:"upper-roman"};default:return{start:Number(r)}}},(t,r)=>r.childCount+r.attrs.start===Number(t[1]))}function DZ(e){return Vc(/^\s*([-+*])\s$/u,e.nodes.bulletedList)}function EZ(){return new hr({appendTransaction(e,t,r){let o,n=r.selection.$from.parent;if(t.selection instanceof xr&&e.find(a=>a.steps.find(s=>s instanceof vm))){let a=t.doc.firstChild,s=pt(n)&&!Hr(n);if(a&&pt(a)&&s){let l=gV(a);if(o??=r.tr,l){let c=l.marks.find(ho);o.setNodeMarkup(0,a.type,{...a.attrs,inlineStyles:c?.attrs.inlineStyles??{}});for(let m of l.marks)o.addMark(0,r.doc.content.size,m),o.addStoredMark(m)}else{let c=a.attrs.inlineStyles;o.setNodeMarkup(0,a.type,{...a.attrs,inlineStyles:c})}}}return o}})}function gV(e){for(let t=0;t<e.childCount;t++){let r=e.child(t);if(Pa(r))return r}}function WZ(e,t){let r=t.getFontsForLoading().filter(i=>!Lo.isSelectorLoaded(i)),o=t.getTextStylePresets(!1).filter(zu),n=e.getNodesWithTrait(o,so).filter(i=>!Lo.isSelectorLoaded(i.font)).map(i=>i.font);return r.push(...n),r}var sI=[Rr.youtube,Rr.vimeo,Rr.codeblock,Rr.twitter];async function lI(e,t){let r=Z(t);br(r)&&await e.stores.modulesStore.addExternalModulesToProject([r],{onTreeUpdate(){}})}var cI=new WeakMap;async function _Z(e){let{modules:t}=await e.stores.modulesStore.lookUpModules(sI.map(Cm)),r=[];for(let o=0;o<t.length;o++){let n=t[o];g(n,"Module must exist");let i=sI[o];g(i,"Module component must exist"),cI.set(i,n),g(n.files.module,"Module must have a module file"),r.push($l(n.id,n.saveId,n.files.module,i.exportSpecifier??"default"))}await e.stores.modulesStore.preloadExternalModules(r)}function Zi(e,t){let r=cI.get(t);g(r,"Preloaded module must exist");let o=e.getNodeWithTrait(r.id,Xl);return o?o.codeComponentIdentifier:(g(r.files.module,"Module must have a module file"),$l(r.id,r.saveId,r.files.module,t.exportSpecifier??"default").value)}async function dI(e,t){let{moduleIdentifier:r}=await ry(e,t);if(r.kind==="externalModuleExport"){let o=e.tree.getNodeWithTrait(r.moduleId,Xl);if(o)return o.codeComponentIdentifier}return r.value}async function to(e,t,r,o,n={}){await lI(e,o);let i=r.state,a=i.tr;a.replaceRangeWith(i.selection.from,i.selection.to,t.nodes.module.create({identifier:o,props:n}));let s=i.selection.from===0?0:i.selection.from-1;a.setSelection(bm.create(a.doc,s)),r.dispatch(a)}async function El(e,t,r,o,n){let i=await dI(e,o);await to(e,t,r,i,n)}async function Al(e,t,r,o,n){Ht("collection_record_youtube_add",{source:"cms"});let i=n?{url:{type:"string",value:n}}:void 0;try{let a=Zi(e.tree,Rr.youtube);await to(e,t,r,a,i),o?.()}catch(a){Re(a)}}async function ree(e,t,r,o,n){let i=n?{url:{type:"string",value:n}}:void 0;try{let a=Zi(e.tree,Rr.twitter);await to(e,t,r,a,i),o?.()}catch(a){Re(a)}}async function Bl(e,t,r,o,n){Ht("collection_record_vimeo_add",{source:"cms"});let i=n?{video:{type:"string",value:n}}:void 0;try{let a=Zi(e.tree,Rr.vimeo);await to(e,t,r,a,i),o?.()}catch(a){Re(a)}}async function oee(e,t,r,o="",n){let i={code:{type:"string",value:o}};Ht("collection_record_codeblock_add",{source:"cms"});try{let a=Zi(e.tree,Rr.codeblock);await to(e,t,r,a,i),n?.()}catch(a){Re(a)}}function ea(e,t,r,o,n){return o.content.size===0?!1:(e.scheduler.processWhenReady(()=>{let i=t.state,a=i.tr,s=n(o),l=yV(s),c=i.selection.$from.node(1),m=i.selection.$from.before(1),u=!s.content.child(0).isInline,p=i.selection instanceof xr||c?.content.size===0;if(l)a.replaceSelectionWith(l,!0);else if(u&&p){let f=c?m+c.nodeSize:i.selection.to;a.replaceRange(m,f,s)}else a.replaceSelection(s);a.scrollIntoView(),a.setMeta("paste",!0),a.setMeta("uiEvent","paste"),t.dispatch(a)}),!0)}function yV(e){return e.openStart===0&&e.openEnd===0&&e.content.childCount===1?e.content.firstChild:null}var SV=fe("prosemirror:addMedia"),mI=[{extension:"mp4",mimeType:"video/mp4"}];function uI(e){return e=e.toLowerCase(),mI.some(({extension:t})=>e.endsWith(`.${t}`))}function CV(e){return e.startsWith("video/")}var pI=[...ns],fI=new Set(is);for(let{extension:e,mimeType:t}of mI)pI.push(e),fI.add(t);var vV="failed-asset-upload-placeholder",hI="updateAssetReferences";function fee(e){return e.getMeta(hI)}function bV(e){return e.setMeta(hI,!0)}async function sn(e,t,r,o,{type:n,insertPosition:i,mediaExtractedFromHTML:a}){let s=r.state,l=s.tr,c=new Wn(e,{silent:a}),m=[],u=[],p=[];for(let I of o)if(I instanceof File){let T=CV(I.type);if(g(!a,"we should not receive files if the media is already in a document"),!fI.has(I.type))continue;let x=URL.createObjectURL(I);m.push({uploadResultTask:c.createTask(I,V=>V),temporaryURL:x,type:T?"video":"image"}),u.push({src:x,isVideo:T}),p.push(x)}else{let T=ou(I.src);if(T){u.push({src:I.src,isVideo:uI(T.originalFilename??T.identifier)});continue}u.push({src:I.src,isVideo:uI(I.src)}),m.push({uploadResultTask:c.createTask(I.src,x=>x),temporaryURL:I.src,type:I.type})}if(!m.length)return Promise.resolve();if(!a)for(let{src:I,isVideo:T}of u){let x=t.nodes.image.create({src:I,type:T?"video":"image"});i?l.insert(i,x):s.selection.replaceWith(l,x)}l.scrollIntoView(),(n==="drop"||n==="paste")&&(l.setMeta(n,!0),l.setMeta("uiEvent",n)),r.dispatch(l);let f=m.map(I=>I.uploadResultTask());a&&Uc(c,f).catch(()=>{});let y=(await Promise.allSettled(f)).map((I,T)=>IV(I,T,m)),b=[];y.forEach(I=>{if(I.type==="asset")return b.push(I.asset)});let S=new Map;m.forEach((I,T)=>{let x=y[T];g(x,"Asset upload result must be defined"),S.set(I.temporaryURL,x)}),TV(r,S),p.forEach(I=>URL.revokeObjectURL(I))}function IV(e,t,r){switch(e.status){case"fulfilled":{let{value:o}=e,{asset:n}=o;return o.type==="image"?{type:"asset",asset:n,imageSize:o.imageSize}:{type:"asset",asset:n}}case"rejected":{let o=r[t];return g(o,"Upload must be defined"),SV.reportError(new Error(e.reason)),{type:"failed upload"}}}}async function hee(e,t,r,o){let n=await zS.pickFile({allowedFileTypes:pI});if(!n)return;let i=n[0];return sn(e,t,r,[i],o)}function TV(e,t){let r=e.state,o=r.tr;r.doc.descendants((n,i)=>{if(!Cn(n))return;let a=t.get(n.attrs.src);if(a===void 0)return;let s={...n.attrs};if(a.type==="failed upload")s.src=vV;else if(a.imageSize){s.src=ru({identifier:Ul(a.asset),intrinsicSize:{width:a.imageSize.naturalWidth,height:a.imageSize.naturalHeight}});let l=Dg(a.imageSize);s.pixelWidth=l.nonZeroNaturalWidth,s.pixelHeight=l.nonZeroNaturalHeight}else s.src=tu(Ul(a.asset));o.setNodeMarkup(i,n.type,s),bV(o)}),e.dispatch(o)}var Ol=class e extends yn{constructor(r,o,n,i){let a={},s={};for(let l in r){let c=r[l];a[l]=m=>c(m,this.engine)}for(let l in o){let c=o[l];s[l]=(m,u)=>c(m,u,this.engine)}super(a,s);this.engine=n;this.onAfterSerializeFragment=i}static create(r,o,n){return new e(yn.nodesFromSchema(o),yn.marksFromSchema(o),r,n)}serializeFragment(r,o,n=document.createDocumentFragment()){return super.serializeFragment(r,o,n),this.onAfterSerializeFragment?.(n),n}};function zl(e){let t=e.querySelector("b[id^='docs-internal-guid']")??e.querySelector("*[id^='docs-internal-guid']")?.parentElement;if(t)for(let r=t.children.length-1;r>=0;r--){let o=t.children[r];if(o){for(o instanceof HTMLParagraphElement&&!st.isOn("pasteMarkdown")&&NV(o),o instanceof HTMLDivElement&&wV(o);gI(o.firstChild);)o.removeChild(o.firstChild);for(;gI(o.lastChild);)o.removeChild(o.lastChild);(o.tagName==="BR"||o.childNodes.length===0)&&o.remove()}}}function gI(e){return e instanceof Element&&e.textContent===""&&e.querySelectorAll("img").length===0}function NV(e){if(e.textContent!=="")return;let t=e.querySelectorAll("img");t.length!==0&&e.replaceWith(...t)}function wV(e){let t=e.querySelector("table");t===null||t.querySelectorAll("tr").length===0||t.querySelectorAll("th, td").length===0||e.replaceWith(t)}function yI(e){let t=Mm.map(o=>`${o}:has(img)`).join(", ");for(let o of e.querySelectorAll("*:empty"))o.setAttribute("data-original-empty","1");for(let o of e.querySelectorAll(t)){let n=o.parentNode;if(!n)continue;let i=o.querySelector("img");for(;i;){let a=document.createRange();a.setStart(o,0),a.setEndBefore(i);let s=a.extractContents();if(s.childNodes.length){let l=o.cloneNode(!1);l.appendChild(s),l.hasChildNodes()&&n.insertBefore(l,o)}n.insertBefore(i,o),i=o.querySelector("img")}}let r;for(;r=e.querySelector("*:empty:not([data-original-empty])");)r.remove();for(let o of e.querySelectorAll("[data-original-empty]"))o.removeAttribute("data-original-empty")}var RV=/^https?:\/\/(?:www\.)?vimeo\.com\/\d+/u,xV=/^https?:\/\/(?:www\.)?youtu(?:\.be|be\.com)/u;function SI({engine:e,schema:t,stylePresetGetters:r,supportedTags:o,saveChanges:n}){return new hr({props:{clipboardSerializer:Ol.create(e,t,r?DV:void 0),transformPastedHTML(i){let a=vo(i);return zl(a),yI(a),a.innerHTML},handlePaste(i,a,s){let l=a.clipboardData?.getData("text/plain"),c=a.clipboardData?.getData("text/html");if(nc(t)){let{clipboardData:m}=a;if(m&&m.files.length>0)return sn(e,t,i,m.files,{type:"paste"}).finally(n),!0}if(A(l)){let u=["http:","https:","mailto:","www."].some(f=>l.startsWith(f)),p=i.state.selection;if(u&&p.from!==p.to&&km(t)){let f=oc(l,e)??wa({url:l}),h=i.state.tr;return h.addMark(p.from,p.to,t.marks.link.create({link:f,openInNewTab:cs(f),smoothScroll:!1,clickTrackingId:void 0,linkStylePreset:void 0,relValues:void 0,preserveParams:!1})),i.dispatch(h),!0}if(ic(t)&&st.isOn("cmsPasteModules")){let f=Z(l);if(Ce(f))return to(e,t,i,f.value).catch(Re),!0;if(Ga(l))return El(e,t,i,l).catch(Re),!0}if(ic(t)){if(xV.test(l))return Al(e,t,i,n,l).catch(Re),!0;if(RV.test(l))return Bl(e,t,i,n,l).catch(Re),!0}}return ea(e,i,a,s,m=>{if(r&&c&&VV(c))return m;let u=oy(l);l&&u&&(m=ny(l,t));let p=t.nodes.document.create(void 0),f=new Sn(p);f.insert(0,m.content);let h=new Map,y=[];if(f.doc.descendants((S,I)=>{if(pt(S)){let T=S.attrs.tag,x=o?.has(T)??!0,V=Rn(T)&&x?T:"p";f.setNodeMarkup(I,t.nodes.textBlock,{...S.attrs,blockStyles:{},inlineStyles:{},textStylePreset:void 0,tag:V})}Cn(S)&&y.push({src:S.attrs.src,type:S.attrs.type});for(let T of S.marks){if(!hi(T)||!fr(T.attrs.link))continue;let x=T.attrs.link.url,V;h.has(x)?V=h.get(x):(V=oc(x,e),h.set(x,V)),V&&f.addMark(I,I+S.nodeSize,T.type.create({...T.attrs,link:V}))}}),y.length&&nc(t)&&sn(e,t,i,y,{type:"paste",mediaExtractedFromHTML:!0}).finally(n),Pm(t)&&r){let I=i.state.selection,x=I.$from.parent,V=x.textContent,L=pt(x)&&V.length>0,F=I instanceof xr,$=!c&&l&&l.length>0&&!u;!L&&!$&&!F?kV(e,t,r.getStylePresetForTag,r.getStylePresetForLink,f):PV(i,t,f)}let b=m.content.child(0).isInline?f.doc.content.child(0).content:f.doc.content;return new gn(b,m.openStart,m.openEnd)})}}})}var CI="framer-match-formatting",MV=document.createComment(CI);function VV(e){return e.endsWith(`<!--${CI}-->`)}function DV(e){e.appendChild(MV)}function kV(e,t,r,o,n){n.doc.descendants((i,a)=>{if(pt(i)){let s=i.attrs,l=A(s.textStylePreset)?e.tree.getNodeWithTrait(s.textStylePreset,Ao):void 0,c=Rn(s.tag)?s.tag:"p",m=l??r(c)??hs(e.tree,c)??Ha.createDefault(c);gs(e,m),n.setNodeMarkup(a,t.nodes.textBlock,{...i.attrs,blockStyles:l?i.attrs.blockStyles:{},inlineStyles:l?i.attrs.inlineStyles:{},textStylePreset:m.id}),l||n.removeMark(a,i.nodeSize,t.marks.inlineStyles)}if(i.type===t.nodes.text){let s=i.marks.find(hi);if(s){let l=o()??ps(e.tree)??ms.createDefault();fs(e,l),n.addMark(a,a+i.nodeSize,s.type.create({...s.attrs,linkStylePreset:l.id}))}}})}function PV(e,t,r){let o=e.state,n=o.selection;if(n instanceof xr){let c=o.doc.resolve(1);n=new Kt(c)}let i=n.$from.parent,a=pt(i),l=n.$from.marks().find(ho);if(l)r.addMark(0,r.doc.content.size,l);else if(a){let c=t.marks.inlineStyles.create({inlineStyles:i.attrs.inlineStyles});r.addMark(0,r.doc.content.size,c)}else r.removeMark(0,r.doc.content.size,t.marks.inlineStyles);r.doc.descendants((c,m)=>{if(!pt(c))return;let u=a?i.attrs:c.attrs;r.setNodeMarkup(m,t.nodes.textBlock,u)})}var vI="framer-rich-text",FV=/^https?:\/\/(?:www\.)?vimeo\.com\/\d+/u,LV=/^https?:\/\/(?:www\.)?youtu(?:\.be|be\.com)/u;function bI(e,t){return new hr({props:{handlePaste(r,o,n){let i=o.clipboardData?.getData("text/plain"),a=o.clipboardData?.getData("text/html");return i===""&&a===""?!0:ea(e,r,o,n,s=>{let l=!a&&i&&i.length>0;if(a?.endsWith(`<!--${vI}-->`))return s;let u=r.state.selection,f=u.$from.parent,h=f.textContent,y=pt(f)&&h.length>0,b=u instanceof xr;return!y&&!l&&!b?AV(e,t,s):OV(r,s)})},clipboardSerializer:new Od(Ge)}})}function gte(e,t,r,o,n,i){return new hr({props:{transformPastedHTML(a){let s=vo(a);return zl(s),s.innerHTML},handlePaste(a,s,l){if(t){let{clipboardData:m}=s;if(m&&m.files.length>0)return sn(e,Ge,a,m.files,{type:"paste"}).finally(i),!0}let c=s.clipboardData?.getData("text/plain");if(A(c)){let u=["http:","https:","mailto:","www."].some(f=>c.startsWith(f)),p=a.state.selection;if(u&&p.from!==p.to&&o){let f=wa({url:c}),h=a.state.tr;return h.addMark(p.from,p.to,Ge.marks.link.create({link:f,openInNewTab:cs(f),smoothScroll:!1,clickTrackingId:void 0,linkStylePreset:void 0,relValues:void 0,preserveParams:!1})),a.dispatch(h),!0}if(r&&st.isOn("cmsPasteModules")){let f=Z(c);if(Ce(f))return to(e,Ge,a,f.value).catch(Re),!0;if(Ga(c))return El(e,Ge,a,c).catch(Re),!0}if(r){if(LV.test(c))return Al(e,Ge,a,i,c).catch(Re),!0;if(FV.test(c))return Bl(e,Ge,a,i,c).catch(Re),!0}}return ea(e,a,s,l,m=>{let u=Ge.nodes.document.create(void 0),p=new Sn(u);p.insert(0,m.content);let f=[];p.doc.descendants((y,b)=>{if(pt(y)){let S=y.attrs.tag,I=n?.has(S)??!0,T=Rn(S)&&I?S:"p";p.setNodeMarkup(b,Ge.nodes.textBlock,{...y.attrs,blockStyles:{},inlineStyles:{},textStylePreset:void 0,tag:T})}Cn(y)&&f.push({src:y.attrs.src,type:y.attrs.type})}),f.length&&sn(e,Ge,a,f,{type:"paste",mediaExtractedFromHTML:!0}).finally(i),p.removeMark(0,p.doc.content.size,Ge.marks.inlineStyles),o||p.removeMark(0,p.doc.content.size,Ge.marks.link);let h=m.content.child(0).isInline?p.doc.content.child(0).content:p.doc.content;return new gn(h,m.openStart,m.openEnd)})}}})}var EV=document.createComment(vI),Od=class{constructor(t){R(this,"domSerializer");R(this,"nodes");R(this,"marks");this.domSerializer=yn.fromSchema(t),this.nodes=this.domSerializer.nodes,this.marks=this.domSerializer.marks}serializeNode(t,r){return this.domSerializer.serializeNode(t,r)}serializeFragment(t,r){let o=this.domSerializer.serializeFragment(t,r);return o.appendChild(EV),o}};function AV(e,t,r){let o=Ge.nodes.document.create(void 0),n=new Sn(o);n.insert(0,r.content);let i=e.tree.getNodeWithTrait(t,_e);g(i,"RichTextNode for pasting not found");let a=BV(e.tree,i);n.doc.descendants((l,c)=>{if(pt(l)){let m=l.attrs,u=A(m.textStylePreset)?e.tree.getNodeWithTrait(m.textStylePreset,Ao):void 0,p=Rn(m.tag)?m.tag:"p",f=u??a[p]??i.getNodeTextStylePreset(e.tree,p)??hs(e.tree,p)??Ha.createDefault(p);gs(e,f),n.setNodeMarkup(c,Ge.nodes.textBlock,{...l.attrs,blockStyles:u?l.attrs.blockStyles:{},inlineStyles:u?l.attrs.inlineStyles:{},textStylePreset:f.id}),u||n.removeMark(c,l.nodeSize,Ge.marks.inlineStyles)}if(l.type===Ge.nodes.text){let m=l.marks.find(hi);if(m){let u=i.getNodeLinkStylePreset(e.tree)??ps(e.tree)??ms.createDefault();fs(e,u),n.addMark(c,c+l.nodeSize,Ge.marks.link.create({...m.attrs,linkStylePreset:u.id}))}}});let s=r.content.child(0).isInline?n.doc.content.child(0).content:n.doc.content;return new gn(s,r.openStart,r.openEnd)}function BV(e,t){let r={};for(let o of t.getTextStylePresets(!1)){let n=e.getNodeWithTrait(o,Ao);n&&(r[n.tag]??=n)}return r}function OV(e,t){let r=e.state,o=r.selection;if(o instanceof xr){let u=r.doc.resolve(1);o=new Kt(u)}let n=Ge.nodes.document.create(void 0),i=new Sn(n);i.insert(0,t.content);let a=o.$from.parent,s=pt(a),c=o.$from.marks().find(ho);if(c)i.addMark(0,i.doc.content.size,c);else if(s){let u=Ge.marks.inlineStyles.create({inlineStyles:a.attrs.inlineStyles});i.addMark(0,i.doc.content.size,u)}else i.removeMark(0,i.doc.content.size,Ge.marks.inlineStyles);i.doc.descendants((u,p)=>{if(!pt(u))return;let f=s?a.attrs:u.attrs;i.setNodeMarkup(p,Ge.nodes.textBlock,f)});let m=t.content.child(0).isInline?i.doc.content.child(0).content:i.doc.content;return new gn(m,t.openStart,t.openEnd)}function Tte({engine:e,schema:t,nodeId:r,getRichTextNode:o}){return st.isOn("pasteMarkdown")?SI({engine:e,schema:t,stylePresetGetters:{getStylePresetForTag:n=>{let i=o();if(i)return zV(e.tree,i,n)??i.getNodeTextStylePreset(e.tree,n)??void 0},getStylePresetForLink:()=>o()?.getNodeLinkStylePreset(e.tree)??void 0}}):bI(e,r)}function zV(e,t,r){for(let o of t.getTextStylePresets(!1)){let n=e.getNodeWithTrait(o,Ao);if(n&&n.tag===r)return n}}var WV=["RGB","HSL","HEX","P3"];function wte(e){return WV.some(t=>t===e)}function Mte(e,t){let r=new Set,o=new Set;for(let n of t){if(o.has(n))continue;let i=e.get(n);if(i){if(St(i)){r.add(n);continue}for(let a of i.ancestors())if(!o.has(a.id)&&(o.add(a.id),a.cache.reset(),!!St(a))){r.add(a.id);break}}}return r}function $V(e){let t=_l.isP3String(e)?iu.fromString(e):_l(e);if(t)return t.r*.299+t.g*.587+t.b*.114+(1-t.a)*255}function Pte(e){let t=$V(e);if(G(t))return t>128?"light":"dark"}var cD={};zI(cD,{amethyst:()=>GV,aquaBlue:()=>UV,atomDark:()=>JV,atomLight:()=>_V,ayuDark:()=>jV,ayuLight:()=>XV,cmsTheme:()=>HV,cobalt2:()=>qV,cyberpunk:()=>KV,dracula:()=>YV,framerDark:()=>ta,framerLight:()=>QV,freeCodeCamp:()=>ZV,githubDark:()=>eD,githubLight:()=>tD,levelUp:()=>rD,magic:()=>nD,monokaiPro:()=>oD,neoCyan:()=>iD,nightOwl:()=>aD,sandpackDark:()=>sD,sandpackLight:()=>lD});var HV={colors:{surface1:Bt.cmsCodeBlockSurface1,surface3:Bt.cmsCodeBlockSurface3,disabled:Bt.cmsCodeBlockDisabled,accent:Bt.cmsCodeBlockAccent,errorSurface:Bt.cmsCodeBlockErrorSurface},syntax:{plain:Bt.cmsCodeBlockPlain,comment:Bt.cmsCodeBlockComment,keyword:Bt.cmsCodeBlockKeyword,tag:Bt.cmsCodeBlockTag,punctuation:Bt.cmsCodeBlockPunctuation,definition:Bt.cmsCodeBlockDefinition,property:Bt.cmsCodeBlockProperty,static:Bt.cmsCodeBlockStatic,string:Bt.cmsCodeBlockString},font:{mono:fg.family.monospace,lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},GV={colors:{surface1:"#000000",surface3:"#3b3b4f",disabled:"#858591",accent:"#a26cd6",errorSurface:"#3b3b4f"},syntax:{plain:"#ffffff",comment:"#858591",keyword:"#a26cdd",tag:"#f07178",punctuation:"#99c9ff",definition:"#ffffff",property:"#99c9ff",static:"#f78c6c",string:"#57d1b7"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"18px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},UV={colors:{surface1:"#f8f9fb",surface3:"#e4e7eb",disabled:"#C5C5C5",accent:"#2e7692"},syntax:{plain:"#1F2933",comment:"#A7B6C2",keyword:"#1A56DB",tag:"#1A56DB",punctuation:"#394b59",definition:"#A23DAD",property:"#2e7692",static:"#1A56DB",string:"#1992D4"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},JV={colors:{surface1:"#282c34",surface3:"#2c313c",disabled:"#4d4d4d",accent:"#c678dd",errorSurface:"#ffeceb"},syntax:{plain:"#a8b1c2",comment:"#757575",keyword:"#c678dd",tag:"#e06c75",punctuation:"#a8b1c2",definition:"#62aeef",property:"#d19a66",static:"#a8b1c2",string:"#98c379"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},_V={colors:{surface1:"#fafafa"},syntax:{plain:"#383a42",comment:"#a0a1a7",keyword:"#a626a4",tag:"#e45649",punctuation:"#383a42",definition:"#c18401",property:"#4078f2",static:"#986801",string:"#50a14f"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},jV={colors:{surface1:"#0c1017"},syntax:{comment:"#646a72",definition:"#5ac2ff",keyword:"#ff9040",plain:"#bfbdb6",property:"#ffb454",punctuation:"#bfbdb6",static:"#d2a6ff",string:"#80d962",tag:"#3bbae7"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},XV={colors:{surface1:"#fafafa"},syntax:{comment:"#aaaeb1",definition:"#3b9ee6",keyword:"#fa8e3e",plain:"#5c6166",property:"#f2ae49",punctuation:"#5c6167",static:"#a37acc",string:"#87b300",tag:"#56b4d5"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},qV={colors:{surface1:"#193549",surface3:"#1f4662",disabled:"#C5C5C5",accent:"#ffc600",errorSurface:"#0d3a58"},syntax:{plain:"#ffffff",comment:"#0088ff",keyword:"#ff9d00",tag:"#9effff",punctuation:"#e1efff",definition:"#ffc600",property:"#ffc600",static:"#ffee80",string:"#a5ff90"},font:{mono:'"Operator Mono", "Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},KV={colors:{surface1:"#051c30",surface3:"#042f40",disabled:"#C5C5C5",accent:"#fdf500",errorSurface:"#051c30"},syntax:{plain:"#ffffff",comment:"#1ac5b0",keyword:"#fdf500",tag:"#ffc600",punctuation:"#afd7fa",definition:"#ffc600",property:"#fdf500",static:"#e455ae",string:"#37ebf3"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},YV={colors:{surface1:"#282a36",surface3:"#44475a",disabled:"#6272a4",accent:"#bd93f9",errorSurface:"#44475a"},syntax:{plain:"#f8f8f2",comment:"#6272a4",keyword:"#ff79c6",tag:"#ff79c6",punctuation:"#ff79c6",definition:"#f8f8f2",property:"#50fa7b",static:"#bd93f9",string:"#f1fa8c"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},ta={colors:{surface1:"#161820",surface3:"#2f2f2f",disabled:"#4d4d4d",accent:"#0099ff",errorSurface:"#ffe0e8"},syntax:{plain:"#eeeeee",comment:"#666666",keyword:"#00BBFF",tag:"#00BBFF",punctuation:"#999999",definition:"#ffcc66",property:"#77dddd",static:"#ff8866",string:"#bb88ff"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},QV={colors:{surface1:"#fafafa",surface3:"#f3f3f3",disabled:"#c5c5c5",accent:"#0099ff",errorSurface:"#ffe0e8"},syntax:{plain:"#666666",comment:"#bbbbbb",keyword:"#0099ff",tag:"#0099ff",punctuation:"#bbbbbb",definition:"#FFAA00",property:"#33cccc",static:"#ff8866",string:"#8855ff"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},ZV={colors:{surface1:"#2a2a40",surface3:"#3b3b4f",disabled:"#858591",accent:"#dbb8ff",errorSurface:"#3b3b4f"},syntax:{plain:"#ffffff",comment:"#858591",keyword:"#dbb8ff",tag:"#f07178",punctuation:"#99c9ff",definition:"#ffffff",property:"#99c9ff",static:"#f78c6c",string:"#acd157"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},eD={colors:{surface1:"#0d1117",surface3:ta.colors?.surface3,disabled:ta.colors?.disabled,accent:ta.colors?.accent,errorSurface:ta.colors?.errorSurface},syntax:{comment:"#8b949e",definition:"#d2a8ff",keyword:"#ff7b72",plain:"#e6edf3",property:"#79c0ff",punctuation:"#e6edf3",static:"#7ee787",string:"#a5d6ff",tag:"#7ee787"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},tD={colors:{surface1:"#ffffff",surface3:"#f5f5f5",disabled:"#d1d4d8",accent:"#24292e"},syntax:{keyword:"#d73a49",property:"#005cc5",plain:"#24292e",static:"#032f62",string:"#032f62",definition:"#6f42c1",punctuation:"#24292e",tag:"#22863a",comment:"#6a737d"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"normal",property:"normal",keyword:"normal"}},rD={colors:{surface1:"#191324",surface3:"#524763",disabled:"#aaaaaa",accent:"#82d8d8",errorSurface:"#191324"},syntax:{plain:"#ffffff",comment:"#82d8d8",keyword:"#e54b4b",tag:"#ff26be",punctuation:"#9588aa",definition:"#82d8d8",property:"#82d8d8",static:"#82d8d8",string:"#a8fe39"},font:{mono:'"MonoLisa", "Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},oD={colors:{surface1:"#2D2A2E",surface3:"#484747",disabled:"#444344",accent:"#FFD866",errorSurface:"#c24038"},syntax:{plain:"rgb(252, 252, 250)",comment:"#757575",keyword:"rgb(255, 97, 136)",tag:"rgb(120, 220, 232)",punctuation:"rgb(147, 146, 147)",definition:"rgb(169, 220, 118)",property:"rgb(120, 220, 232)",static:"rgb(171, 157, 242)",string:"rgb(255, 216, 102)"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"italic",keyword:"normal"}},nD={colors:{surface1:"#f6f6f8",surface3:"#f6f6f8",disabled:"#C5C5C5",accent:"#ffa600",errorSurface:"#ffeceb"},syntax:{plain:"#151515",comment:"#cacacd",keyword:"#ffa600",tag:"#ff9a4d",punctuation:"#ffb3b3",definition:"#ff6f00",property:"#9900ff",static:"#FF453A",string:"#f53524"},font:{mono:'"Roboto Mono", monospace',lineHeight:"24px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},iD={colors:{surface1:"#2b3935",surface3:"#524763",disabled:"#aaaaaa",accent:"#82d8d8",errorSurface:"#191324"},syntax:{plain:"#ffffff",comment:"#82d8d8",keyword:"#e54b4b",tag:"#ff26be",punctuation:"#9588aa",definition:"#82d8d8",property:"#82d8d8",static:"#82d8d8",string:"#a8fe39"},font:{mono:'"MonoLisa", "Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"18px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},aD={colors:{surface1:"#011627",surface3:"#112331",disabled:"#4D4D4D",accent:"#c5e4fd",errorSurface:"#811e18"},syntax:{plain:"#d6deeb",comment:"#999999",keyword:"#c792ea",tag:"#7fdbca",punctuation:"#7fdbca",definition:"#82aaff",property:"#addb67",static:"#f78c6c",string:"#ecc48d"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"italic",keyword:"italic"}},sD={colors:{surface1:"#151515",surface3:"#2F2F2F",disabled:"#4D4D4D",accent:"#90e86f",errorSurface:"#b08df8"},syntax:{plain:"#f0fdaf",comment:"#757575",keyword:"#e5fd78",tag:"#f0fdaf",punctuation:"#ffffff",definition:"#eeeeee",property:"#90e86f",static:"#ffffff",string:"#dafecf"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},lD={colors:{surface1:"#ffffff",surface3:"#F3F3F3",disabled:"#C5C5C5",accent:"#3973E0",errorSurface:"#FCF1F0"},syntax:{plain:"#151515",comment:"#999",keyword:"#7C5AE3",tag:"#0971F1",punctuation:"#3B3B3B",definition:"#85A600",property:"#3B3B3B",static:"#3B3B3B",string:"#2E6BD0"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}};async function Bte(e){let t=Bc.on(jd).expect();return new Promise(r=>{pi(e)&&e.stores.canvasStore.setColorSamplerActive(!0),e.scheduler.runBeforeNextFrame(async()=>{let{color:o}=await t.sampleColor();e.scheduler.process(()=>{pi(e)&&e.stores.canvasStore.setColorSamplerActive(!1),r(o)})})})}function II(){return Tg.isOn("disableSecureCanvas")}var dD,uD,mD=new Promise((e,t)=>{dD=e,uD=t});function Jte(e){if(pi(e)){if(e.canvasSandbox?.sandbox.controlsVisibility)return Promise.resolve(e.canvasSandbox.sandbox.controlsVisibility);if(II())return Promise.resolve(new Xg(e))}return bg(e)?e.stores.sandboxStore.getControlsVisibility():mD}function nre(e,t,r){return ap(r)?gD(e,t,r):sp(r)?hD(e,t,r):ip(r)?yD(e,t,r):null}function pD(e,t){return We(t*Math.sin(Jl(e)),t*Math.cos(Jl(e))*-1)}function fD(e,t){if(e.type==="conic"){let{angle:r,radius:o}=e;return t.map(n=>{let i=r+n.position*360;return pD(i,o)})}return t.map(r=>gt.pointAtPercentDistance(e.axis,r.position))}function hD(e,t,r){let o=e.getRect(t),n=r.centerAnchorX*o.width,i=r.centerAnchorY*o.height,a=r.widthFactor*o.width,s=r.heightFactor*o.height,l=a*2,c=s*2,m=a+n,u=i-s,p={width:l,height:c},f=e.convertPointToCanvas(t,{x:n,y:i}),h=e.convertPointToCanvas(t,{x:m,y:i}),y=e.convertPointToCanvas(t,{x:n,y:u}),{rotation:b}=e.convertRectToCanvasWithRotation(t),S=gt(f,h);return{type:"radial",start:f,end:h,center:gt.pointAtPercentDistance(S,0),axis:S,rotation:b,size:p,topCenter:y}}function gD(e,t,r){let o=e.getRect(t),n={x:o.width/2,y:o.height/2},i=e.convertPointToCanvas(t,n),a=r.angle*Math.PI/180,s={x:-Math.sin(a)*100,y:Math.cos(a)*100},l=e.convertPointToCanvas(t,We.add(n,s)),c=gt(i,l),m=Wl(r.angle),u=et.pointsAtOrigin(o),p=Math.floor(m/90)+3,f=u[p%4],h=e.convertPointToCanvas(t,f),y=u[(p+2)%4],b=e.convertPointToCanvas(t,y),S=gt.perpendicular(c,h),I=gt.intersection(S,c);if(!I)return null;let T=We.subtract(i,I),x=We.add(I,T,T),V=u[(p+1)%4],L=e.convertPointToCanvas(t,V),F=gt.perpendicular(S,L),J=gt.perpendicular(c,i),$=gt.intersection(F,J);if(!$)return null;let K={width:We.distance($,i)*2,height:We.distance(I,x)};return{type:"linear",start:I,end:x,center:i,axis:gt(I,x),startCorner:h,endCorner:b,size:K}}function yD(e,t,r){let o=e.getRect(t),n=e.convertPointToCanvas(t,{x:o.width/2*r.centerAnchorX/.5,y:o.height/2*r.centerAnchorY/.5}),[i,a]=et.midPoints(o),s=et.center(o),l=We.distance(s,i),c=We.distance(s,a),m=Math.min(l,c),u=e.totalAncestorRotation(t),p=Wl(u+r.angle);return{type:"conic",start:We(s.x,s.y-m),center:n,rotation:0,radius:m,angle:p}}var ire=(e,t,r,o)=>{let n=fD(e,t),i=n[0],a=n[n.length-1];if(i.x===a.x&&i.y===a.y&&We.distance(r,i)<o)return!0;let s=gt(i,a),l=gt.perpendicular(s,r),c=gt.intersection(s,l);if(e.type==="radial"&&We.distance(r,e.topCenter)<o)return!0;if(e.type==="conic")return We.distance(r,e.center)<=e.radius+40;if(!c)return!1;let m=We.distance(r,c),u=We.distance(r,i),p=We.distance(r,a),f=We.distance(i,a);return u>f&&p<u?Math.max(p,m)<o:p>f&&u<p?Math.max(u,m)<o:m<o};function SD(e,t){let r=e.reduce((a,s)=>Math.abs(a.position-t)<Math.abs(s.position-t)?a:s),o=e.findIndex(a=>a===r),n=r.position-t>0?o-1:o+1,i=e[n]??r;return[r,i]}function are(e,t,r,o){let[n,i]=SD(t,r),a=ca([n.position,i.position],[0,1])(r),s=zd(e,n,o),l=zd(e,i,o);return ca([0,1],[s,l])(a)}function zd(e,t,r){let o=t.value;if(!xa(o))return o;let n=Zu(o),i=n?Sg(n,e):null;return i&&bu(i)?i.colorForMode(r):em(o)||"transparent"}function sre(e,t,r){return t.map(o=>o.merge({value:zd(e,o,r)}))}function lre(e,t){let r=gt(t,e.center),o=e.center.x,n=e.center.y-e.radius,i=gt(We(o,n),e.center),a=gt.intersectionAngle(i,r),l=Wl(a)-e.angle,c=Wl(l);return Math.abs(c/360)}function Wl(e){if(e===360)return e;let t=e%360;return t<0?360+t:t}function cre(e){return e.sort((t,r)=>t.position-r.position)}function dre(e){let t=!1,r=ca([e.stops[0]?.position??0,e.stops[e.stops.length-1]?.position??1],[0,1]),o=e.stops.map(n=>((n.position<0||n.position>1)&&(t=!0),n.merge({position:r(n.position)})));return t?o:void 0}var TI="--top-flash-inset",NI="--right-flash-inset",wI="--bottom-flash-inset",RI="--left-flash-inset",xI="--flash-radius",Wd="flash_fh6lfgu",$d="defaultStyle_d8eehx6",MI="warningStyle_wdvaq7i",VI="glowStyle_ghqxg7a";var oa=2;function DI(e="default"){switch(e){case"glow":return[VI];case"default":return[$d];case"warning":return[$d,MI]}}function ra(e,t,r){e.style.setProperty(t,`${r??0}px`)}function kI(e,t){ra(e,TI,t?.inset?.top),ra(e,NI,t?.inset?.right),ra(e,wI,t?.inset?.bottom),ra(e,RI,t?.inset?.left),t?.radius&&ra(e,xI,t.radius),e.addEventListener("animationend",function r(){e.classList.remove(Wd),e.classList.remove(...DI(t?.style)),e.removeEventListener("animationend",r)}),e.classList.add(Wd),e.classList.add(...DI(t?.style))}function PI(e){kI(e,{style:"default",inset:{top:oa,right:-(xc.panelPadding-oa),left:-(xc.panelPadding-oa),bottom:oa}})}function FI({id:e,flash:t}){let r=document.getElementById(e);r instanceof HTMLDivElement&&(jb(r,{scrollMode:"if-needed",block:"start"}),t&&PI(r))}function LI(e){let t=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:document.defaultView,detail:1,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null});e.dispatchEvent(t)}var EI="breadcrumb-collection";function vD(e,t,r){let o=e.tree.getNode(r);if(!o)return null;if(!Jo(o))return{variableProvider:o,variableId:t};let n=e.tree.getNodeWithTrait(o.dataRepeaterArray.providerId,hm);return n?{variableProvider:n,variableId:o.dataRepeaterArray.id}:null}function jre(e,t,r){let{chromeStore:o,modalStore:n,variablesStore:i,contentManagementStore:a,scopeStore:s,codeEditorStore:l,selectionStore:c}=e.stores;if(r===Zm){o.setLocalizationsVisible(!0);return}let m=vD(e,t,r);if(!m)return;let{variableProvider:u,variableId:p}=m;if(nm(u))i.selectedVariableId=p,n.set({type:"Variables",source:"variableReference"});else if(W(u)||$r(u)){let{dataIdentifier:f}=u;if(!f)return;if(br(f)){if(o.isViewOnly)return;n.set({type:"Confirmation",title:"External Collection",description:`This is an external ${"Collection".toLowerCase()} preview. To edit, choose a collection to swap in or create a local copy of this collection.`,confirmLabel:"View Options",source:"edit_action",onConfirm:()=>{o.chromeIsVisible=!0,ut(u)?(c.set(u.id),e.scheduler.runAtEndOfFrame(()=>FI({id:"data-repeater-panel",flash:!0}))):W(u)?e.scheduler.runAtEndOfFrame(()=>{let b=document.getElementById(EI);b&&LI(b)}):void 0}});return}let h=fi(e.tree,f);if(h){W(u)&&g(u.isLoaded(),"Web page node should be loaded");let b=bD({collectionNode:h,engine:e,variableId:p,variableProvider:u});b?(a.pushExistingItemToOverlayStack(b.collectionItemNode.id),a.setCollectionItemControlToHighlight(b.variableId)):(s.select(tp,{keepHistory:!1}),c.set(h),a.setCollectionItemControlToHighlight(p));return}let y=ey(P,f);y&&l.editFile(y.file)}}function bD({collectionNode:e,engine:t,variableId:r,variableProvider:o}){let n=AI({engine:t,variableProvider:o});if(n)return n;let i=r.split(".");g(i.length>=0,"VariableID must not be empty");let a=Ni(o,t.stores.treeStore.sandboxCollectionData),s=t.tree.getNodeWithTrait(a,ao);if(s)return Aa(t.tree,t.stores.treeStore.sandboxCollectionData,r,s,e)}function AI({engine:e,variableProvider:t}){if(!Tf(t))return;let[r,...o]=t.collectionFilters?.filters.flatMap(l=>l?.itemKey!=="id"?[]:l.transforms).flatMap(l=>ID(l)??[])??[];if(!r?.providerId||o.length>0)return;let n=e.tree.getNode(r.providerId);if(!n||!(Ee(n)||W(n))||!n.dataIdentifier)return;let i=fi(e.tree,n.dataIdentifier);if(!i)return;let a=Ni(n,e.stores.treeStore.sandboxCollectionData),s=e.tree.get(a);if(ao(s))return s?{collectionItemNode:s,collectionNode:i,variableId:r.id}:AI({engine:e,variableProvider:n})}function ID(e){if(!(e.name!=="equals"&&e.name!=="isIncludedIn"||!me(e.value)||!e.value.providerId))return e.value}var qre="My website";var Kre="My description",Yre="yoursite.url";export{Bc as a,lr as b,EF as c,AF as d,BF as e,OF as f,zF as g,WF as h,$F as i,HF as j,GF as k,UF as l,JF as m,_F as n,jF as o,cN as p,XF as q,ZF as r,eL as s,Bte as t,II as u,dD as v,uD as w,Jte as x,wQ as y,Ki as z,Yi as A,HQ as B,ZQ as C,jb as D,CZ as E,NZ as F,wZ as G,aI as H,RZ as I,VZ as J,DZ as K,wD as L,RD as M,xD as N,EZ as O,WZ as P,lI as Q,_Z as R,Zi as S,Al as T,ree as U,oee as V,BS as W,zS as X,pL as Y,vV as Z,fee as _,bV as $,sn as aa,hee as ba,SI as ca,gte as da,Tte as ea,nre as fa,pD as ga,fD as ha,ire as ia,are as ja,zd as ka,sre as la,lre as ma,cre as na,dre as oa,WS as pa,oa as qa,kI as ra,FI as sa,EI as ta,jre as ua,WV as va,wte as wa,Mte as xa,_I as ya,bk as za,Ik as Aa,cB as Ba,aC as Ca,dB as Da,MC as Ea,u_ as Fa,ml as Ga,yl as Ha,Cl as Ia,E6 as Ja,jv as Ka,H4 as La,G4 as Ma,bx as Na,Ix as Oa,Tx as Pa,Nx as Qa,U4 as Ra,qv as Sa,nn as Ta,vb as Ua,Sb as Va,hN as Wa,LL as Xa,yN as Ya,Q9 as Za,r7 as _a,an as $a,Do as ab,US as bb,Rb as cb,ni as db,Db as eb,eY as fb,Pb as gb,Fb as hb,Eb as ib,ii as jb,Ob as kb,zb as lb,Wb as mb,_M as nb,KY as ob,Pte as pb,qre as qb,Kre as rb,Yre as sb,tQ as tb,$b as ub,Hb as vb,HV as wb,eD as xb,tD as yb,cD as zb};
//# sourceMappingURL=https://app.framerstatic.com/chunk-UIOBUWOL.mjs.map
